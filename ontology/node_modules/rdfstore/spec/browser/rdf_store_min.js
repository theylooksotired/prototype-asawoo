!function(na){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=na();else if("function"==typeof define&&define.amd)define([],na);else{var q;"undefined"!=typeof window?q=window:"undefined"!=typeof global?q=global:"undefined"!=typeof self&&(q=self);q.rdfstore=na()}}(function(){return function q(z,u,k){function n(a,e){if(!u[a]){if(!z[a]){var f="function"==typeof require&&require;if(!e&&f)return f(a,!0);if(b)return b(a,!0);f=Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",
f;}f=u[a]={exports:{}};z[a][0].call(f.exports,function(b){var e=z[a][1][b];return n(e?e:b)},f,f.exports,q,z,u,k)}return u[a].exports}for(var b="function"==typeof require&&require,d=0;d<k.length;d++)n(k[d]);return n}({1:[function(q,z,u){(function(k){var n=q("./query_engine").QueryEngine,b=q("./quad_backend").QuadBackend,d=q("./persistent_quad_backend").QuadBackend,a=q("./lexicon").Lexicon,e=q("./persistent_lexicon").Lexicon,f=q("./rdf_model"),h=q("./utils");Store=function(c,f){var h=null,l=null;if(0==
arguments.length)l={};else if(1==arguments.length)l={},h=c;else if(1<arguments.length)l=c,h=f;else throw"An optional argument map and a callback must be provided";null==l.treeOrder&&(l.treeOrder=15);var r=a,k=b;!0===l.persistent&&(r=e,k=d);this.functionMap={};var D=this;this.customFns={};new r(function(a){var b=function(){new k(l,function(b){var e=function(){l.backend=b;l.lexicon=a;D.engine=new n(l);h(null,D)};l.overwrite?b.clear(e):e()})};!0===l.overwrite?a.clear(b):b()},l.name)};Store.prototype.rdf=
f.rdf;Store.prototype.rdf.api=f;Store.prototype.registerCustomFunction=function(a,b){this.customFns[a]=b;this.engine.setCustomFunctions(this.customFns)};Store.prototype.execute=function(){if(3===arguments.length)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2]);else if(4===arguments.length)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2],arguments[3]);else{var a,b;1===arguments.length?(a=arguments[0],b=function(){}):2===arguments.length&&(a=arguments[0],b=arguments[1]);
this.engine.execute(a,b)}};Store.prototype.executeWithEnvironment=function(){var a,b,e;if(3===arguments.length){a=arguments[0];var f=function(){};b=arguments[1];e=arguments[2]}else 4===arguments.length&&(a=arguments[0],f=arguments[3],b=arguments[1],e=arguments[2]);b=h.map(b,function(a){return{token:"uri",value:a}});e=h.map(e,function(a){return{token:"uri",value:a}});this.engine.execute(a,f,b,e)};Store.prototype.graph=function(){var a=null,b=null;if(1===arguments.length)b=arguments[0]||function(){},
a=this.engine.lexicon.defaultGraphUri;else if(2===arguments.length)b=arguments[1]||function(){},a=arguments[0];else throw"An optional graph URI and a callback function must be provided";null!=this.rdf.resolve(a)&&(a=this.rdf.resolve(a));this.engine.execute("CONSTRUCT { ?s ?p ?o } WHERE { GRAPH <"+a+"> { ?s ?p ?o } }",b)};Store.prototype.node=function(){var a=null,b=null,e=null;if(2===arguments.length)e=arguments[0],b=arguments[1]||function(){},a=this.engine.lexicon.defaultGraphUri;else if(3===arguments.length)e=
arguments[0],a=arguments[1],b=arguments[2]||function(){};else throw"An optional graph URI, node URI and a callback function must be provided";null!=this.rdf.resolve(a)&&(a=this.rdf.resolve(a));null!=this.rdf.resolve(e)&&(e=this.rdf.resolve(e));this.engine.execute("CONSTRUCT { <"+e+"> ?p ?o } WHERE { GRAPH <"+a+"> { <"+e+"> ?p ?o } }",b)};Store.prototype.startObservingNode=function(){var a,b,e;2===arguments.length?(a=arguments[0],e=arguments[1],this.engine.callbacksBackend.observeNode(a,e,function(){})):
3===arguments.length&&(a=arguments[0],b=arguments[1],e=arguments[2],this.engine.callbacksBackend.observeNode(a,b,e,function(){}))};Store.prototype.stopObservingNode=function(a){this.engine.callbacksBackend.stopObservingNode(a)};Store.prototype.startObservingQuery=function(a,b,e){null!=e?this.engine.callbacksBackend.observeQuery(a,b,e):this.engine.callbacksBackend.observeQuery(a,b,function(){})};Store.prototype.stopObservingQuery=function(a){this.engine.callbacksBackend.stopObservingQuery(a)};Store.prototype.subscribe=
function(a,b,e,d,r){var k=this,D=function(a,b){var e=[],c={blanks:{},outCache:{}},d=[];h.each(b,function(a){var b=f.buildRDFResource(a.subject,d,k.engine,c),h=f.buildRDFResource(a.predicate,d,k.engine,c);a=f.buildRDFResource(a.object,d,k.engine,c);null!=b&&null!=h&&null!=a&&(a=new f.Triple(b,h,a),e.push(a))});r(a,e)};this.functionMap[r]=D;this.engine.callbacksBackend.subscribe(a,b,e,d,D,function(){})};Store.prototype.unsubscribe=function(a){this.engine.callbacksBackend.unsubscribe(this.functionMap[a]);
delete this.functionMap[a]};Store.prototype.setPrefix=function(a,b){this.rdf.setPrefix(a,b)};Store.prototype.setDefaultPrefix=function(a){this.rdf.setDefaultPrefix(a)};Store.prototype.insert=function(){var a,b,e;if(1===arguments.length)b=arguments[0],e=function(){};else if(2===arguments.length)b=arguments[0],e=arguments[1]||function(){};else if(3===arguments.length)b=arguments[0],a=this.rdf.createNamedNode(arguments[1]),e=arguments[2]||function(){};else throw"The triples to insert, an optional graph and callback must be provided";
var f="",h=this;b.forEach(function(a){f=f+h._nodeToQuery(a.subject)+h._nodeToQuery(a.predicate)+h._nodeToQuery(a.object)+"."});f=null!=a?"INSERT DATA { GRAPH "+this._nodeToQuery(a)+" { "+f+" } }":"INSERT DATA { "+f+" }";this.engine.execute(f,e)};Store.prototype._nodeToQuery=function(a){if("NamedNode"===a.interfaceName){var b=this.rdf.resolve(a.valueOf());return null!=b?"<"+b+">":"<"+a.valueOf()+">"}return a.toString()};Store.prototype.delete=function(){var a,b,e;if(1===arguments.length)b=arguments[0],
e=function(){};else if(2===arguments.length)b=arguments[0],e=arguments[1]||function(){};else if(3===arguments.length)b=arguments[0],a=this.rdf.createNamedNode(arguments[1]),e=arguments[2]||function(){};else throw"The triples to delete, an optional graph and callback must be provided";var f="",h=this;b.forEach(function(a){f=f+h._nodeToQuery(a.subject)+h._nodeToQuery(a.predicate)+h._nodeToQuery(a.object)+"."});f=null!=a?"DELETE DATA { GRAPH "+this._nodeToQuery(a)+" { "+f+" } }":"DELETE DATA { "+f+" }";
this.engine.execute(f,e)};Store.prototype.clear=function(){var a,b;if(0===arguments.length)a=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),b=function(){};else if(1===arguments.length)a=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),b=arguments[0]||function(){};else if(2===arguments.length)a=this.rdf.createNamedNode(arguments[0]),b=arguments[1]||function(){};else throw"The optional graph and a callback must be provided";a="CLEAR GRAPH "+this._nodeToQuery(a);this.engine.execute(a,
b)};Store.prototype.setBatchLoadEvents=function(a){this.engine.eventsOnBatchLoad=a};Store.prototype.registerDefaultNamespace=function(a,b){this.rdf.prefixes.set(a,b);this.engine.registerDefaultNamespace(a,b)};Store.prototype.registerDefaultProfileNamespaces=function(){var a=this.rdf.prefixes.values(),b;for(b in a)this.registerDefaultNamespace(b,a[b])};Store.prototype.load=function(){var a,b,e,f,h={};if(3===arguments.length)e=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),a=arguments[0],
b=arguments[1],f=arguments[2]||function(){};else if(4===arguments.length)a=arguments[0],b=arguments[1],h=arguments[2],"string"===typeof h?(e=this.rdf.createNamedNode(h),h={}):(e=this.rdf.createNamedNode(h.graph||this.engine.lexicon.defaultGraphUri),delete h.graph),f=arguments[3]||function(){};else if(2===arguments.length)throw"The mediaType of the parser, the data a callback and an optional graph must be provided";if("remote"===a)b=this.rdf.createNamedNode(b),this.engine.execute("LOAD <"+b.valueOf()+
"> INTO GRAPH <"+e.valueOf()+">",f);else{var d=this,k=this.engine.rdfLoader.parsers[a];if(!k)return f(Error("Cannot find parser for the provided media type:"+a));a=[k,{token:"uri",value:e.valueOf()},b,h,function(a,b){a?f(a,b):d.engine.batchLoad(b,function(a){null!=a?f(null,a):f(Error("Erro batch-loading triples."))})}];b&&"string"===typeof b&&0===b.indexOf("file://")?this.engine.rdfLoader.loadFromFile.apply(null,a):this.engine.rdfLoader.tryToParse.apply(null,a)}};Store.prototype.registerParser=function(a,
b){this.engine.rdfLoader.registerParser(a,b)};Store.prototype.registeredGraphs=function(a){this.engine.lexicon.registeredGraphs(!0,function(b){b=h.map(b,function(a){return new f.NamedNode(a)});a(null,b)})};Store.prototype.getNetworkTransport=function(){return NetworkTransport};Store.prototype.setNetworkTransport=function(a){NetworkTransport=a};Store.prototype.close=function(a){null==a&&(a=function(){});this.engine.close?this.engine.close(a):a()};Store.VERSION="0.9.4";z.exports.Store=Store;z.exports.create=
function(){return 1==arguments.length?new Store(arguments[0]):2==arguments.length?new Store(arguments[0],arguments[1]):new Store};z.exports.connect=function(){(1==arguments.length?arguments[0]:2==arguments.length?arguments[1]:arguments[2])(Error("Store#connect is not supported in the 1.x series of the library"))}}).call(this,"/src")},{"./lexicon":49,"./persistent_lexicon":52,"./persistent_quad_backend":53,"./quad_backend":54,"./query_engine":56,"./rdf_model":60,"./utils":62}],2:[function(q,z,u){},
{}],3:[function(q,z,u){function k(a,b,e){if(!(this instanceof k))return new k(a,b,e);var c=typeof a,f;if("number"===c)f=0<a?a>>>0:0;else if("string"===c){if("base64"===b)for(a=(a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")).replace(H,"");0!==a.length%4;)a+="=";f=k.byteLength(a,b)}else if("object"===c&&null!==a)"Buffer"===a.type&&v(a.data)&&(a=a.data),f=0<+a.length?Math.floor(+a.length):0;else throw new TypeError("must start with number, buffer, array or string");if(this.length>G)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+
G.toString(16)+" bytes");var h;k.TYPED_ARRAY_SUPPORT?h=k._augment(new Uint8Array(f)):(h=this,h.length=f,h._isBuffer=!0);if(k.TYPED_ARRAY_SUPPORT&&"number"===typeof a.byteLength)h._set(a);else{var d=a;if(v(d)||k.isBuffer(d)||d&&"object"===typeof d&&"number"===typeof d.length)if(k.isBuffer(a))for(b=0;b<f;b++)h[b]=a.readUInt8(b);else for(b=0;b<f;b++)h[b]=(a[b]%256+256)%256;else if("string"===c)h.write(a,0,b);else if("number"===c&&!k.TYPED_ARRAY_SUPPORT&&!e)for(b=0;b<f;b++)h[b]=0}return h}function n(a,
b,e,c){for(var f=[],h=0;h<b.length;h++)f.push(b.charCodeAt(h)&255);return l(f,a,e,c)}function b(a,b,e){var c="";for(e=Math.min(a.length,e);b<e;b++)c+=String.fromCharCode(a[b]);return c}function d(a,b,e){if(0!==a%1||0>a)throw new RangeError("offset is not uint");if(a+b>e)throw new RangeError("Trying to access beyond buffer length");}function a(a,b,e,c,f,h){if(!k.isBuffer(a))throw new TypeError("buffer must be a Buffer instance");if(b>f||b<h)throw new TypeError("value is out of bounds");if(e+c>a.length)throw new TypeError("index out of range");
}function e(a,b,e,c){0>b&&(b=65535+b+1);for(var f=0,h=Math.min(a.length-e,2);f<h;f++)a[e+f]=(b&255<<8*(c?f:1-f))>>>8*(c?f:1-f)}function f(a,b,e,c){0>b&&(b=4294967295+b+1);for(var f=0,h=Math.min(a.length-e,4);f<h;f++)a[e+f]=b>>>8*(c?f:3-f)&255}function h(a,b,e,c,f,h){if(b>f||b<h)throw new TypeError("value is out of bounds");if(e+c>a.length)throw new TypeError("index out of range");}function c(a,b,e,c,f){f||h(a,b,e,4,3.4028234663852886E38,-3.4028234663852886E38);D.write(a,b,e,c,23,4);return e+4}function g(a,
b,e,c,f){f||h(a,b,e,8,1.7976931348623157E308,-1.7976931348623157E308);D.write(a,b,e,c,52,8);return e+8}function m(a){for(var b=[],e=0;e<a.length;e++){var c=a.charCodeAt(e);if(127>=c)b.push(c);else{var f=e;55296<=c&&57343>=c&&e++;c=encodeURIComponent(a.slice(f,e+1)).substr(1).split("%");for(f=0;f<c.length;f++)b.push(parseInt(c[f],16))}}return b}function l(a,b,e,c,f){f&&(c-=c%f);for(f=0;f<c&&!(f+e>=b.length||f>=a.length);f++)b[f+e]=a[f];return f}function r(a){try{return decodeURIComponent(a)}catch(b){return String.fromCharCode(65533)}}
var A=q("base64-js"),D=q("ieee754"),v=q("is-array");u.Buffer=k;u.SlowBuffer=k;u.INSPECT_MAX_BYTES=50;k.poolSize=8192;var G=1073741823;k.TYPED_ARRAY_SUPPORT=function(){try{var a=new ArrayBuffer(0),b=new Uint8Array(a);b.foo=function(){return 42};return 42===b.foo()&&"function"===typeof b.subarray&&0===(new Uint8Array(1)).subarray(1,1).byteLength}catch(e){return!1}}();k.isBuffer=function(a){return!(null==a||!a._isBuffer)};k.compare=function(a,b){if(!k.isBuffer(a)||!k.isBuffer(b))throw new TypeError("Arguments must be Buffers");
for(var e=a.length,c=b.length,f=0,h=Math.min(e,c);f<h&&a[f]===b[f];f++);f!==h&&(e=a[f],c=b[f]);return e<c?-1:c<e?1:0};k.isEncoding=function(a){switch(String(a).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "binary":case "base64":case "raw":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};k.concat=function(a,b){if(!v(a))throw new TypeError("Usage: Buffer.concat(list[, length])");if(0===a.length)return new k(0);if(1===a.length)return a[0];var e;
if(void 0===b)for(e=b=0;e<a.length;e++)b+=a[e].length;var c=new k(b),f=0;for(e=0;e<a.length;e++){var h=a[e];h.copy(c,f);f+=h.length}return c};k.byteLength=function(a,b){var e;a+="";switch(b||"utf8"){case "ascii":case "binary":case "raw":e=a.length;break;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":e=2*a.length;break;case "hex":e=a.length>>>1;break;case "utf8":case "utf-8":e=m(a).length;break;case "base64":e=A.toByteArray(a).length;break;default:e=a.length}return e};k.prototype.length=void 0;
k.prototype.parent=void 0;k.prototype.toString=function(a,e,c){var f=!1;e>>>=0;c=void 0===c||Infinity===c?this.length:c>>>0;a||(a="utf8");0>e&&(e=0);c>this.length&&(c=this.length);if(c<=e)return"";for(;;)switch(a){case "hex":a=e;e=this.length;if(!a||0>a)a=0;if(!c||0>c||c>e)c=e;for(e="";a<c;a++)f=this[a],f=16>f?"0"+f.toString(16):f.toString(16),e+=f;return e;case "utf8":case "utf-8":a=e;f=e="";for(c=Math.min(this.length,c);a<c;a++)127>=this[a]?(e+=r(f)+String.fromCharCode(this[a]),f=""):f+="%"+this[a].toString(16);
return e+r(f);case "ascii":return b(this,e,c);case "binary":return b(this,e,c);case "base64":return a=e,c=0===a&&c===this.length?A.fromByteArray(this):A.fromByteArray(this.slice(a,c)),c;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":c=this.slice(e,c);a="";for(e=0;e<c.length;e+=2)a+=String.fromCharCode(c[e]+256*c[e+1]);return a;default:if(f)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase();f=!0}};k.prototype.equals=function(a){if(!k.isBuffer(a))throw new TypeError("Argument must be a Buffer");
return 0===k.compare(this,a)};k.prototype.inspect=function(){var a="",b=u.INSPECT_MAX_BYTES;0<this.length&&(a=this.toString("hex",0,b).match(/.{2}/g).join(" "),this.length>b&&(a+=" ... "));return"<Buffer "+a+">"};k.prototype.compare=function(a){if(!k.isBuffer(a))throw new TypeError("Argument must be a Buffer");return k.compare(this,a)};k.prototype.get=function(a){console.log(".get() is deprecated. Access using array indexes instead.");return this.readUInt8(a)};k.prototype.set=function(a,b){console.log(".set() is deprecated. Access using array indexes instead.");
return this.writeUInt8(a,b)};k.prototype.write=function(a,b,e,c){if(isFinite(b))isFinite(e)||(c=e,e=void 0);else{var f=c;c=b;b=e;e=f}b=Number(b)||0;f=this.length-b;e?(e=Number(e),e>f&&(e=f)):e=f;c=String(c||"utf8").toLowerCase();switch(c){case "hex":b=Number(b)||0;c=this.length-b;e?(e=Number(e),e>c&&(e=c)):e=c;c=a.length;if(0!==c%2)throw Error("Invalid hex string");e>c/2&&(e=c/2);for(c=0;c<e;c++){f=parseInt(a.substr(2*c,2),16);if(isNaN(f))throw Error("Invalid hex string");this[b+c]=f}a=c;break;case "utf8":case "utf-8":a=
l(m(a),this,b,e);break;case "ascii":a=n(this,a,b,e);break;case "binary":a=n(this,a,b,e);break;case "base64":a=l(A.toByteArray(a),this,b,e);break;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":for(var h,f=[],d=0;d<a.length;d++)h=a.charCodeAt(d),c=h>>8,h%=256,f.push(h),f.push(c);a=l(f,this,b,e,2);break;default:throw new TypeError("Unknown encoding: "+c);}return a};k.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};k.prototype.slice=function(a,
b){var e=this.length;a=~~a;b=void 0===b?e:~~b;0>a?(a+=e,0>a&&(a=0)):a>e&&(a=e);0>b?(b+=e,0>b&&(b=0)):b>e&&(b=e);b<a&&(b=a);if(k.TYPED_ARRAY_SUPPORT)return k._augment(this.subarray(a,b));for(var e=b-a,c=new k(e,void 0,!0),f=0;f<e;f++)c[f]=this[f+a];return c};k.prototype.readUInt8=function(a,b){b||d(a,1,this.length);return this[a]};k.prototype.readUInt16LE=function(a,b){b||d(a,2,this.length);return this[a]|this[a+1]<<8};k.prototype.readUInt16BE=function(a,b){b||d(a,2,this.length);return this[a]<<8|
this[a+1]};k.prototype.readUInt32LE=function(a,b){b||d(a,4,this.length);return(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]};k.prototype.readUInt32BE=function(a,b){b||d(a,4,this.length);return 16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])};k.prototype.readInt8=function(a,b){b||d(a,1,this.length);return this[a]&128?-1*(255-this[a]+1):this[a]};k.prototype.readInt16LE=function(a,b){b||d(a,2,this.length);var e=this[a]|this[a+1]<<8;return e&32768?e|4294901760:e};k.prototype.readInt16BE=
function(a,b){b||d(a,2,this.length);var e=this[a+1]|this[a]<<8;return e&32768?e|4294901760:e};k.prototype.readInt32LE=function(a,b){b||d(a,4,this.length);return this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24};k.prototype.readInt32BE=function(a,b){b||d(a,4,this.length);return this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]};k.prototype.readFloatLE=function(a,b){b||d(a,4,this.length);return D.read(this,a,!0,23,4)};k.prototype.readFloatBE=function(a,b){b||d(a,4,this.length);return D.read(this,a,!1,
23,4)};k.prototype.readDoubleLE=function(a,b){b||d(a,8,this.length);return D.read(this,a,!0,52,8)};k.prototype.readDoubleBE=function(a,b){b||d(a,8,this.length);return D.read(this,a,!1,52,8)};k.prototype.writeUInt8=function(b,e,c){b=+b;e>>>=0;c||a(this,b,e,1,255,0);k.TYPED_ARRAY_SUPPORT||(b=Math.floor(b));this[e]=b;return e+1};k.prototype.writeUInt16LE=function(b,c,f){b=+b;c>>>=0;f||a(this,b,c,2,65535,0);k.TYPED_ARRAY_SUPPORT?(this[c]=b,this[c+1]=b>>>8):e(this,b,c,!0);return c+2};k.prototype.writeUInt16BE=
function(b,c,f){b=+b;c>>>=0;f||a(this,b,c,2,65535,0);k.TYPED_ARRAY_SUPPORT?(this[c]=b>>>8,this[c+1]=b):e(this,b,c,!1);return c+2};k.prototype.writeUInt32LE=function(b,e,c){b=+b;e>>>=0;c||a(this,b,e,4,4294967295,0);k.TYPED_ARRAY_SUPPORT?(this[e+3]=b>>>24,this[e+2]=b>>>16,this[e+1]=b>>>8,this[e]=b):f(this,b,e,!0);return e+4};k.prototype.writeUInt32BE=function(b,e,c){b=+b;e>>>=0;c||a(this,b,e,4,4294967295,0);k.TYPED_ARRAY_SUPPORT?(this[e]=b>>>24,this[e+1]=b>>>16,this[e+2]=b>>>8,this[e+3]=b):f(this,b,
e,!1);return e+4};k.prototype.writeInt8=function(b,e,c){b=+b;e>>>=0;c||a(this,b,e,1,127,-128);k.TYPED_ARRAY_SUPPORT||(b=Math.floor(b));0>b&&(b=255+b+1);this[e]=b;return e+1};k.prototype.writeInt16LE=function(b,c,f){b=+b;c>>>=0;f||a(this,b,c,2,32767,-32768);k.TYPED_ARRAY_SUPPORT?(this[c]=b,this[c+1]=b>>>8):e(this,b,c,!0);return c+2};k.prototype.writeInt16BE=function(b,c,f){b=+b;c>>>=0;f||a(this,b,c,2,32767,-32768);k.TYPED_ARRAY_SUPPORT?(this[c]=b>>>8,this[c+1]=b):e(this,b,c,!1);return c+2};k.prototype.writeInt32LE=
function(b,e,c){b=+b;e>>>=0;c||a(this,b,e,4,2147483647,-2147483648);k.TYPED_ARRAY_SUPPORT?(this[e]=b,this[e+1]=b>>>8,this[e+2]=b>>>16,this[e+3]=b>>>24):f(this,b,e,!0);return e+4};k.prototype.writeInt32BE=function(b,e,c){b=+b;e>>>=0;c||a(this,b,e,4,2147483647,-2147483648);0>b&&(b=4294967295+b+1);k.TYPED_ARRAY_SUPPORT?(this[e]=b>>>24,this[e+1]=b>>>16,this[e+2]=b>>>8,this[e+3]=b):f(this,b,e,!1);return e+4};k.prototype.writeFloatLE=function(a,b,e){return c(this,a,b,!0,e)};k.prototype.writeFloatBE=function(a,
b,e){return c(this,a,b,!1,e)};k.prototype.writeDoubleLE=function(a,b,e){return g(this,a,b,!0,e)};k.prototype.writeDoubleBE=function(a,b,e){return g(this,a,b,!1,e)};k.prototype.copy=function(a,b,e,c){e||(e=0);c||0===c||(c=this.length);b||(b=0);if(c!==e&&0!==a.length&&0!==this.length){if(c<e)throw new TypeError("sourceEnd < sourceStart");if(0>b||b>=a.length)throw new TypeError("targetStart out of bounds");if(0>e||e>=this.length)throw new TypeError("sourceStart out of bounds");if(0>c||c>this.length)throw new TypeError("sourceEnd out of bounds");
c>this.length&&(c=this.length);a.length-b<c-e&&(c=a.length-b+e);c-=e;if(1E3>c||!k.TYPED_ARRAY_SUPPORT)for(var f=0;f<c;f++)a[f+b]=this[f+e];else a._set(this.subarray(e,e+c),b)}};k.prototype.fill=function(a,b,e){a||(a=0);b||(b=0);e||(e=this.length);if(e<b)throw new TypeError("end < start");if(e!==b&&0!==this.length){if(0>b||b>=this.length)throw new TypeError("start out of bounds");if(0>e||e>this.length)throw new TypeError("end out of bounds");if("number"===typeof a)for(;b<e;b++)this[b]=a;else{a=m(a.toString());
for(var c=a.length;b<e;b++)this[b]=a[b%c]}return this}};k.prototype.toArrayBuffer=function(){if("undefined"!==typeof Uint8Array){if(k.TYPED_ARRAY_SUPPORT)return(new k(this)).buffer;for(var a=new Uint8Array(this.length),b=0,e=a.length;b<e;b+=1)a[b]=this[b];return a.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser");};var x=k.prototype;k._augment=function(a){a.constructor=k;a._isBuffer=!0;a._get=a.get;a._set=a.set;a.get=x.get;a.set=x.set;a.write=x.write;a.toString=x.toString;
a.toLocaleString=x.toString;a.toJSON=x.toJSON;a.equals=x.equals;a.compare=x.compare;a.copy=x.copy;a.slice=x.slice;a.readUInt8=x.readUInt8;a.readUInt16LE=x.readUInt16LE;a.readUInt16BE=x.readUInt16BE;a.readUInt32LE=x.readUInt32LE;a.readUInt32BE=x.readUInt32BE;a.readInt8=x.readInt8;a.readInt16LE=x.readInt16LE;a.readInt16BE=x.readInt16BE;a.readInt32LE=x.readInt32LE;a.readInt32BE=x.readInt32BE;a.readFloatLE=x.readFloatLE;a.readFloatBE=x.readFloatBE;a.readDoubleLE=x.readDoubleLE;a.readDoubleBE=x.readDoubleBE;
a.writeUInt8=x.writeUInt8;a.writeUInt16LE=x.writeUInt16LE;a.writeUInt16BE=x.writeUInt16BE;a.writeUInt32LE=x.writeUInt32LE;a.writeUInt32BE=x.writeUInt32BE;a.writeInt8=x.writeInt8;a.writeInt16LE=x.writeInt16LE;a.writeInt16BE=x.writeInt16BE;a.writeInt32LE=x.writeInt32LE;a.writeInt32BE=x.writeInt32BE;a.writeFloatLE=x.writeFloatLE;a.writeFloatBE=x.writeFloatBE;a.writeDoubleLE=x.writeDoubleLE;a.writeDoubleBE=x.writeDoubleBE;a.fill=x.fill;a.inspect=x.inspect;a.toArrayBuffer=x.toArrayBuffer;return a};var H=
/[^+\/0-9A-z]/g},{"base64-js":4,ieee754:5,"is-array":6}],4:[function(q,z,u){(function(k){function n(b){b=b.charCodeAt(0);if(b===d)return 62;if(b===a)return 63;if(b<e)return-1;if(b<e+10)return b-e+52;if(b<h+26)return b-h;if(b<f+26)return b-f+26}var b="undefined"!==typeof Uint8Array?Uint8Array:Array,d=43,a=47,e=48,f=97,h=65;k.toByteArray=function(a){function e(a){D[v++]=a}var f,h,d,k,D;if(0<a.length%4)throw Error("Invalid string. Length must be a multiple of 4");f=a.length;k="="===a.charAt(f-2)?2:"="===
a.charAt(f-1)?1:0;D=new b(3*a.length/4-k);h=0<k?a.length-4:a.length;var v=0;for(f=0;f<h;f+=4)d=n(a.charAt(f))<<18|n(a.charAt(f+1))<<12|n(a.charAt(f+2))<<6|n(a.charAt(f+3)),e((d&16711680)>>16),e((d&65280)>>8),e(d&255);2===k?(d=n(a.charAt(f))<<2|n(a.charAt(f+1))>>4,e(d&255)):1===k&&(d=n(a.charAt(f))<<10|n(a.charAt(f+1))<<4|n(a.charAt(f+2))>>2,e(d>>8&255),e(d&255));return D};k.fromByteArray=function(a){var b,e=a.length%3,f="",h,d;b=0;for(d=a.length-e;b<d;b+=3)h=(a[b]<<16)+(a[b+1]<<8)+a[b+2],h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h>>
18&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h>>12&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h>>6&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h&63),f+=h;switch(e){case 1:h=a[a.length-1];f+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h>>2);f+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h<<4&63);f+="==";break;case 2:h=(a[a.length-2]<<8)+
a[a.length-1],f+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h>>10),f+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h>>4&63),f+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h<<2&63),f+="="}return f}})("undefined"===typeof u?this.base64js={}:u)},{}],5:[function(q,z,u){u.read=function(k,n,b,d,a){var e;e=8*a-d-1;var f=(1<<e)-1,h=f>>1,c=-7;a=b?a-1:0;var g=b?-1:1,m=k[n+a];a+=g;b=m&(1<<-c)-1;m>>=-c;for(c+=e;0<c;b=256*
b+k[n+a],a+=g,c-=8);e=b&(1<<-c)-1;b>>=-c;for(c+=d;0<c;e=256*e+k[n+a],a+=g,c-=8);if(0===b)b=1-h;else{if(b===f)return e?NaN:Infinity*(m?-1:1);e+=Math.pow(2,d);b-=h}return(m?-1:1)*e*Math.pow(2,b-d)};u.write=function(k,n,b,d,a,e){var f,h=8*e-a-1,c=(1<<h)-1,g=c>>1,m=23===a?Math.pow(2,-24)-Math.pow(2,-77):0;e=d?0:e-1;var l=d?1:-1,r=0>n||0===n&&0>1/n?1:0;n=Math.abs(n);isNaN(n)||Infinity===n?(n=isNaN(n)?1:0,d=c):(d=Math.floor(Math.log(n)/Math.LN2),1>n*(f=Math.pow(2,-d))&&(d--,f*=2),n=1<=d+g?n+m/f:n+m*Math.pow(2,
1-g),2<=n*f&&(d++,f/=2),d+g>=c?(n=0,d=c):1<=d+g?(n=(n*f-1)*Math.pow(2,a),d+=g):(n=n*Math.pow(2,g-1)*Math.pow(2,a),d=0));for(;8<=a;k[b+e]=n&255,e+=l,n/=256,a-=8);d=d<<a|n;for(h+=a;0<h;k[b+e]=d&255,e+=l,d/=256,h-=8);k[b+e-l]|=128*r}},{}],6:[function(q,z,u){var k=Object.prototype.toString;z.exports=Array.isArray||function(n){return!!n&&"[object Array]"==k.call(n)}},{}],7:[function(q,z,u){function k(){this._events=this._events||{};this._maxListeners=this._maxListeners||void 0}function n(b){return"function"===
typeof b}function b(b){return"object"===typeof b&&null!==b}z.exports=k;k.EventEmitter=k;k.prototype._events=void 0;k.prototype._maxListeners=void 0;k.defaultMaxListeners=10;k.prototype.setMaxListeners=function(b){if("number"!==typeof b||0>b||isNaN(b))throw TypeError("n must be a positive number");this._maxListeners=b;return this};k.prototype.emit=function(d){var a,e,f,h;this._events||(this._events={});if("error"===d&&(!this._events.error||b(this._events.error)&&!this._events.error.length)){a=arguments[1];
if(a instanceof Error)throw a;throw TypeError('Uncaught, unspecified "error" event.');}e=this._events[d];if(void 0===e)return!1;if(n(e))switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:a=arguments.length;f=Array(a-1);for(h=1;h<a;h++)f[h-1]=arguments[h];e.apply(this,f)}else if(b(e)){a=arguments.length;f=Array(a-1);for(h=1;h<a;h++)f[h-1]=arguments[h];e=e.slice();a=e.length;for(h=0;h<a;h++)e[h].apply(this,
f)}return!0};k.prototype.addListener=function(d,a){var e;if(!n(a))throw TypeError("listener must be a function");this._events||(this._events={});this._events.newListener&&this.emit("newListener",d,n(a.listener)?a.listener:a);this._events[d]?b(this._events[d])?this._events[d].push(a):this._events[d]=[this._events[d],a]:this._events[d]=a;b(this._events[d])&&!this._events[d].warned&&(e=void 0!==this._maxListeners?this._maxListeners:k.defaultMaxListeners)&&0<e&&this._events[d].length>e&&(this._events[d].warned=
!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[d].length),"function"===typeof console.trace&&console.trace());return this};k.prototype.on=k.prototype.addListener;k.prototype.once=function(b,a){function e(){this.removeListener(b,e);f||(f=!0,a.apply(this,arguments))}if(!n(a))throw TypeError("listener must be a function");var f=!1;e.listener=a;this.on(b,e);return this};k.prototype.removeListener=
function(d,a){var e,f,h;if(!n(a))throw TypeError("listener must be a function");if(!this._events||!this._events[d])return this;e=this._events[d];h=e.length;f=-1;if(e===a||n(e.listener)&&e.listener===a)delete this._events[d],this._events.removeListener&&this.emit("removeListener",d,a);else if(b(e)){for(;0<h--;)if(e[h]===a||e[h].listener&&e[h].listener===a){f=h;break}if(0>f)return this;1===e.length?(e.length=0,delete this._events[d]):e.splice(f,1);this._events.removeListener&&this.emit("removeListener",
d,a)}return this};k.prototype.removeAllListeners=function(b){var a;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[b]&&delete this._events[b],this;if(0===arguments.length){for(a in this._events)"removeListener"!==a&&this.removeAllListeners(a);this.removeAllListeners("removeListener");this._events={};return this}a=this._events[b];if(n(a))this.removeListener(b,a);else for(;a.length;)this.removeListener(b,a[a.length-1]);delete this._events[b];
return this};k.prototype.listeners=function(b){return this._events&&this._events[b]?n(this._events[b])?[this._events[b]]:this._events[b].slice():[]};k.listenerCount=function(b,a){return b._events&&b._events[a]?n(b._events[a])?1:b._events[a].length:0}},{}],8:[function(q,z,u){var k=z.exports;q("events");var n=q("./lib/request"),b=q("url");k.request=function(a,e){"string"===typeof a&&(a=b.parse(a));a||(a={});a.host||a.port||(a.port=parseInt(window.location.port,10));!a.host&&a.hostname&&(a.host=a.hostname);
a.protocol||(a.protocol=a.scheme?a.scheme+":":window.location.protocol);a.host||(a.host=window.location.hostname||window.location.host);/:/.test(a.host)&&(a.port||(a.port=a.host.split(":")[1]),a.host=a.host.split(":")[0]);a.port||(a.port="https:"==a.protocol?443:80);var f=new n(new d,a);if(e)f.on("response",e);return f};k.get=function(a,b){a.method="GET";var f=k.request(a,b);f.end();return f};k.Agent=function(){};k.Agent.defaultMaxSockets=4;var d=function(){if("undefined"===typeof window)throw Error("no window object present");
if(window.XMLHttpRequest)return window.XMLHttpRequest;if(window.ActiveXObject)for(var a=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"],b=0;b<a.length;b++)try{var f=new window.ActiveXObject(a[b]);return function(){if(f){var c=f;f=null;return c}return new window.ActiveXObject(a[b])}}catch(h){}throw Error("ajax not supported in this browser");}();k.STATUS_CODES={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",
204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",
414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",
507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{"./lib/request":9,events:7,url:36}],9:[function(q,z,u){u=q("stream");var k=q("./response"),n=q("Base64");q=q("inherits");var b=z.exports=function(a,b){var h=this;h.writable=!0;h.xhr=a;h.body=[];h.uri=(b.protocol||"http:")+"//"+b.host+(b.port?":"+b.port:"")+(b.path||"/");"undefined"===typeof b.withCredentials&&(b.withCredentials=!0);try{a.withCredentials=b.withCredentials}catch(c){}if(b.responseType)try{a.responseType=
b.responseType}catch(g){}a.open(b.method||"GET",h.uri,!0);a.onerror=function(a){h.emit("error",Error("Network error"))};h._headers={};if(b.headers)for(var m=d(b.headers),l=0;l<m.length;l++){var r=m[l];h.isSafeRequestHeader(r)&&h.setHeader(r,b.headers[r])}b.auth&&this.setHeader("Authorization","Basic "+n.btoa(b.auth));var A=new k;A.on("close",function(){h.emit("close")});A.on("ready",function(){h.emit("response",A)});A.on("error",function(a){h.emit("error",a)});a.onreadystatechange=function(){a.__aborted||
A.handle(a)}};q(b,u);b.prototype.setHeader=function(a,b){this._headers[a.toLowerCase()]=b};b.prototype.getHeader=function(a){return this._headers[a.toLowerCase()]};b.prototype.removeHeader=function(a){delete this._headers[a.toLowerCase()]};b.prototype.write=function(a){this.body.push(a)};b.prototype.destroy=function(a){this.xhr.__aborted=!0;this.xhr.abort();this.emit("close")};b.prototype.end=function(b){void 0!==b&&this.body.push(b);var f=d(this._headers);for(b=0;b<f.length;b++){var h=f[b],c=this._headers[h];
if(a(c))for(var g=0;g<c.length;g++)this.xhr.setRequestHeader(h,c[g]);else this.xhr.setRequestHeader(h,c)}if(0===this.body.length)this.xhr.send("");else if("string"===typeof this.body[0])this.xhr.send(this.body.join(""));else if(a(this.body[0])){f=[];for(b=0;b<this.body.length;b++)f.push.apply(f,this.body[b]);this.xhr.send(f)}else if(/Array/.test(Object.prototype.toString.call(this.body[0]))){for(b=g=0;b<this.body.length;b++)g+=this.body[b].length;f=new this.body[0].constructor(g);for(b=h=0;b<this.body.length;b++)for(c=
this.body[b],g=0;g<c.length;g++)f[h++]=c[g];this.xhr.send(f)}else if(b=this.body[0],b="undefined"!==typeof Blob&&b instanceof Blob?!0:"undefined"!==typeof ArrayBuffer&&b instanceof ArrayBuffer?!0:"undefined"!==typeof FormData&&b instanceof FormData?!0:void 0,b)this.xhr.send(this.body[0]);else{f="";for(b=0;b<this.body.length;b++)f+=this.body[b].toString();this.xhr.send(f)}};b.unsafeHeaders="accept-charset accept-encoding access-control-request-headers access-control-request-method connection content-length cookie cookie2 content-transfer-encoding date expect host keep-alive origin referer te trailer transfer-encoding upgrade user-agent via".split(" ");
b.prototype.isSafeRequestHeader=function(a){if(!a)return!1;var f;a:if(f=b.unsafeHeaders,a=a.toLowerCase(),f.indexOf)f=f.indexOf(a);else{for(var h=0;h<f.length;h++)if(f[h]===a){f=h;break a}f=-1}return-1===f};var d=Object.keys||function(a){var b=[],h;for(h in a)b.push(h);return b},a=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}},{"./response":10,Base64:11,inherits:13,stream:32}],10:[function(q,z,u){function k(a){a=a.getAllResponseHeaders().split(/\r?\n/);for(var b=
{},f=0;f<a.length;f++){var h=a[f];if(""!==h){var c=h.match(/^([^:]+):\s*(.*)/);c?(h=c[1].toLowerCase(),c=c[2],void 0!==b[h]?d(b[h])?b[h].push(c):b[h]=[b[h],c]:b[h]=c):b[h]=!0}}return b}u=q("stream");q=q("util");z=z.exports=function(a){this.offset=0;this.readable=!0};q.inherits(z,u);var n=!0,b=!0;z.prototype.getResponse=function(a){var b=String(a.responseType).toLowerCase();return"blob"===b?a.responseBlob||a.response:"arraybuffer"===b?a.response:a.responseText};z.prototype.getHeader=function(a){return this.headers[a.toLowerCase()]};
z.prototype.handle=function(a){if(2===a.readyState&&b){try{this.statusCode=a.status,this.headers=k(a)}catch(e){b=!1}b&&this.emit("ready")}else if(n&&3===a.readyState){try{this.statusCode||(this.statusCode=a.status,this.headers=k(a),this.emit("ready"))}catch(f){}try{this._emitData(a)}catch(h){n=!1}}else 4===a.readyState&&(this.statusCode||(this.statusCode=a.status,this.emit("ready")),this._emitData(a),a.error?this.emit("error",this.getResponse(a)):this.emit("end"),this.emit("close"))};z.prototype._emitData=
function(a){a=this.getResponse(a);a.toString().match(/ArrayBuffer/)?(this.emit("data",new Uint8Array(a,this.offset)),this.offset=a.byteLength):a.length>this.offset&&(this.emit("data",a.slice(this.offset)),this.offset=a.length)};var d=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}},{stream:32,util:38}],11:[function(q,z,u){(function(){function k(b){this.message=b}var n="undefined"!=typeof u?u:this;k.prototype=Error();k.prototype.name="InvalidCharacterError";n.btoa||
(n.btoa=function(b){for(var d,a,e=0,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h="";b.charAt(e|0)||(f="=",e%1);h+=f.charAt(63&d>>8-e%1*8)){a=b.charCodeAt(e+=0.75);if(255<a)throw new k("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");d=d<<8|a}return h});n.atob||(n.atob=function(b){b=b.replace(/=+$/,"");if(1==b.length%4)throw new k("'atob' failed: The string to be decoded is not correctly encoded.");for(var d=0,a,e,f=0,h="";e=b.charAt(f++);~e&&
(a=d%4?64*a+e:e,d++%4)?h+=String.fromCharCode(255&a>>(-2*d&6)):0)e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e);return h})})()},{}],12:[function(q,z,u){var k=q("http");q=z.exports;for(var n in k)k.hasOwnProperty(n)&&(q[n]=k[n]);q.request=function(b,d){b||(b={});b.scheme="https";return k.request.call(this,b,d)}},{http:8}],13:[function(q,z,u){z.exports="function"===typeof Object.create?function(k,n){k.super_=n;k.prototype=Object.create(n.prototype,{constructor:{value:k,
enumerable:!1,writable:!0,configurable:!0}})}:function(k,n){k.super_=n;var b=function(){};b.prototype=n.prototype;k.prototype=new b;k.prototype.constructor=k}},{}],14:[function(q,z,u){z.exports=Array.isArray||function(k){return"[object Array]"==Object.prototype.toString.call(k)}},{}],15:[function(q,z,u){(function(k){function n(a,b){for(var h=0,c=a.length-1;0<=c;c--){var d=a[c];"."===d?a.splice(c,1):".."===d?(a.splice(c,1),h++):h&&(a.splice(c,1),h--)}if(b)for(;h--;h)a.unshift("..");return a}function b(a,
b){if(a.filter)return a.filter(b);for(var h=[],c=0;c<a.length;c++)b(a[c],c,a)&&h.push(a[c]);return h}var d=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;u.resolve=function(){for(var a="",f=!1,h=arguments.length-1;-1<=h&&!f;h--){var c=0<=h?arguments[h]:k.cwd();if("string"!==typeof c)throw new TypeError("Arguments to path.resolve must be strings");c&&(a=c+"/"+a,f="/"===c.charAt(0))}a=n(b(a.split("/"),function(a){return!!a}),!f).join("/");return(f?"/":"")+a||"."};u.normalize=function(e){var f=
u.isAbsolute(e),h="/"===a(e,-1);(e=n(b(e.split("/"),function(a){return!!a}),!f).join("/"))||f||(e=".");e&&h&&(e+="/");return(f?"/":"")+e};u.isAbsolute=function(a){return"/"===a.charAt(0)};u.join=function(){var a=Array.prototype.slice.call(arguments,0);return u.normalize(b(a,function(a,b){if("string"!==typeof a)throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))};u.relative=function(a,b){function h(a){for(var b=0;b<a.length&&""===a[b];b++);for(var e=a.length-1;0<=e&&
""===a[e];e--);return b>e?[]:a.slice(b,e-b+1)}a=u.resolve(a).substr(1);b=u.resolve(b).substr(1);for(var c=h(a.split("/")),d=h(b.split("/")),m=Math.min(c.length,d.length),l=m,r=0;r<m;r++)if(c[r]!==d[r]){l=r;break}m=[];for(r=l;r<c.length;r++)m.push("..");m=m.concat(d.slice(l));return m.join("/")};u.sep="/";u.delimiter=":";u.dirname=function(a){var b=d.exec(a).slice(1);a=b[0];b=b[1];if(!a&&!b)return".";b&&(b=b.substr(0,b.length-1));return a+b};u.basename=function(a,b){var h=d.exec(a).slice(1)[2];b&&
h.substr(-1*b.length)===b&&(h=h.substr(0,h.length-b.length));return h};u.extname=function(a){return d.exec(a).slice(1)[3]};var a="b"==="ab".substr(-1)?function(a,b,h){return a.substr(b,h)}:function(a,b,h){0>b&&(b=a.length+b);return a.substr(b,h)}}).call(this,q("_process"))},{_process:16}],16:[function(q,z,u){function k(){}q=z.exports={};q.nextTick=function(){var k="undefined"!==typeof window&&window.postMessage&&window.addEventListener;if("undefined"!==typeof window&&window.setImmediate)return function(a){return window.setImmediate(a)};
var b=[];if("undefined"!==typeof window&&window.MutationObserver){var d=document.createElement("div");(new MutationObserver(function(){var a=b.slice();b.length=0;a.forEach(function(a){a()})})).observe(d,{attributes:!0});return function(a){b.length||d.setAttribute("yes","no");b.push(a)}}return k?(window.addEventListener("message",function(a){var e=a.source;e!==window&&null!==e||"process-tick"!==a.data||(a.stopPropagation(),0<b.length&&b.shift()())},!0),function(a){b.push(a);window.postMessage("process-tick",
"*")}):function(a){setTimeout(a,0)}}();q.title="browser";q.browser=!0;q.env={};q.argv=[];q.on=k;q.addListener=k;q.once=k;q.off=k;q.removeListener=k;q.removeAllListeners=k;q.emit=k;q.binding=function(k){throw Error("process.binding is not supported");};q.cwd=function(){return"/"};q.chdir=function(k){throw Error("process.chdir is not supported");}},{}],17:[function(q,z,u){(function(k){(function(n){function b(a){throw RangeError(L[a]);}function d(a,b){for(var e=a.length;e--;)a[e]=b(a[e]);return a}function a(a,
b){return d(a.split(B),b).join(".")}function e(a){for(var b=[],e=0,c=a.length,f,h;e<c;)f=a.charCodeAt(e++),55296<=f&&56319>=f&&e<c?(h=a.charCodeAt(e++),56320==(h&64512)?b.push(((f&1023)<<10)+(h&1023)+65536):(b.push(f),e--)):b.push(f);return b}function f(a){return d(a,function(a){var b="";65535<a&&(a-=65536,b+=V(a>>>10&1023|55296),a=56320|a&1023);return b+=V(a)}).join("")}function h(a,b){return a+22+75*(26>a)-((0!=b)<<5)}function c(a,b,e){var c=0;a=e?I(a/q):a>>1;for(a+=I(a/b);a>P*x>>1;c+=v)a=I(a/P);
return I(c+(P+1)*a/(a+H))}function g(a){var e=[],h=a.length,d,g=0,l=s,w=W,m,r,y,k,B;m=a.lastIndexOf(t);0>m&&(m=0);for(r=0;r<m;++r)128<=a.charCodeAt(r)&&b("not-basic"),e.push(a.charCodeAt(r));for(m=0<m?m+1:0;m<h;){r=g;d=1;for(y=v;;y+=v){m>=h&&b("invalid-input");k=a.charCodeAt(m++);k=10>k-48?k-22:26>k-65?k-65:26>k-97?k-97:v;(k>=v||k>I((D-g)/d))&&b("overflow");g+=k*d;B=y<=w?G:y>=w+x?x:y-w;if(k<B)break;k=v-B;d>I(D/k)&&b("overflow");d*=k}d=e.length+1;w=c(g-r,d,0==r);I(g/d)>D-l&&b("overflow");l+=I(g/d);
g%=d;e.splice(g++,0,l)}return f(e)}function m(a){var f,d,g,l,w,m,r,y,k,B=[],H,A,n;a=e(a);H=a.length;f=s;d=0;w=W;for(m=0;m<H;++m)k=a[m],128>k&&B.push(V(k));for((g=l=B.length)&&B.push(t);g<H;){r=D;for(m=0;m<H;++m)k=a[m],k>=f&&k<r&&(r=k);A=g+1;r-f>I((D-d)/A)&&b("overflow");d+=(r-f)*A;f=r;for(m=0;m<H;++m)if(k=a[m],k<f&&++d>D&&b("overflow"),k==f){y=d;for(r=v;;r+=v){k=r<=w?G:r>=w+x?x:r-w;if(y<k)break;n=y-k;y=v-k;B.push(V(h(k+n%y,0)));y=I(n/y)}B.push(V(h(y,0)));w=c(d,A,g==l);d=0;++g}++d;++f}return B.join("")}
var l="object"==typeof u&&u,r="object"==typeof z&&z&&z.exports==l&&z,A="object"==typeof k&&k;if(A.global===A||A.window===A)n=A;var D=2147483647,v=36,G=1,x=26,H=38,q=700,W=72,s=128,t="-",w=/^xn--/,y=/[^ -~]/,B=/\x2E|\u3002|\uFF0E|\uFF61/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},P=v-G,I=Math.floor,V=String.fromCharCode,Q,A={version:"1.2.4",ucs2:{decode:e,encode:f},decode:g,encode:m,toASCII:function(b){return a(b,
function(a){return y.test(a)?"xn--"+m(a):a})},toUnicode:function(b){return a(b,function(a){return w.test(a)?g(a.slice(4).toLowerCase()):a})}};if(l&&!l.nodeType)if(r)r.exports=A;else for(Q in A)A.hasOwnProperty(Q)&&(l[Q]=A[Q]);else n.punycode=A})(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],18:[function(q,z,u){z.exports=function(n,b,d,a){d=d||"=";var e={};if("string"!==typeof n||0===n.length)return e;var f=/\+/g;n=n.split(b||
"&");b=1E3;a&&"number"===typeof a.maxKeys&&(b=a.maxKeys);a=n.length;0<b&&a>b&&(a=b);for(b=0;b<a;++b){var h=n[b].replace(f,"%20"),c=h.indexOf(d),g;0<=c?(g=h.substr(0,c),h=h.substr(c+1)):(g=h,h="");g=decodeURIComponent(g);h=decodeURIComponent(h);Object.prototype.hasOwnProperty.call(e,g)?k(e[g])?e[g].push(h):e[g]=[e[g],h]:e[g]=h}return e};var k=Array.isArray||function(k){return"[object Array]"===Object.prototype.toString.call(k)}},{}],19:[function(q,z,u){function k(a,b){if(a.map)return a.map(b);for(var f=
[],h=0;h<a.length;h++)f.push(b(a[h],h));return f}var n=function(a){switch(typeof a){case "string":return a;case "boolean":return a?"true":"false";case "number":return isFinite(a)?a:"";default:return""}};z.exports=function(a,e,f,h){e=e||"&";f=f||"=";null===a&&(a=void 0);return"object"===typeof a?k(d(a),function(c){var h=encodeURIComponent(n(c))+f;return b(a[c])?k(a[c],function(a){return h+encodeURIComponent(n(a))}).join(e):h+encodeURIComponent(n(a[c]))}).join(e):h?encodeURIComponent(n(h))+f+encodeURIComponent(n(a)):
""};var b=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},d=Object.keys||function(a){var b=[],f;for(f in a)Object.prototype.hasOwnProperty.call(a,f)&&b.push(f);return b}},{}],20:[function(q,z,u){u.decode=u.parse=q("./decode");u.encode=u.stringify=q("./encode")},{"./decode":18,"./encode":19}],21:[function(q,z,u){z.exports=q("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":22}],22:[function(q,z,u){(function(k){function n(a){if(!(this instanceof n))return new n(a);
e.call(this,a);f.call(this,a);a&&!1===a.readable&&(this.readable=!1);a&&!1===a.writable&&(this.writable=!1);this.allowHalfOpen=!0;a&&!1===a.allowHalfOpen&&(this.allowHalfOpen=!1);this.once("end",b)}function b(){this.allowHalfOpen||this._writableState.ended||k.nextTick(this.end.bind(this))}z.exports=n;var d=Object.keys||function(a){var b=[],e;for(e in a)b.push(e);return b},a=q("core-util-is");a.inherits=q("inherits");var e=q("./_stream_readable"),f=q("./_stream_writable");a.inherits(n,e);(function(a,
b){for(var e=0,f=a.length;e<f;e++)b(a[e],e)})(d(f.prototype),function(a){n.prototype[a]||(n.prototype[a]=f.prototype[a])})}).call(this,q("_process"))},{"./_stream_readable":24,"./_stream_writable":26,_process:16,"core-util-is":27,inherits:13}],23:[function(q,z,u){function k(b){if(!(this instanceof k))return new k(b);n.call(this,b)}z.exports=k;var n=q("./_stream_transform");z=q("core-util-is");z.inherits=q("inherits");z.inherits(k,n);k.prototype._transform=function(b,d,a){a(null,b)}},{"./_stream_transform":25,
"core-util-is":27,inherits:13}],24:[function(q,z,u){(function(k){function n(a,b){a=a||{};var e=a.highWaterMark;this.highWaterMark=e||0===e?e:16384;this.highWaterMark=~~this.highWaterMark;this.buffer=[];this.length=0;this.pipes=null;this.pipesCount=0;this.calledRead=this.reading=this.endEmitted=this.ended=this.flowing=!1;this.sync=!0;this.readableListening=this.emittedReadable=this.needReadable=!1;this.objectMode=!!a.objectMode;this.defaultEncoding=a.defaultEncoding||"utf8";this.ranOut=!1;this.awaitDrain=
0;this.readingMore=!1;this.encoding=this.decoder=null;a.encoding&&(K||(K=q("string_decoder/").StringDecoder),this.decoder=new K(a.encoding),this.encoding=a.encoding)}function b(a){if(!(this instanceof b))return new b(a);this._readableState=new n(a,this);this.readable=!0;x.call(this)}function d(a,b,c,h,d){var g;g=c;var l=null;v.isBuffer(g)||"string"===typeof g||null===g||void 0===g||b.objectMode||(l=new TypeError("Invalid non-string/buffer chunk"));(g=l)?a.emit("error",g):null===c||void 0===c?(b.reading=
!1,b.ended||(b.decoder&&!b.ended&&(c=b.decoder.end())&&c.length&&(b.buffer.push(c),b.length+=b.objectMode?1:c.length),b.ended=!0,0<b.length?e(a):r(a))):b.objectMode||c&&0<c.length?b.ended&&!d?(c=Error("stream.push() after EOF"),a.emit("error",c)):b.endEmitted&&d?(c=Error("stream.unshift() after end event"),a.emit("error",c)):(!b.decoder||d||h||(c=b.decoder.write(c)),b.length+=b.objectMode?1:c.length,d?b.buffer.unshift(c):(b.reading=!1,b.buffer.push(c)),b.needReadable&&e(a),f(a,b)):d||(b.reading=!1);
return!b.ended&&(b.needReadable||b.length<b.highWaterMark||0===b.length)}function a(a,b){if(0===b.length&&b.ended)return 0;if(b.objectMode)return 0===a?0:1;if(null===a||isNaN(a))return b.flowing&&b.buffer.length?b.buffer[0].length:b.length;if(0>=a)return 0;if(a>b.highWaterMark){var e=a;if(e>=W)e=W;else{e--;for(var c=1;32>c;c<<=1)e|=e>>c;e++}b.highWaterMark=e}if(a>b.length){if(b.ended)return b.length;b.needReadable=!0;return 0}return a}function e(a){var b=a._readableState;b.needReadable=!1;b.emittedReadable||
(b.emittedReadable=!0,b.sync?k.nextTick(function(){a.emit("readable")}):a.emit("readable"))}function f(a,b){b.readingMore||(b.readingMore=!0,k.nextTick(function(){for(var e=b.length;!b.reading&&!b.flowing&&!b.ended&&b.length<b.highWaterMark&&(a.read(0),e!==b.length);)e=b.length;b.readingMore=!1}))}function h(a){return function(){var b=a._readableState;b.awaitDrain--;0===b.awaitDrain&&c(a)}}function c(a){function b(a,f,h){!1===a.write(c)&&e.awaitDrain++}var e=a._readableState,c;for(e.awaitDrain=0;e.pipesCount&&
null!==(c=a.read());)if(1===e.pipesCount?b(e.pipes,0,null):A(e.pipes,b),a.emit("data",c),0<e.awaitDrain)return;0===e.pipesCount?(e.flowing=!1,0<G.listenerCount(a,"data")&&m(a)):e.ranOut=!0}function g(){this._readableState.ranOut&&(this._readableState.ranOut=!1,c(this))}function m(a,b){if(a._readableState.flowing)throw Error("Cannot switch to old mode now.");var e=b||!1,c=!1;a.readable=!0;a.pipe=x.prototype.pipe;a.on=a.addListener=x.prototype.on;a.on("readable",function(){c=!0;for(var b;!e&&null!==
(b=a.read());)a.emit("data",b);null===b&&(c=!1,a._readableState.needReadable=!0)});a.pause=function(){e=!0;this.emit("pause")};a.resume=function(){e=!1;c?k.nextTick(function(){a.emit("readable")}):this.read(0);this.emit("resume")};a.emit("readable")}function l(a,b){var e=b.buffer,c=b.length,f=!!b.decoder,h=!!b.objectMode;if(0===e.length)return null;if(0===c)c=null;else if(h)c=e.shift();else if(!a||a>=c)c=f?e.join(""):v.concat(e,c),e.length=0;else if(a<e[0].length)h=e[0],c=h.slice(0,a),e[0]=h.slice(a);
else if(a===e[0].length)c=e.shift();else for(var c=f?"":new v(a),d=0,g=0,l=e.length;g<l&&d<a;g++){var h=e[0],m=Math.min(a-d,h.length);f?c+=h.slice(0,m):h.copy(c,d,0,m);m<h.length?e[0]=h.slice(m):e.shift();d+=m}return c}function r(a){var b=a._readableState;if(0<b.length)throw Error("endReadable called on non-empty stream");!b.endEmitted&&b.calledRead&&(b.ended=!0,k.nextTick(function(){b.endEmitted||0!==b.length||(b.endEmitted=!0,a.readable=!1,a.emit("end"))}))}function A(a,b){for(var e=0,c=a.length;e<
c;e++)b(a[e],e)}z.exports=b;var D=q("isarray"),v=q("buffer").Buffer;b.ReadableState=n;var G=q("events").EventEmitter;G.listenerCount||(G.listenerCount=function(a,b){return a.listeners(b).length});var x=q("stream"),H=q("core-util-is");H.inherits=q("inherits");var K;H.inherits(b,x);b.prototype.push=function(a,b){var e=this._readableState;"string"!==typeof a||e.objectMode||(b=b||e.defaultEncoding,b!==e.encoding&&(a=new v(a,b),b=""));return d(this,e,a,b,!1)};b.prototype.unshift=function(a){return d(this,
this._readableState,a,"",!0)};b.prototype.setEncoding=function(a){K||(K=q("string_decoder/").StringDecoder);this._readableState.decoder=new K(a);this._readableState.encoding=a};var W=8388608;b.prototype.read=function(b){var c=this._readableState;c.calledRead=!0;var f=b;if("number"!==typeof b||0<b)c.emittedReadable=!1;if(0===b&&c.needReadable&&(c.length>=c.highWaterMark||c.ended))return e(this),null;b=a(b,c);if(0===b&&c.ended)return f=null,0<c.length&&c.decoder&&(f=l(b,c),c.length-=f.length),0===c.length&&
r(this),f;var h=c.needReadable;c.length-b<=c.highWaterMark&&(h=!0);if(c.ended||c.reading)h=!1;h&&(c.reading=!0,c.sync=!0,0===c.length&&(c.needReadable=!0),this._read(c.highWaterMark),c.sync=!1);h&&!c.reading&&(b=a(f,c));f=0<b?l(b,c):null;null===f&&(c.needReadable=!0,b=0);c.length-=b;0!==c.length||c.ended||(c.needReadable=!0);c.ended&&!c.endEmitted&&0===c.length&&r(this);return f};b.prototype._read=function(a){this.emit("error",Error("not implemented"))};b.prototype.pipe=function(a,b){function e(a){a===
x&&d()}function f(){a.end()}function d(){a.removeListener("close",m);a.removeListener("finish",v);a.removeListener("drain",A);a.removeListener("error",l);a.removeListener("unpipe",e);x.removeListener("end",f);x.removeListener("end",d);a._writableState&&!a._writableState.needDrain||A()}function l(b){x.unpipe(a);a.removeListener("error",l);0===G.listenerCount(a,"error")&&a.emit("error",b)}function m(){a.removeListener("finish",v);x.unpipe(a)}function v(){a.removeListener("close",m);x.unpipe(a)}var x=
this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=a;break;case 1:r.pipes=[r.pipes,a];break;default:r.pipes.push(a)}r.pipesCount+=1;var H=b&&!1===b.end||a===k.stdout||a===k.stderr?d:f;if(r.endEmitted)k.nextTick(H);else x.once("end",H);a.on("unpipe",e);var A=h(x);a.on("drain",A);if(a._events&&a._events.error)D(a._events.error)?a._events.error.unshift(l):a._events.error=[l,a._events.error];else a.on("error",l);a.once("close",m);a.once("finish",v);a.emit("pipe",x);r.flowing||(this.on("readable",
g),r.flowing=!0,k.nextTick(function(){c(x)}));return a};b.prototype.unpipe=function(a){var b=this._readableState;if(0===b.pipesCount)return this;if(1===b.pipesCount){if(a&&a!==b.pipes)return this;a||(a=b.pipes);b.pipes=null;b.pipesCount=0;this.removeListener("readable",g);b.flowing=!1;a&&a.emit("unpipe",this);return this}if(!a){a=b.pipes;var e=b.pipesCount;b.pipes=null;b.pipesCount=0;this.removeListener("readable",g);b.flowing=!1;for(var c=0;c<e;c++)a[c].emit("unpipe",this);return this}a:{for(var c=
b.pipes,e=0,f=c.length;e<f;e++)if(c[e]===a){c=e;break a}c=-1}if(-1===c)return this;b.pipes.splice(c,1);b.pipesCount-=1;1===b.pipesCount&&(b.pipes=b.pipes[0]);a.emit("unpipe",this);return this};b.prototype.on=function(a,b){var c=x.prototype.on.call(this,a,b);"data"!==a||this._readableState.flowing||m(this);if("readable"===a&&this.readable){var f=this._readableState;f.readableListening||(f.readableListening=!0,f.emittedReadable=!1,f.needReadable=!0,f.reading?f.length&&e(this,f):this.read(0))}return c};
b.prototype.addListener=b.prototype.on;b.prototype.resume=function(){m(this);this.read(0);this.emit("resume")};b.prototype.pause=function(){m(this,!0);this.emit("pause")};b.prototype.wrap=function(a){var b=this._readableState,e=!1,c=this;a.on("end",function(){if(b.decoder&&!b.ended){var a=b.decoder.end();a&&a.length&&c.push(a)}c.push(null)});a.on("data",function(f){b.decoder&&(f=b.decoder.write(f));b.objectMode&&(null===f||void 0===f)||!(b.objectMode||f&&f.length)||c.push(f)||(e=!0,a.pause())});for(var f in a)"function"===
typeof a[f]&&"undefined"===typeof this[f]&&(this[f]=function(b){return function(){return a[b].apply(a,arguments)}}(f));A(["error","close","destroy","pause","resume"],function(b){a.on(b,c.emit.bind(c,b))});c._read=function(b){e&&(e=!1,a.resume())};return c};b._fromList=l}).call(this,q("_process"))},{_process:16,buffer:3,"core-util-is":27,events:7,inherits:13,isarray:14,stream:32,"string_decoder/":33}],25:[function(q,z,u){function k(a,b){this.afterTransform=function(a,h){var c;c=b._transformState;c.transforming=
!1;var d=c.writecb;d?(c.writechunk=null,c.writecb=null,null!==h&&void 0!==h&&b.push(h),d&&d(a),c=b._readableState,c.reading=!1,(c.needReadable||c.length<c.highWaterMark)&&b._read(c.highWaterMark),c=void 0):c=b.emit("error",Error("no writecb in Transform class"));return c};this.transforming=this.needTransform=!1;this.writechunk=this.writecb=null}function n(a){if(!(this instanceof n))return new n(a);d.call(this,a);this._transformState=new k(a,this);var e=this;this._readableState.needReadable=!0;this._readableState.sync=
!1;this.once("finish",function(){"function"===typeof this._flush?this._flush(function(a){b(e,a)}):b(e)})}function b(a,b){if(b)return a.emit("error",b);var f=a._transformState;if(a._writableState.length)throw Error("calling transform done when ws.length != 0");if(f.transforming)throw Error("calling transform done when still transforming");return a.push(null)}z.exports=n;var d=q("./_stream_duplex");z=q("core-util-is");z.inherits=q("inherits");z.inherits(n,d);n.prototype.push=function(a,b){this._transformState.needTransform=
!1;return d.prototype.push.call(this,a,b)};n.prototype._transform=function(a,b,f){throw Error("not implemented");};n.prototype._write=function(a,b,f){var h=this._transformState;h.writecb=f;h.writechunk=a;h.writeencoding=b;h.transforming||(a=this._readableState,(h.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark))};n.prototype._read=function(a){a=this._transformState;null!==a.writechunk&&a.writecb&&!a.transforming?(a.transforming=!0,this._transform(a.writechunk,
a.writeencoding,a.afterTransform)):a.needTransform=!0}},{"./_stream_duplex":22,"core-util-is":27,inherits:13}],26:[function(q,z,u){(function(k){function n(a,b,e){this.chunk=a;this.encoding=b;this.callback=e}function b(a,b){a=a||{};var e=a.highWaterMark;this.highWaterMark=e||0===e?e:16384;this.objectMode=!!a.objectMode;this.highWaterMark=~~this.highWaterMark;this.finished=this.ended=this.ending=this.needDrain=!1;this.decodeStrings=!1!==a.decodeStrings;this.defaultEncoding=a.defaultEncoding||"utf8";
this.length=0;this.writing=!1;this.sync=!0;this.bufferProcessing=!1;this.onwrite=function(a){g(b,a)};this.writecb=null;this.writelen=0;this.buffer=[];this.errorEmitted=!1}function d(a){var e=q("./_stream_duplex");if(!(this instanceof d||this instanceof e))return new d(a);this._writableState=new b(a,this);this.writable=!0;v.call(this)}function a(a,b,e){var c=Error("write after end");a.emit("error",c);k.nextTick(function(){e(c)})}function e(a,b,e,c){var f=!0;if(!A.isBuffer(e)&&"string"!==typeof e&&
null!==e&&void 0!==e&&!b.objectMode){var h=new TypeError("Invalid non-string/buffer chunk");a.emit("error",h);k.nextTick(function(){c(h)});f=!1}return f}function f(a,b,e,c,f){b.objectMode||!1===b.decodeStrings||"string"!==typeof e||(e=new A(e,c));A.isBuffer(e)&&(c="buffer");var h=b.objectMode?1:e.length;b.length+=h;var d=b.length<b.highWaterMark;d||(b.needDrain=!0);b.writing?b.buffer.push(new n(e,c,f)):(b.writelen=h,b.writecb=f,b.writing=!0,b.sync=!0,a._write(e,c,b.onwrite),b.sync=!1);return d}function h(a,
b,e,c,f){e?k.nextTick(function(){f(c)}):f(c);a._writableState.errorEmitted=!0;a.emit("error",c)}function c(a){a.writing=!1;a.writecb=null;a.length-=a.writelen;a.writelen=0}function g(a,b){var e=a._writableState,f=e.sync,d=e.writecb;c(e);if(b)h(a,e,f,b,d);else{var g=e.ending&&0===e.length&&!e.finished&&!e.writing;g||e.bufferProcessing||!e.buffer.length||l(a,e);f?k.nextTick(function(){m(a,e,g,d)}):m(a,e,g,d)}}function m(a,b,e,c){!e&&0===b.length&&b.needDrain&&(b.needDrain=!1,a.emit("drain"));c();e&&
r(a,b)}function l(a,b){b.bufferProcessing=!0;for(var e=0;e<b.buffer.length;e++){var c=b.buffer[e],f=c.chunk,h=a,d=b,g=f,l=c.encoding,c=c.callback;d.writelen=b.objectMode?1:f.length;d.writecb=c;d.writing=!0;d.sync=!0;h._write(g,l,d.onwrite);d.sync=!1;if(b.writing){e++;break}}b.bufferProcessing=!1;e<b.buffer.length?b.buffer=b.buffer.slice(e):b.buffer.length=0}function r(a,b){var e=b.ending&&0===b.length&&!b.finished&&!b.writing;e&&(b.finished=!0,a.emit("finish"));return e}z.exports=d;var A=q("buffer").Buffer;
d.WritableState=b;var D=q("core-util-is");D.inherits=q("inherits");var v=q("stream");D.inherits(d,v);d.prototype.pipe=function(){this.emit("error",Error("Cannot pipe. Not readable."))};d.prototype.write=function(b,c,h){var d=this._writableState,g=!1;"function"===typeof c&&(h=c,c=null);A.isBuffer(b)?c="buffer":c||(c=d.defaultEncoding);"function"!==typeof h&&(h=function(){});d.ended?a(this,d,h):e(this,d,b,h)&&(g=f(this,d,b,c,h));return g};d.prototype._write=function(a,b,e){e(Error("not implemented"))};
d.prototype.end=function(a,b,e){var c=this._writableState;"function"===typeof a?(e=a,b=a=null):"function"===typeof b&&(e=b,b=null);"undefined"!==typeof a&&null!==a&&this.write(a,b);if(!c.ending&&!c.finished){a=e;c.ending=!0;r(this,c);if(a)if(c.finished)k.nextTick(a);else this.once("finish",a);c.ended=!0}}}).call(this,q("_process"))},{"./_stream_duplex":22,_process:16,buffer:3,"core-util-is":27,inherits:13,stream:32}],27:[function(q,z,u){(function(k){function n(b){return"object"===typeof b&&null!==
b}u.isArray=function(b){return Array.isArray(b)};u.isBoolean=function(b){return"boolean"===typeof b};u.isNull=function(b){return null===b};u.isNullOrUndefined=function(b){return null==b};u.isNumber=function(b){return"number"===typeof b};u.isString=function(b){return"string"===typeof b};u.isSymbol=function(b){return"symbol"===typeof b};u.isUndefined=function(b){return void 0===b};u.isRegExp=function(b){return n(b)&&"[object RegExp]"===Object.prototype.toString.call(b)};u.isObject=n;u.isDate=function(b){return n(b)&&
"[object Date]"===Object.prototype.toString.call(b)};u.isError=function(b){return n(b)&&("[object Error]"===Object.prototype.toString.call(b)||b instanceof Error)};u.isFunction=function(b){return"function"===typeof b};u.isPrimitive=function(b){return null===b||"boolean"===typeof b||"number"===typeof b||"string"===typeof b||"symbol"===typeof b||"undefined"===typeof b};u.isBuffer=function(b){return k.isBuffer(b)}}).call(this,q("buffer").Buffer)},{buffer:3}],28:[function(q,z,u){z.exports=q("./lib/_stream_passthrough.js")},
{"./lib/_stream_passthrough.js":23}],29:[function(q,z,u){var k=q("stream");u=z.exports=q("./lib/_stream_readable.js");u.Stream=k;u.Readable=u;u.Writable=q("./lib/_stream_writable.js");u.Duplex=q("./lib/_stream_duplex.js");u.Transform=q("./lib/_stream_transform.js");u.PassThrough=q("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":22,"./lib/_stream_passthrough.js":23,"./lib/_stream_readable.js":24,"./lib/_stream_transform.js":25,"./lib/_stream_writable.js":26,stream:32}],30:[function(q,z,
u){z.exports=q("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":25}],31:[function(q,z,u){z.exports=q("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":26}],32:[function(q,z,u){function k(){n.call(this)}z.exports=k;var n=q("events").EventEmitter;q("inherits")(k,n);k.Readable=q("readable-stream/readable.js");k.Writable=q("readable-stream/writable.js");k.Duplex=q("readable-stream/duplex.js");k.Transform=q("readable-stream/transform.js");k.PassThrough=q("readable-stream/passthrough.js");
k.Stream=k;k.prototype.pipe=function(b,d){function a(a){b.writable&&!1===b.write(a)&&m.pause&&m.pause()}function e(){m.readable&&m.resume&&m.resume()}function f(){l||(l=!0,b.end())}function h(){l||(l=!0,"function"===typeof b.destroy&&b.destroy())}function c(a){g();if(0===n.listenerCount(this,"error"))throw a;}function g(){m.removeListener("data",a);b.removeListener("drain",e);m.removeListener("end",f);m.removeListener("close",h);m.removeListener("error",c);b.removeListener("error",c);m.removeListener("end",
g);m.removeListener("close",g);b.removeListener("close",g)}var m=this;m.on("data",a);b.on("drain",e);b._isStdio||d&&!1===d.end||(m.on("end",f),m.on("close",h));var l=!1;m.on("error",c);b.on("error",c);m.on("end",g);m.on("close",g);b.on("close",g);b.emit("pipe",m);return b}},{events:7,inherits:13,"readable-stream/duplex.js":21,"readable-stream/passthrough.js":28,"readable-stream/readable.js":29,"readable-stream/transform.js":30,"readable-stream/writable.js":31}],33:[function(q,z,u){function k(a){return a.toString(this.encoding)}
function n(a){this.charLength=(this.charReceived=a.length%2)?2:0}function b(a){this.charLength=(this.charReceived=a.length%3)?3:0}var d=q("buffer").Buffer,a=d.isEncoding||function(a){switch(a&&a.toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":case "raw":return!0;default:return!1}};q=u.StringDecoder=function(e){this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,"");if(e&&!a(e))throw Error("Unknown encoding: "+
e);switch(this.encoding){case "utf8":this.surrogateSize=3;break;case "ucs2":case "utf16le":this.surrogateSize=2;this.detectIncompleteChar=n;break;case "base64":this.surrogateSize=3;this.detectIncompleteChar=b;break;default:this.write=k;return}this.charBuffer=new d(6);this.charLength=this.charReceived=0};q.prototype.write=function(a){for(var b="";this.charLength;){b=a.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:a.length;a.copy(this.charBuffer,this.charReceived,0,b);
this.charReceived+=b;if(this.charReceived<this.charLength)return"";a=a.slice(b,a.length);var b=this.charBuffer.slice(0,this.charLength).toString(this.encoding),h=b.charCodeAt(b.length-1);if(55296<=h&&56319>=h)this.charLength+=this.surrogateSize,b="";else{this.charReceived=this.charLength=0;if(0===a.length)return b;break}}this.detectIncompleteChar(a);var c=a.length;this.charLength&&(a.copy(this.charBuffer,0,a.length-this.charReceived,c),c-=this.charReceived);b+=a.toString(this.encoding,0,c);c=b.length-
1;h=b.charCodeAt(c);return 55296<=h&&56319>=h?(h=this.surrogateSize,this.charLength+=h,this.charReceived+=h,this.charBuffer.copy(this.charBuffer,h,0,h),a.copy(this.charBuffer,0,0,h),b.substring(0,c)):b};q.prototype.detectIncompleteChar=function(a){for(var b=3<=a.length?3:a.length;0<b;b--){var h=a[a.length-b];if(1==b&&6==h>>5){this.charLength=2;break}if(2>=b&&14==h>>4){this.charLength=3;break}if(3>=b&&30==h>>3){this.charLength=4;break}}this.charReceived=b};q.prototype.end=function(a){var b="";a&&a.length&&
(b=this.write(a));this.charReceived&&(a=this.encoding,b+=this.charBuffer.slice(0,this.charReceived).toString(a));return b}},{buffer:3}],34:[function(q,z,u){function k(a,b){this._id=a;this._clearFn=b}var n=q("process/browser.js").nextTick,b=Function.prototype.apply,d=Array.prototype.slice,a={},e=0;u.setTimeout=function(){return new k(b.call(setTimeout,window,arguments),clearTimeout)};u.setInterval=function(){return new k(b.call(setInterval,window,arguments),clearInterval)};u.clearTimeout=u.clearInterval=
function(a){a.close()};k.prototype.unref=k.prototype.ref=function(){};k.prototype.close=function(){this._clearFn.call(window,this._id)};u.enroll=function(a,b){clearTimeout(a._idleTimeoutId);a._idleTimeout=b};u.unenroll=function(a){clearTimeout(a._idleTimeoutId);a._idleTimeout=-1};u._unrefActive=u.active=function(a){clearTimeout(a._idleTimeoutId);var b=a._idleTimeout;0<=b&&(a._idleTimeoutId=setTimeout(function(){a._onTimeout&&a._onTimeout()},b))};u.setImmediate="function"===typeof setImmediate?setImmediate:
function(b){var h=e++,c=2>arguments.length?!1:d.call(arguments,1);a[h]=!0;n(function(){a[h]&&(c?b.apply(null,c):b.call(null),u.clearImmediate(h))});return h};u.clearImmediate="function"===typeof clearImmediate?clearImmediate:function(b){delete a[b]}},{"process/browser.js":35}],35:[function(q,z,u){function k(){if(!d){d=!0;for(var a,e=b.length;e;){a=b;b=[];for(var f=-1;++f<e;)a[f]();e=b.length}d=!1}}function n(){}q=z.exports={};var b=[],d=!1;q.nextTick=function(a){b.push(a);d||setTimeout(k,0)};q.title=
"browser";q.browser=!0;q.env={};q.argv=[];q.version="";q.versions={};q.on=n;q.addListener=n;q.once=n;q.off=n;q.removeListener=n;q.removeAllListeners=n;q.emit=n;q.binding=function(a){throw Error("process.binding is not supported");};q.cwd=function(){return"/"};q.chdir=function(a){throw Error("process.chdir is not supported");};q.umask=function(){return 0}},{}],36:[function(q,z,u){function k(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=
this.slashes=this.protocol=null}function n(a,e,c){if(a&&b(a)&&a instanceof k)return a;var f=new k;f.parse(a,e,c);return f}function b(a){return"object"===typeof a&&null!==a}var d=q("punycode");u.parse=n;u.resolve=function(a,b){return n(a,!1,!0).resolve(b)};u.resolveObject=function(a,b){return a?n(a,!1,!0).resolveObject(b):b};u.format=function(a){"string"===typeof a&&(a=n(a));return a instanceof k?a.format():k.prototype.format.call(a)};u.Url=k;var a=/^([a-z0-9.+-]+:)/i,e=/:[0-9]*$/;z="{}|\\^`".split("").concat('<>"` \r\n\t'.split(""));
var f=["'"].concat(z),h=["%","/","?",";","#"].concat(f),c=["/","?","#"],g=/^[a-z0-9A-Z_-]{0,63}$/,m=/^([a-z0-9A-Z_-]{0,63})(.*)$/,l={javascript:!0,"javascript:":!0},r={javascript:!0,"javascript:":!0},A={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},D=q("querystring");k.prototype.parse=function(b,e,x){if("string"!==typeof b)throw new TypeError("Parameter 'url' must be a string, not "+typeof b);b=b.trim();var k=a.exec(b);if(k){var k=k[0],n=k.toLowerCase();
this.protocol=n;b=b.substr(k.length)}if(x||k||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var q="//"===b.substr(0,2);!q||k&&r[k]||(b=b.substr(2),this.slashes=!0)}if(!r[k]&&(q||k&&!A[k])){q=-1;for(x=0;x<c.length;x++)k=b.indexOf(c[x]),-1!==k&&(-1===q||k<q)&&(q=k);q=-1===q?b.lastIndexOf("@"):b.lastIndexOf("@",q);-1!==q&&(x=b.slice(0,q),b=b.slice(q+1),this.auth=decodeURIComponent(x));q=-1;for(x=0;x<h.length;x++)k=b.indexOf(h[x]),-1!==k&&(-1===q||k<q)&&(q=k);-1===q&&(q=b.length);this.host=b.slice(0,q);b=b.slice(q);
this.parseHost();this.hostname=this.hostname||"";q="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!q){var s=this.hostname.split(/\./);x=0;for(k=s.length;x<k;x++){var t=s[x];if(t&&!t.match(g)){for(var w="",y=0,B=t.length;y<B;y++)w=127<t.charCodeAt(y)?w+"x":w+t[y];if(!w.match(g)){k=s.slice(0,x);x=s.slice(x+1);if(t=t.match(m))k.push(t[1]),x.unshift(t[2]);x.length&&(b="/"+x.join(".")+b);this.hostname=k.join(".");break}}}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase();
if(!q){t=this.hostname.split(".");s=[];for(x=0;x<t.length;++x)k=t[x],s.push(k.match(/[^A-Za-z0-9_-]/)?"xn--"+d.encode(k):k);this.hostname=s.join(".")}x=this.port?":"+this.port:"";this.host=(this.hostname||"")+x;this.href+=this.host;q&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!l[n])for(x=0,k=f.length;x<k;x++)q=f[x],t=encodeURIComponent(q),t===q&&(t=escape(q)),b=b.split(q).join(t);x=b.indexOf("#");-1!==x&&(this.hash=b.substr(x),b=b.slice(0,x));x=b.indexOf("?");
-1!==x?(this.search=b.substr(x),this.query=b.substr(x+1),e&&(this.query=D.parse(this.query)),b=b.slice(0,x)):e&&(this.search="",this.query={});b&&(this.pathname=b);A[n]&&this.hostname&&!this.pathname&&(this.pathname="/");if(this.pathname||this.search)x=this.pathname||"",k=this.search||"",this.path=x+k;this.href=this.format();return this};k.prototype.format=function(){var a=this.auth||"";a&&(a=encodeURIComponent(a),a=a.replace(/%3A/i,":"),a+="@");var e=this.protocol||"",c=this.pathname||"",f=this.hash||
"",h=!1,d="";this.host?h=a+this.host:this.hostname&&(h=a+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(h+=":"+this.port));this.query&&b(this.query)&&Object.keys(this.query).length&&(d=D.stringify(this.query));a=this.search||d&&"?"+d||"";e&&":"!==e.substr(-1)&&(e+=":");this.slashes||(!e||A[e])&&!1!==h?(h="//"+(h||""),c&&"/"!==c.charAt(0)&&(c="/"+c)):h||(h="");f&&"#"!==f.charAt(0)&&(f="#"+f);a&&"?"!==a.charAt(0)&&(a="?"+a);c=c.replace(/[?#]/g,function(a){return encodeURIComponent(a)});
a=a.replace("#","%23");return e+h+c+a+f};k.prototype.resolve=function(a){return this.resolveObject(n(a,!1,!0)).format()};k.prototype.resolveObject=function(a){if("string"===typeof a){var b=new k;b.parse(a,!1,!0);a=b}var e=new k;Object.keys(this).forEach(function(a){e[a]=this[a]},this);e.hash=a.hash;if(""===a.href)return e.href=e.format(),e;if(a.slashes&&!a.protocol)return Object.keys(a).forEach(function(b){"protocol"!==b&&(e[b]=a[b])}),A[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),
e.href=e.format(),e;if(a.protocol&&a.protocol!==e.protocol){if(!A[a.protocol])return Object.keys(a).forEach(function(b){e[b]=a[b]}),e.href=e.format(),e;e.protocol=a.protocol;if(a.host||r[a.protocol])e.pathname=a.pathname;else{for(var c=(a.pathname||"").split("/");c.length&&!(a.host=c.shift()););a.host||(a.host="");a.hostname||(a.hostname="");""!==c[0]&&c.unshift("");2>c.length&&c.unshift("");e.pathname=c.join("/")}e.search=a.search;e.query=a.query;e.host=a.host||"";e.auth=a.auth;e.hostname=a.hostname||
a.host;e.port=a.port;if(e.pathname||e.search)e.path=(e.pathname||"")+(e.search||"");e.slashes=e.slashes||a.slashes;e.href=e.format();return e}var b=e.pathname&&"/"===e.pathname.charAt(0),f=a.host||a.pathname&&"/"===a.pathname.charAt(0),h=b=f||b||e.host&&a.pathname,d=e.pathname&&e.pathname.split("/")||[],c=a.pathname&&a.pathname.split("/")||[],g=e.protocol&&!A[e.protocol];g&&(e.hostname="",e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host="",a.protocol&&(a.hostname=null,a.port=null,
a.host&&(""===c[0]?c[0]=a.host:c.unshift(a.host)),a.host=null),b=b&&(""===c[0]||""===d[0]));if(f)e.host=a.host||""===a.host?a.host:e.host,e.hostname=a.hostname||""===a.hostname?a.hostname:e.hostname,e.search=a.search,e.query=a.query,d=c;else if(c.length)d||(d=[]),d.pop(),d=d.concat(c),e.search=a.search,e.query=a.query;else if(null!=a.search){g&&(e.hostname=e.host=d.shift(),g=e.host&&0<e.host.indexOf("@")?e.host.split("@"):!1)&&(e.auth=g.shift(),e.host=e.hostname=g.shift());e.search=a.search;e.query=
a.query;if(null!==e.pathname||null!==e.search)e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"");e.href=e.format();return e}if(!d.length)return e.pathname=null,e.path=e.search?"/"+e.search:null,e.href=e.format(),e;for(var f=d.slice(-1)[0],c=(e.host||a.host)&&("."===f||".."===f)||""===f,l=0,m=d.length;0<=m;m--)f=d[m],"."==f?d.splice(m,1):".."===f?(d.splice(m,1),l++):l&&(d.splice(m,1),l--);if(!b&&!h)for(;l--;l)d.unshift("..");!b||""===d[0]||d[0]&&"/"===d[0].charAt(0)||d.unshift("");c&&"/"!==d.join("/").substr(-1)&&
d.push("");h=""===d[0]||d[0]&&"/"===d[0].charAt(0);g&&(e.hostname=e.host=h?"":d.length?d.shift():"",g=e.host&&0<e.host.indexOf("@")?e.host.split("@"):!1)&&(e.auth=g.shift(),e.host=e.hostname=g.shift());(b=b||e.host&&d.length)&&!h&&d.unshift("");d.length?e.pathname=d.join("/"):(e.pathname=null,e.path=null);if(null!==e.pathname||null!==e.search)e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"");e.auth=a.auth||e.auth;e.slashes=e.slashes||a.slashes;e.href=e.format();return e};k.prototype.parseHost=
function(){var a=this.host,b=e.exec(a);b&&(b=b[0],":"!==b&&(this.port=b.substr(1)),a=a.substr(0,a.length-b.length));a&&(this.hostname=a)}},{punycode:17,querystring:20}],37:[function(q,z,u){z.exports=function(k){return k&&"object"===typeof k&&"function"===typeof k.copy&&"function"===typeof k.fill&&"function"===typeof k.readUInt8}},{}],38:[function(q,z,u){(function(k,n){function b(b,e){var c={seen:[],stylize:a};3<=arguments.length&&(c.depth=arguments[2]);4<=arguments.length&&(c.colors=arguments[3]);
A(e)?c.showHidden=e:e&&u._extend(c,e);G(c.showHidden)&&(c.showHidden=!1);G(c.depth)&&(c.depth=2);G(c.colors)&&(c.colors=!1);G(c.customInspect)&&(c.customInspect=!0);c.colors&&(c.stylize=d);return f(c,b,c.depth)}function d(a,e){var c=b.styles[e];return c?"\u001b["+b.colors[c][0]+"m"+a+"\u001b["+b.colors[c][1]+"m":a}function a(a,b){return a}function e(a){var b={};a.forEach(function(a,e){b[a]=!0});return b}function f(a,b,d){if(a.customInspect&&b&&s(b.inspect)&&b.inspect!==u.inspect&&(!b.constructor||
b.constructor.prototype!==b)){var t=b.inspect(d,a);v(t)||(t=f(a,t,d));return t}if(t=h(a,b))return t;var w=Object.keys(b),k=e(w);a.showHidden&&(w=Object.getOwnPropertyNames(b));if(z(b)&&(0<=w.indexOf("message")||0<=w.indexOf("description")))return c(b);if(0===w.length){if(s(b))return a.stylize("[Function"+(b.name?": "+b.name:"")+"]","special");if(x(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");if(K(b))return a.stylize(Date.prototype.toString.call(b),"date");if(z(b))return c(b)}var t=
"",y=!1,B=["{","}"];r(b)&&(y=!0,B=["[","]"]);s(b)&&(t=" [Function"+(b.name?": "+b.name:"")+"]");x(b)&&(t=" "+RegExp.prototype.toString.call(b));K(b)&&(t=" "+Date.prototype.toUTCString.call(b));z(b)&&(t=" "+c(b));if(0===w.length&&(!y||0==b.length))return B[0]+t+B[1];if(0>d)return x(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special");a.seen.push(b);w=y?g(a,b,d,k,w):w.map(function(e){return m(a,b,d,k,e,y)});a.seen.pop();return l(w,t,B)}function h(a,b){if(G(b))return a.stylize("undefined",
"undefined");if(v(b)){var e="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(e,"string")}if(D(b))return a.stylize(""+b,"number");if(A(b))return a.stylize(""+b,"boolean");if(null===b)return a.stylize("null","null")}function c(a){return"["+Error.prototype.toString.call(a)+"]"}function g(a,b,e,c,f){for(var h=[],d=0,g=b.length;d<g;++d)Object.prototype.hasOwnProperty.call(b,String(d))?h.push(m(a,b,e,c,String(d),!0)):h.push("");f.forEach(function(f){f.match(/^\d+$/)||
h.push(m(a,b,e,c,f,!0))});return h}function m(a,b,e,c,h,d){var g,l;b=Object.getOwnPropertyDescriptor(b,h)||{value:b[h]};b.get?l=b.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):b.set&&(l=a.stylize("[Setter]","special"));Object.prototype.hasOwnProperty.call(c,h)||(g="["+h+"]");l||(0>a.seen.indexOf(b.value)?(l=null===e?f(a,b.value,null):f(a,b.value,e-1),-1<l.indexOf("\n")&&(l=d?l.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+l.split("\n").map(function(a){return"   "+
a}).join("\n"))):l=a.stylize("[Circular]","special"));if(G(g)){if(d&&h.match(/^\d+$/))return l;g=JSON.stringify(""+h);g.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g=g.substr(1,g.length-2),g=a.stylize(g,"name")):(g=g.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),g=a.stylize(g,"string"))}return g+": "+l}function l(a,b,e){var c=0;return 60<a.reduce(function(a,b){c++;0<=b.indexOf("\n")&&c++;return a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0)?e[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+
" "+e[1]:e[0]+b+" "+a.join(", ")+" "+e[1]}function r(a){return Array.isArray(a)}function A(a){return"boolean"===typeof a}function D(a){return"number"===typeof a}function v(a){return"string"===typeof a}function G(a){return void 0===a}function x(a){return H(a)&&"[object RegExp]"===Object.prototype.toString.call(a)}function H(a){return"object"===typeof a&&null!==a}function K(a){return H(a)&&"[object Date]"===Object.prototype.toString.call(a)}function z(a){return H(a)&&("[object Error]"===Object.prototype.toString.call(a)||
a instanceof Error)}function s(a){return"function"===typeof a}function t(a){return 10>a?"0"+a.toString(10):a.toString(10)}function w(){var a=new Date,b=[t(a.getHours()),t(a.getMinutes()),t(a.getSeconds())].join(":");return[a.getDate(),P[a.getMonth()],b].join(" ")}var y=/%[sdj%]/g;u.format=function(a){if(!v(a)){for(var e=[],c=0;c<arguments.length;c++)e.push(b(arguments[c]));return e.join(" ")}for(var c=1,f=arguments,h=f.length,e=String(a).replace(y,function(a){if("%%"===a)return"%";if(c>=h)return a;
switch(a){case "%s":return String(f[c++]);case "%d":return Number(f[c++]);case "%j":try{return JSON.stringify(f[c++])}catch(b){return"[Circular]"}default:return a}}),d=f[c];c<h;d=f[++c])e=null!==d&&H(d)?e+(" "+b(d)):e+(" "+d);return e};u.deprecate=function(a,b){if(G(n.process))return function(){return u.deprecate(a,b).apply(this,arguments)};if(!0===k.noDeprecation)return a;var e=!1;return function(){if(!e){if(k.throwDeprecation)throw Error(b);k.traceDeprecation?console.trace(b):console.error(b);e=
!0}return a.apply(this,arguments)}};var B={},L;u.debuglog=function(a){G(L)&&(L=k.env.NODE_DEBUG||"");a=a.toUpperCase();if(!B[a])if((new RegExp("\\b"+a+"\\b","i")).test(L)){var b=k.pid;B[a]=function(){var e=u.format.apply(u,arguments);console.error("%s %d: %s",a,b,e)}}else B[a]=function(){};return B[a]};u.inspect=b;b.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,
39]};b.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};u.isArray=r;u.isBoolean=A;u.isNull=function(a){return null===a};u.isNullOrUndefined=function(a){return null==a};u.isNumber=D;u.isString=v;u.isSymbol=function(a){return"symbol"===typeof a};u.isUndefined=G;u.isRegExp=x;u.isObject=H;u.isDate=K;u.isError=z;u.isFunction=s;u.isPrimitive=function(a){return null===a||"boolean"===typeof a||"number"===typeof a||"string"===
typeof a||"symbol"===typeof a||"undefined"===typeof a};u.isBuffer=q("./support/isBuffer");var P="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");u.log=function(){console.log("%s - %s",w(),u.format.apply(u,arguments))};u.inherits=q("inherits");u._extend=function(a,b){if(!b||!H(b))return a;for(var e=Object.keys(b),c=e.length;c--;)a[e[c]]=b[e[c]];return a}}).call(this,q("_process"),"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./support/isBuffer":37,
_process:16,inherits:13}],39:[function(q,z,u){},{}],40:[function(q,z,u){(function(k,n,b){(function(){var d="undefined"!==typeof k&&k.versions&&k.versions.node,a=!d&&("undefined"!==typeof window||"undefined"!==typeof self);a&&"undefined"===typeof n&&("undefined"!==typeof window?n=window:"undefined"!==typeof self?n=self:"undefined"!==typeof $&&(n=$));var e=function(e){function c(){}function f(a,b){if(E(b))for(var e=0;e<b.length;++e)b[e]=f(a,b[e]);else if(T(b))b["@list"]=f(a,b["@list"]);else if(F(b)){ia(b)&&
(b["@id"]=a.getName(b["@id"]));for(var e=Object.keys(b).sort(),c=0;c<e.length;++c){var d=e[c];"@id"!==d&&(b[d]=f(a,b[d]))}}return b}function m(a,b,c){if(null===c||void 0===c)return null;var f=I(a,b,{vocab:!0});if("@id"===f)return I(a,c,{base:!0});if("@type"===f)return I(a,c,{vocab:!0,base:!0});var d=e.getContextValue(a,b,"@type");if("@id"===d||"@graph"===f&&J(c))return{"@id":I(a,c,{base:!0})};if("@vocab"===d)return{"@id":I(a,c,{vocab:!0,base:!0})};if(M(f))return c;f={};null!==d?f["@type"]=d:J(c)&&
(a=e.getContextValue(a,b,"@language"),null!==a&&(f["@language"]=a));-1===["boolean","number","string"].indexOf(typeof c)&&(c=c.toString());f["@value"]=c;return f}function l(a){var b={};if(S(a)){b.type="literal";var e=a["@value"],c=a["@type"]||null;"boolean"===typeof e||"[object Boolean]"===Object.prototype.toString.call(e)?(b.value=e.toString(),b.datatype=c||oa):ha(e)||c===ka?(ha(e)||(e=parseFloat(e)),b.value=e.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),b.datatype=c||ka):ga(e)?(b.value=e.toFixed(0),
b.datatype=c||pa):"@language"in a?(b.value=e,b.datatype=c||la,b.language=a["@language"]):(b.value=e,b.datatype=c||ba)}else a=F(a)?a["@id"]:a,b.type=0===a.indexOf("_:")?"blank node":"IRI",b.value=a;return"IRI"!==b.type||Z(b.value)?b:null}function r(a,b){if("hash"in b[a])return b[a].hash;for(var e=b[a].quads,c=[],f=0;f<e.length;++f)c.push(qa(e[f],e[f].name?e[f].name.value:null,a));c.sort();return b[a].hash=N.hash(c)}function A(a,b,c,f,d){function g(d){if(d===m.length)return w=Object.keys(t).sort(),
l(0);var s=m[d],k=D(s.subject,a),y=null;null!==k?y="p":(k=D(s.object,a),null!==k&&(y="r"));if(null!==k){var v;v=c.isNamed(k)?c.getName(k):f.isNamed(k)?f.getName(k):r(k,b);var ja=N.create();ja.update(y);ja.update(s.predicate.value);ja.update(v);s=ja.digest();s in t?t[s].push(k):t[s]=[k]}e.setImmediate(function(){g(d+1)})}function l(a){function g(){function t(a){if(a===v.length)return da(!1);var e=v[a];A(e,b,c,ea,function(b,c){if(b)return d(b);y+=ea.getName(e)+"<"+c.hash+">";ea=c.pathNamer;if(null!==
m&&y.length>=m.length&&y>m)return da(!0);t(a+1)})}function da(b){!b&&(null===m||y<m)&&(m=y,r=ea);k.hasNext()?e.setImmediate(function(){g()}):(s.update(m),f=r,l(a+1))}var w=k.next(),ea=f.clone(),y="",v=[],B;for(B in w){var x=w[B];c.isNamed(x)?y+=c.getName(x):(ea.isNamed(x)||v.push(x),y+=ea.getName(x));if(null!==m&&y.length>=m.length&&y>m)return da(!0)}t(0)}if(a===w.length)return d(null,{hash:s.digest(),pathNamer:f});var da=w[a];s.update(da);var m=null,r=null,k=new ra(t[da]);e.setImmediate(function(){g()})}
var s=N.create(),t={},w,m=b[a].quads;e.setImmediate(function(){g(0)})}function D(a,b){return"blank node"===a.type&&a.value!==b?a.value:null}function v(a,b,c,f,d,g){if(E(a))for(var l=0;l<a.length;++l)v(a[l],b,c,f,void 0,g);else if(F(a))if(S(a)){if("@type"in a){var s=a["@type"];0===s.indexOf("_:")&&(a["@type"]=f.getName(s))}g&&g.push(a)}else{if("@type"in a)for(var t=a["@type"],l=0;l<t.length;++l)s=t[l],0===s.indexOf("_:")&&f.getName(s);X(d)&&(d=ia(a)?f.getName(a["@id"]):a["@id"]);g&&g.push({"@id":d});
g=b[c];l=g[d]=g[d]||{};l["@id"]=d;s=Object.keys(a).sort();for(t=0;t<s.length;++t){var w=s[t];if("@id"!==w)if("@reverse"===w){var w={"@id":d},m=a["@reverse"],r;for(r in m)for(var k=m[r],y=0;y<k.length;++y){var B=k[y],A=B["@id"];ia(B)&&(A=f.getName(A));v(B,b,c,f,A);e.addValue(g[A],r,w,{propertyIsArray:!0,allowDuplicate:!1})}}else if("@graph"===w)d in b||(b[d]={}),v(a[w],b,"@merged"===c?c:d,f);else if("@type"!==w&&M(w)){if("@index"===w&&"@index"in l)throw new C("Invalid JSON-LD syntax; conflicting @index property detected.",
"jsonld.SyntaxError",{code:"conflicting indexes",subject:l});l[w]=a[w]}else if(m=a[w],0===w.indexOf("_:")&&(w=f.getName(w)),0===m.length)e.addValue(l,w,[],{propertyIsArray:!0});else for(k=0;k<m.length;++k)y=m[k],"@type"===w&&(y=0===y.indexOf("_:")?f.getName(y):y),B=y,A=!1,!F(B)||"@value"in B||"@set"in B||"@list"in B||(A=1<Object.keys(B).length||!("@id"in B)),A||Y(y)?(B=ia(y)?f.getName(y["@id"]):y["@id"],e.addValue(l,w,{"@id":B},{propertyIsArray:!0,allowDuplicate:!1}),v(y,b,c,f,B)):(T(y)?(B=[],v(y["@list"],
b,c,f,d,B),y={"@list":B}):v(y,b,c,f,d),e.addValue(l,w,y,{propertyIsArray:!0,allowDuplicate:!1}))}}else g&&g.push(a)}function G(a){for(var b=a["@default"],e=Object.keys(a).sort(),c=0;c<e.length;++c){var f=e[c];if("@default"!==f){var d=a[f],h=b[f];h?"@graph"in h||(h["@graph"]=[]):b[f]=h={"@id":f,"@graph":[]};for(var f=h["@graph"],h=Object.keys(d).sort(),g=0;g<h.length;++g){var l=d[h[g]];Y(l)||f.push(l)}}}return b}function x(a,b,e,c,f){var d=e;if(!E(d)||1!==d.length||!F(d[0]))throw new C("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.",
"jsonld.SyntaxError",{frame:d});e=e[0];for(var d=a.options,h={embed:u(e,d,"embed"),explicit:u(e,d,"explicit"),requireAll:u(e,d,"requireAll")},g=e,l={},w=0;w<b.length;++w){var m=b[w],r=a.subjects[m];z(r,g,h)&&(l[m]=r)}b=Object.keys(l).sort();for(var k in b)if(m=b[k],w=l[m],"@link"===h.embed&&m in a.link)t(c,f,a.link[m]);else{null===f&&(a.uniqueEmbeds={});g={};g["@id"]=m;a.link[m]=g;if(!(r="@never"===h.embed))a:{for(var r=a.subjectStack,y=r.length-1;0<=y;--y)if(r[y]["@id"]===w["@id"]){r=!0;break a}r=
!1}if(r)t(c,f,g);else{"@last"===h.embed&&(m in a.uniqueEmbeds&&s(a,m),a.uniqueEmbeds[m]={parent:c,property:f});a.subjectStack.push(w);m=Object.keys(w).sort();for(r=0;r<m.length;r++)if(y=m[r],M(y))g[y]=R(w[y]);else if(!h.explicit||y in e)for(var v=w[y],B=0;B<v.length;++B){var A=v[B];if(T(A)){var D={"@list":[]};t(g,y,D);var q=A["@list"],n;for(n in q)if(A=q[n],Y(A)){var G=y in e?e[y][0]["@list"]:H(h);x(a,[A["@id"]],G,D,"@list")}else t(D,"@list",R(A))}else Y(A)?(G=y in e?e[y]:H(h),x(a,[A["@id"]],G,g,
y)):t(g,y,R(A))}m=Object.keys(e).sort();for(r=0;r<m.length;++r)y=m[r],M(y)||(w=e[y][0],u(w,d,"omitDefault")||y in g||(v="@null","@default"in w&&(v=R(w["@default"])),E(v)||(v=[v]),g[y]=[{"@preserve":v}]));t(c,f,g);a.subjectStack.pop()}}}function H(a){var b={},e;for(e in a)void 0!==a[e]&&(b["@"+e]=[a[e]]);return[b]}function u(a,b,e){var c="@"+e;a=c in a?a[c][0]:b[e];"embed"===e&&(!0===a?a="@last":!1===a?a="@never":"@always"!==a&&"@never"!==a&&"@link"!==a&&(a="@last"));return a}function z(a,b,c){if("@type"in
b&&(1!==b["@type"].length||!F(b["@type"][0]))){b=b["@type"];for(c=0;c<b.length;++c)if(e.hasValue(a,"@type",b[c]))return!0;return!1}var f=!0,d=!1,g;for(g in b){if(M(g)){if("@id"!==g&&"@type"!==g)continue;f=!1;if("@id"===g&&J(b[g])){if(a[g]!==b[g])return!1;d=!0;continue}}f=!1;if(g in a){if(E(b[g])&&0===b[g].length&&void 0!==a[g])return!1;d=!0}else{var l=E(b[g])&&F(b[g][0])&&"@default"in b[g][0];if(c.requireAll&&!l)return!1}}return f||d}function s(a,b){var c=a.uniqueEmbeds,f=c[b],d=f.parent,g=f.property,
f={"@id":b};if(E(d))for(g=0;g<d.length;++g){if(e.compareValues(d[g],f)){d[g]=f;break}}else{var l=E(d[g]);e.removeValue(d,g,f,{propertyIsArray:l});e.addValue(d,g,f,{propertyIsArray:l})}var s=function(a){for(var b=Object.keys(c),e=0;e<b.length;++e){var f=b[e];f in c&&F(c[f].parent)&&c[f].parent["@id"]===a&&(delete c[f],s(f))}};s(b)}function t(a,b,c){F(a)?e.addValue(a,b,c,{propertyIsArray:!0}):a.push(c)}function w(a,b,c){if(E(b)){for(var f=[],d=0;d<b.length;++d){var g=w(a,b[d],c);null!==g&&f.push(g)}b=
f}else if(F(b)){if("@preserve"in b)return"@null"===b["@preserve"]?null:b["@preserve"];if(S(b))return b;if(T(b))return b["@list"]=w(a,b["@list"],c),b;g=B(a,"@id");if(g in b)if(g=b[g],g in c.link)if(d=c.link[g].indexOf(b),-1===d)c.link[g].push(b);else return c.link[g][d];else c.link[g]=[b];for(f in b)g=w(a,b[f],c),d=e.getContextValue(a,f,"@container"),c.compactArrays&&E(g)&&1===g.length&&null===d&&(g=g[0]),b[f]=g}return b}function y(a,b){return a.length<b.length?-1:b.length<a.length?1:a===b?0:a<b?-1:
1}function B(a,b,c,f,d){if(null===b)return b;X(c)&&(c=null);X(d)&&(d=!1);f=f||{};M(b)&&(f.vocab=!0);if(f.vocab&&b in a.getInverse()){var g=a["@language"]||"@none",l=[];F(c)&&"@index"in c&&l.push("@index");var s="@language",t="@null";if(d)s="@type",t="@reverse",l.push("@set");else if(T(c)){"@index"in c||l.push("@list");t=c["@list"];d=0===t.length?g:null;for(var g=null,w=0;w<t.length;++w){var m=t[w],r="@none",k="@none";S(m)?"@language"in m?r=m["@language"]:"@type"in m?k=m["@type"]:r="@null":k="@id";
null===d?d=r:r!==d&&S(m)&&(d="@none");null===g?g=k:k!==g&&(g="@none");if("@none"===d&&"@none"===g)break}d=d||"@none";g=g||"@none";"@none"!==g?(s="@type",t=g):t=d}else S(c)?"@language"in c&&!("@index"in c)?(l.push("@language"),t=c["@language"]):"@type"in c&&(s="@type",t=c["@type"]):(s="@type",t="@id"),l.push("@set");l.push("@none");a:{d=c;g=t;null===g&&(g="@null");t=[];"@id"!==g&&"@reverse"!==g||!Y(d)?t.push(g):("@reverse"===g&&t.push("@reverse"),g=B(a,d["@id"],null,{vocab:!0}),g in a.mappings&&a.mappings[g]&&
a.mappings[g]["@id"]===d["@id"]?t.push.apply(t,["@vocab","@id"]):t.push.apply(t,["@id","@vocab"]));t.push("@none");d=a.inverse[b];for(g=0;g<l.length;++g)if(w=l[g],w in d)for(w=d[w][s],m=0;m<t.length;++m)if(r=t[m],r in w){l=w[r];break a}l=null}if(null!==l)return l}if(f.vocab&&"@vocab"in a&&(s=a["@vocab"],0===b.indexOf(s)&&b!==s&&(s=b.substr(s.length),!(s in a.mappings))))return s;s=null;for(l in a.mappings)-1===l.indexOf(":")&&(t=a.mappings[l])&&t["@id"]!==b&&0===b.indexOf(t["@id"])&&(t=l+":"+b.substr(t["@id"].length),
t in a.mappings&&(null!==c||!a.mappings[t]||a.mappings[t]["@id"]!==b)||!(null===s||0>y(t,s))||(s=t));if(null!==s)return s;if(!f.vocab&&(a=a["@base"],null!==a&&(J(a)&&(a=e.url.parse(a||"")),c="",""!==a.href?c+=(a.protocol||"")+"//"+(a.authority||""):b.indexOf("//")&&(c+="//"),0===b.indexOf(c)))){b=e.url.parse(b.substr(c.length));a=a.normalizedPath.split("/");c=b.normalizedPath.split("/");for(f=b.fragment||b.query?0:1;0<a.length&&c.length>f&&a[0]===c[0];)a.shift(),c.shift();f="";if(0<a.length)for(a.pop(),
l=0;l<a.length;++l)f+="../";f+=c.join("/");null!==b.query&&(f+="?"+b.query);null!==b.fragment&&(f+="#"+b.fragment);""===f&&(f="./");b=f}return b}function L(a,b,c){if(S(c)){var f=e.getContextValue(a,b,"@type"),d=e.getContextValue(a,b,"@language"),g=e.getContextValue(a,b,"@container"),g="@index"in c&&"@index"!==g;if(!g&&(c["@type"]===f||c["@language"]===d))return c["@value"];var f=Object.keys(c).length,f=1===f||2===f&&"@index"in c&&!g,d="@language"in a,l=J(c["@value"]);b=a.mappings[b]&&null===a.mappings[b]["@language"];
if(f&&(!d||!l||b))return c["@value"];b={};g&&(b[B(a,"@index")]=c["@index"]);"@type"in c?b[B(a,"@type")]=B(a,c["@type"],null,{vocab:!0}):"@language"in c&&(b[B(a,"@language")]=c["@language"]);b[B(a,"@value")]=c["@value"];return b}g=I(a,b,{vocab:!0});f=e.getContextValue(a,b,"@type");c=B(a,c["@id"],null,{vocab:"@vocab"===f});if("@id"===f||"@vocab"===f||"@graph"===g)return c;b={};b[B(a,"@id")]=c;return b}function P(a,b,e,c){if(e in c){if(c[e])return;throw new C("Cyclical context definition detected.",
"jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:b,term:e});}c[e]=!1;if(M(e))throw new C("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:b,term:e});if(""===e)throw new C("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:b});a.mappings[e]&&delete a.mappings[e];var f=b[e];if(null===f||F(f)&&null===f["@id"])a.mappings[e]=null,c[e]=!0;else{J(f)&&(f={"@id":f});
if(!F(f))throw new C("Invalid JSON-LD syntax; @context property values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:b});var d=a.mappings[e]={};d.reverse=!1;if("@reverse"in f){if("@id"in f)throw new C("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:b});var h=f["@reverse"];if(!J(h))throw new C("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",
{code:"invalid IRI mapping",context:b});h=I(a,h,{vocab:!0,base:!1},b,c);if(!Z(h))throw new C("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:b});d["@id"]=h;d.reverse=!0}else if("@id"in f){h=f["@id"];if(!J(h))throw new C("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:b});if(h!==e){h=I(a,h,{vocab:!0,
base:!1},b,c);if(!Z(h)&&!M(h))throw new C("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:b});d["@id"]=h}}if(!("@id"in d)){var g=e.indexOf(":");if(-1!==g)h=e.substr(0,g),h in b&&P(a,b,h,c),a.mappings[h]?(g=e.substr(g+1),d["@id"]=a.mappings[h]["@id"]+g):d["@id"]=e;else{if(!("@vocab"in a))throw new C("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",
{code:"invalid IRI mapping",context:b,term:e});d["@id"]=a["@vocab"]+e}}c[e]=!0;if("@type"in f){e=f["@type"];if(!J(e))throw new C("Invalid JSON-LD syntax; an @context @type values must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:b});if("@id"!==e&&"@vocab"!==e){e=I(a,e,{vocab:!0,base:!1},b,c);if(!Z(e))throw new C("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:b});if(0===e.indexOf("_:"))throw new C("Invalid JSON-LD syntax; an @context @type values must be an IRI, not a blank node identifier.",
"jsonld.SyntaxError",{code:"invalid type mapping",context:b});}d["@type"]=e}if("@container"in f){a=f["@container"];if("@list"!==a&&"@set"!==a&&"@index"!==a&&"@language"!==a)throw new C("Invalid JSON-LD syntax; @context @container value must be one of the following: @list, @set, @index, or @language.","jsonld.SyntaxError",{code:"invalid container mapping",context:b});if(d.reverse&&"@index"!==a&&"@set"!==a&&null!==a)throw new C("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.",
"jsonld.SyntaxError",{code:"invalid reverse property",context:b});d["@container"]=a}if("@language"in f&&!("@type"in f)){f=f["@language"];if(null!==f&&!J(f))throw new C("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:b});null!==f&&(f=f.toLowerCase());d["@language"]=f}h=d["@id"];if("@context"===h||"@preserve"===h)throw new C("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",
{code:"invalid keyword alias",context:b});}}function I(a,b,e,c,f){if(null===b||M(b))return b;c&&b in c&&!0!==f[b]&&P(a,c,b,f);e=e||{};if(e.vocab){var d=a.mappings[b];if(null===d)return null;if(d)return d["@id"]}d=b.indexOf(":");if(-1!==d){e=b.substr(0,d);var h=b.substr(d+1);if("_"===e||0===h.indexOf("//"))return b;c&&e in c&&P(a,c,e,f);return(d=a.mappings[e])?d["@id"]+h:b}if(e.vocab&&"@vocab"in a)return a["@vocab"]+b;e.base&&(b=V(a["@base"],b));return b}function V(a,b){if(null===a||-1!==b.indexOf(":"))return b;
J(a)&&(a=e.url.parse(a||""));var c=e.url.parse(b),f=a.protocol||"",d,g,l;null!==c.authority?(d=c.authority,g=c.path,l=c.query):(d=a.authority,""===c.path?(g=a.path,l=null!==c.query?c.query:a.query):(0===c.path.indexOf("/")?g=c.path:(g=a.path,""!==c.path&&(g=g.substr(0,g.lastIndexOf("/")+1),0<g.length&&"/"!==g.substr(-1)&&(g+="/"),g+=c.path)),l=c.query));g=va(g,!!d);null!==d&&(f+="//"+d);f+=g;null!==l&&(f+="?"+l);null!==c.fragment&&(f+="#"+c.fragment);""===f&&(f="./");return f}function Q(a){return{"@base":e.url.parse(a.base||
""),mappings:{},inverse:null,getInverse:function(){if(this.inverse)return this.inverse;for(var a=this.inverse={},b=this["@language"]||"@none",e=this.mappings,c=Object.keys(e).sort(y),f=0;f<c.length;++f){var d=c[f],h=e[d];if(null!==h){var g=h["@container"]||"@none",l=h["@id"];E(l)||(l=[l]);for(var t=0;t<l.length;++t){var s=l[t],w=a[s];w||(a[s]=w={});w[g]||(w[g]={"@language":{},"@type":{}});w=w[g];h.reverse?(w=w["@type"],"@reverse"in w||(w["@reverse"]=d)):"@type"in h?(w=w["@type"],s=h["@type"],s in
w||(w[s]=d)):"@language"in h?(w=w["@language"],s=h["@language"]||"@null",s in w||(w[s]=d)):(s=w["@language"],b in s||(s[b]=d),s=w["@type"],"@none"in s||(s["@none"]=d),w=w["@language"],"@none"in w||(w["@none"]=d))}}}return a},clone:function(){var a={};a["@base"]=this["@base"];a.mappings=R(this.mappings);a.clone=this.clone;a.inverse=null;a.getInverse=this.getInverse;"@language"in this&&(a["@language"]=this["@language"]);"@vocab"in this&&(a["@vocab"]=this["@vocab"]);return a}}}function M(a){if(!J(a))return!1;
switch(a){case "@base":case "@context":case "@container":case "@default":case "@embed":case "@explicit":case "@graph":case "@id":case "@index":case "@language":case "@list":case "@omitDefault":case "@preserve":case "@requireAll":case "@reverse":case "@set":case "@type":case "@value":case "@vocab":return!0}return!1}function F(a){return"[object Object]"===Object.prototype.toString.call(a)}function E(a){return Array.isArray(a)}function J(a){return"string"===typeof a||"[object String]"===Object.prototype.toString.call(a)}
function ga(a){return"number"===typeof a||"[object Number]"===Object.prototype.toString.call(a)}function ha(a){return ga(a)&&-1!==String(a).indexOf(".")}function X(a){return"undefined"===typeof a}function Y(a){return F(a)&&1===Object.keys(a).length&&"@id"in a}function S(a){return F(a)&&"@value"in a}function T(a){return F(a)&&"@list"in a}function ia(a){var b=!1;F(a)&&(b="@id"in a?0===a["@id"].indexOf("_:"):0===Object.keys(a).length||!("@value"in a||"@set"in a||"@list"in a));return b}function Z(a){return J(a)&&
-1!==a.indexOf(":")}function R(a){if(a&&"object"===typeof a){var b;if(E(a)){b=[];for(var e=0;e<a.length;++e)b[e]=R(a[e])}else if(F(a))for(e in b={},a)b[e]=R(a[e]);else b=a.toString();return b}return a}function fa(a,b,e,c){var f=Object.keys(b).length;if(E(a)){for(var d=0;d<a.length;++d)fa(a[d],b,e,c);return f<Object.keys(b).length}if(F(a)){for(var h in a)if("@context"!==h)fa(a[h],b,e,c);else{var g=a[h];if(E(g))for(var l=g.length,d=0;d<l;++d){var s=g[d];J(s)&&(s=V(c,s),e?(s=b[s],E(s)?(Array.prototype.splice.apply(g,
[d,1].concat(s)),d+=s.length-1,l=g.length):g[d]=s):s in b||(b[s]=!1))}else J(g)&&(g=V(c,g),e?a[h]=b[g]:g in b||(b[g]=!1))}return f<Object.keys(b).length}return!1}function wa(a,b,e){var c=null,f=function(a,b,e,d,g){if(Object.keys(b).length>xa)return c=new C("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"loading remote context failed",max:xa}),g(c);var h={};fa(a,h,!1,d)||(fa(a,h,!0,d),g(null,a));var l=[],s;for(s in h)!1===h[s]&&l.push(s);var t=l.length;for(s=0;s<l.length;++s)(function(l){if(l in
b)return c=new C("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"recursive context inclusion",url:l}),g(c);var s=R(b);s[l]=!0;var w=function(b,w){if(!c){var m=w?w.document:null;if(!b&&J(m))try{m=JSON.parse(m)}catch(r){b=r}b?b=new C("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.",
"jsonld.InvalidUrl",{code:"loading remote context failed",url:l,cause:b}):F(m)||(b=new C("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:l,cause:b}));if(b)return c=b,g(c);m="@context"in m?{"@context":m["@context"]}:{"@context":{}};w.contextUrl&&(E(m["@context"])||(m["@context"]=[m["@context"]]),m["@context"].push(w.contextUrl));f(m,s,e,l,function(b,e){if(b)return g(b);h[l]=e["@context"];
t-=1;0===t&&(fa(a,h,!0,d),g(null,a))})}},m=e(l,w);m&&"then"in m&&m.then(w.bind(null,null),w)})(l[s])};f(a,{},b.documentLoader,b.base,e)}function ya(a){var b=/^[ \t]*$/,e=RegExp('^[ \\t]*(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z0-9]+)))[ \\t]+(?:<([^:]+:[^>]*)>)[ \\t]+(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z0-9]+))|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^(?:<([^:]+:[^>]*)>))|(?:@([a-z]+(?:-[a-z0-9]+)*)))?))[ \\t]*(?:\\.|(?:(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z0-9]+)))[ \\t]*\\.))[ \\t]*$'),c={};a=a.split(/(?:\r\n)|(?:\n)|(?:\r)/g);
for(var f=0,d=0;d<a.length;++d){var g=a[d];f++;if(!b.test(g)){var h=g.match(e);if(null===h)throw new C("Error while parsing N-Quads; invalid quad.","jsonld.ParseError",{line:f});g={};X(h[1])?g.subject={type:"blank node",value:h[2]}:g.subject={type:"IRI",value:h[1]};g.predicate={type:"IRI",value:h[3]};if(X(h[4]))if(X(h[5])){g.object={type:"literal"};X(h[7])?X(h[8])?g.object.datatype=ba:(g.object.datatype=la,g.object.language=h[8]):g.object.datatype=h[7];var l=h[6].replace(/\\"/g,'"').replace(/\\t/g,
"\t").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\\\/g,"\\");g.object.value=l}else g.object={type:"blank node",value:h[5]};else g.object={type:"IRI",value:h[4]};l="@default";X(h[9])?X(h[10])||(l=h[10]):l=h[9];if(l in c){for(var h=!0,l=c[l],s=0;h&&s<l.length;++s){var t;a:{t=l[s];for(var w=["subject","predicate","object"],m=0;m<w.length;++m){var r=w[m];if(t[r].type!==g[r].type||t[r].value!==g[r].value){t=!1;break a}}t=t.object.language!==g.object.language||t.object.datatype!==g.object.datatype?
!1:!0}t&&(h=!1)}h&&l.push(g)}else c[l]=[g]}}return c}function qa(a,b,e){var c=a.subject,f=a.predicate;a=a.object;var d="",d="IRI"===c.type?d+("<"+c.value+">"):e?d+(c.value===e?"_:a":"_:z"):d+c.value,d=d+" ",d="IRI"===f.type?d+("<"+f.value+">"):e?d+"_:p":d+f.value,d=d+" ";"IRI"===a.type?d+="<"+a.value+">":"blank node"===a.type?d=e?d+(a.value===e?"_:a":"_:z"):d+a.value:(c=a.value.replace(/\\/g,"\\\\").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\"/g,'\\"'),d+='"'+c+'"',a.datatype===
la?a.language&&(d+="@"+a.language):a.datatype!==ba&&(d+="^^<"+a.datatype+">"));null!==b&&(d=0!==b.indexOf("_:")?d+(" <"+b+">"):e?d+" _:g":d+(" "+b));return d+" .\n"}function U(a){this.prefix=a;this.counter=0;this.existing={}}function va(a,b){var e="";0===a.indexOf("/")&&(e="/");for(var c=a.split("/"),f=[];0<c.length;)"."===c[0]||""===c[0]&&1<c.length?c.shift():".."===c[0]?(c.shift(),b||0<f.length&&".."!==f[f.length-1]?f.pop():f.push("..")):f.push(c.shift());return e+f.join("/")}e.compact=function(a,
b,c,f){if(2>arguments.length)return e.nextTick(function(){f(new TypeError("Could not compact, too few arguments."))});"function"===typeof c&&(f=c,c={});c=c||{};if(null===b)return e.nextTick(function(){f(new C("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"}))});if(null===a)return e.nextTick(function(){f(null,null)});"base"in c||(c.base="string"===typeof a?a:"");"compactArrays"in c||(c.compactArrays=!0);"graph"in c||(c.graph=!1);"skipExpansion"in c||(c.skipExpansion=
!1);"documentLoader"in c||(c.documentLoader=e.loadDocument);"link"in c||(c.link=!1);c.link&&(c.skipExpansion=!0);(function(a,b,c){e.nextTick(function(){if(b.skipExpansion)return c(null,a);e.expand(a,b,c)})})(a,c,function(a,d){if(a)return f(new C("Could not expand input before compaction.","jsonld.CompactError",{cause:a}));var g=Q(c);e.processContext(g,b,c,function(a,e){if(a)return f(new C("Could not process context before compaction.","jsonld.CompactError",{cause:a}));var g;try{g=(new O).compact(e,
null,d,c)}catch(h){return f(h)}var l=c;l.compactArrays&&!l.graph&&E(g)?1===g.length?g=g[0]:0===g.length&&(g={}):l.graph&&F(g)&&(g=[g]);F(b)&&"@context"in b&&(b=b["@context"]);b=R(b);E(b)||(b=[b]);l=b;b=[];for(var s=0;s<l.length;++s)(!F(l[s])||0<Object.keys(l[s]).length)&&b.push(l[s]);l=0<b.length;1===b.length&&(b=b[0]);if(E(g)){var t=B(e,"@graph"),s=g;g={};l&&(g["@context"]=b);g[t]=s}else if(F(g)&&l)for(t in s=g,g={"@context":b},s)g[t]=s[t];f(null,g,e)})})};e.expand=function(a,b,c){function f(a){"base"in
b||(b.base=a.documentUrl||"");a={document:R(a.document),remoteContext:{"@context":a.contextUrl}};if("expandContext"in b){var e=R(b.expandContext);a.expandContext="object"===typeof e&&"@context"in e?e:{"@context":e}}wa(a,b,function(a,e){if(a)return c(a);var f;try{var d=new O,g=Q(b),h=e.document,l=e.remoteContext["@context"];e.expandContext&&(g=d.processContext(g,e.expandContext["@context"],b));l&&(g=d.processContext(g,l,b));f=d.expand(g,null,h,b,!1);F(f)&&"@graph"in f&&1===Object.keys(f).length?f=
f["@graph"]:null===f&&(f=[]);E(f)||(f=[f])}catch(s){return c(s)}c(null,f)})}if(1>arguments.length)return e.nextTick(function(){c(new TypeError("Could not expand, too few arguments."))});"function"===typeof b&&(c=b,b={});b=b||{};"documentLoader"in b||(b.documentLoader=e.loadDocument);"keepFreeFloatingNodes"in b||(b.keepFreeFloatingNodes=!1);e.nextTick(function(){if("string"===typeof a){var e=function(a,b){if(a)return c(a);try{if(!b.document)throw new C("No remote document found at the given URL.",
"jsonld.NullRemoteDocument");"string"===typeof b.document&&(b.document=JSON.parse(b.document))}catch(e){return c(new C("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",cause:e,remoteDoc:b}))}f(b)},d=b.documentLoader(a,e);d&&"then"in d&&d.then(e.bind(null,null),e)}else f({contextUrl:null,documentUrl:null,document:a})})};e.flatten=function(a,b,c,f){if(1>arguments.length)return e.nextTick(function(){f(new TypeError("Could not flatten, too few arguments."))});
"function"===typeof c?(f=c,c={}):"function"===typeof b&&(f=b,b=null,c={});c=c||{};"base"in c||(c.base="string"===typeof a?a:"");"documentLoader"in c||(c.documentLoader=e.loadDocument);e.expand(a,c,function(a,d){if(a)return f(new C("Could not expand input before flattening.","jsonld.FlattenError",{cause:a}));var g;try{g=(new O).flatten(d)}catch(l){return f(l)}if(null===b)return f(null,g);c.graph=!0;c.skipExpansion=!0;e.compact(g,b,c,function(a,b){if(a)return f(new C("Could not compact flattened output.",
"jsonld.FlattenError",{cause:a}));f(null,b)})})};e.frame=function(a,b,c,f){function d(b){var g=b.document,l;g?(l=g["@context"],b.contextUrl?(l?E(l)?l.push(b.contextUrl):l=[l,b.contextUrl]:l=b.contextUrl,g["@context"]=l):l=l||{}):l={};e.expand(a,c,function(a,b){if(a)return f(new C("Could not expand input before framing.","jsonld.FrameError",{cause:a}));var d=R(c);d.isFrame=!0;d.keepFreeFloatingNodes=!0;e.expand(g,d,function(a,c){if(a)return f(new C("Could not expand frame before framing.","jsonld.FrameError",
{cause:a}));var g;try{g=(new O).frame(b,c,d)}catch(s){return f(s)}d.graph=!0;d.skipExpansion=!0;d.link={};e.compact(g,l,d,function(a,b,e){if(a)return f(new C("Could not compact framed output.","jsonld.FrameError",{cause:a}));a=B(e,"@graph");d.link={};b[a]=w(e,b[a],d);f(null,b)})})})}if(2>arguments.length)return e.nextTick(function(){f(new TypeError("Could not frame, too few arguments."))});"function"===typeof c&&(f=c,c={});c=c||{};"base"in c||(c.base="string"===typeof a?a:"");"documentLoader"in c||
(c.documentLoader=e.loadDocument);"embed"in c||(c.embed="@last");c.explicit=c.explicit||!1;"requireAll"in c||(c.requireAll=!0);c.omitDefault=c.omitDefault||!1;e.nextTick(function(){if("string"===typeof b){var a=function(a,b){if(a)return f(a);try{if(!b.document)throw new C("No remote document found at the given URL.","jsonld.NullRemoteDocument");"string"===typeof b.document&&(b.document=JSON.parse(b.document))}catch(e){return f(new C("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.",
"jsonld.LoadDocumentError",{code:"loading document failed",cause:e,remoteDoc:b}))}d(b)},e=c.documentLoader(b,a);e&&"then"in e&&e.then(a.bind(null,null),a)}else d({contextUrl:null,documentUrl:null,document:b})})};e.link=function(a,b,c,f){var d={};b&&(d["@context"]=b);d["@embed"]="@link";e.frame(a,d,c,f)};e.objectify=function(a,b,c,f){"function"===typeof c&&(f=c,c={});c=c||{};"base"in c||(c.base="string"===typeof a?a:"");"documentLoader"in c||(c.documentLoader=e.loadDocument);e.expand(a,c,function(a,
d){if(a)return f(new C("Could not expand input before linking.","jsonld.LinkError",{cause:a}));var g;try{g=(new O).flatten(d)}catch(l){return f(l)}c.graph=!0;c.skipExpansion=!0;e.compact(g,b,c,function(a,b,c){if(a)return f(new C("Could not compact flattened output before linking.","jsonld.LinkError",{cause:a}));a=B(c,"@graph");var d=b[a][0],g=function(a){if(F(a)||E(a)){if(F(a)){if(g.visited[a["@id"]])return;g.visited[a["@id"]]=!0}for(var b in a){var f=a[b],l="@id"===e.getContextValue(c,b,"@type");
if(E(f)||F(f)||l)if(J(f)&&l)a[b]=f=d[f],g(f);else if(E(f))for(var s=0;s<f.length;++s)J(f[s])&&l?f[s]=d[f[s]]:F(f[s])&&"@id"in f[s]&&(f[s]=d[f[s]["@id"]]),g(f[s]);else F(f)&&(a[b]=f=d[f["@id"]],g(f))}}};g.visited={};g(d);b.of_type={};for(var l in d)if("@type"in d[l]){a=d[l]["@type"];E(a)||(a=[a]);for(var s in a)a[s]in b.of_type||(b.of_type[a[s]]=[]),b.of_type[a[s]].push(d[l])}f(null,b)})})};e.normalize=function(a,b,c){if(1>arguments.length)return e.nextTick(function(){c(new TypeError("Could not normalize, too few arguments."))});
"function"===typeof b&&(c=b,b={});b=b||{};"base"in b||(b.base="string"===typeof a?a:"");"documentLoader"in b||(b.documentLoader=e.loadDocument);var f=R(b);delete f.format;f.produceGeneralizedRdf=!1;e.toRDF(a,f,function(a,e){if(a)return c(new C("Could not convert input to RDF dataset before normalization.","jsonld.NormalizeError",{cause:a}));(new O).normalize(e,b,c)})};e.fromRDF=function(a,b,c){if(1>arguments.length)return e.nextTick(function(){c(new TypeError("Could not convert from RDF, too few arguments."))});
"function"===typeof b&&(c=b,b={});b=b||{};"useRdfType"in b||(b.useRdfType=!1);"useNativeTypes"in b||(b.useNativeTypes=!1);"format"in b||!J(a)||"format"in b||(b.format="application/nquads");e.nextTick(function(){function e(a,b,c){(new O).fromRDF(a,b,c)}var f;if(b.format){if(f=b.rdfParser||sa[b.format],!f)return c(new C("Unknown input format.","jsonld.UnknownFormat",{format:b.format}))}else f=function(){return a};var d=!1;try{a=f(a,function(a,f){d=!0;if(a)return c(a);e(f,b,c)})}catch(g){if(!d)return c(g);
throw g;}if(a){if("then"in a)return a.then(function(a){e(a,b,c)},c);e(a,b,c)}})};e.toRDF=function(a,b,c){if(1>arguments.length)return e.nextTick(function(){c(new TypeError("Could not convert to RDF, too few arguments."))});"function"===typeof b&&(c=b,b={});b=b||{};"base"in b||(b.base="string"===typeof a?a:"");"documentLoader"in b||(b.documentLoader=e.loadDocument);e.expand(a,b,function(a,e){if(a)return c(new C("Could not expand input before serialization to RDF.","jsonld.RdfError",{cause:a}));var f;
try{if(f=O.prototype.toRDF(e,b),b.format){if("application/nquads"===b.format){var d=c,g,h=[],l;for(l in f)for(var s=f[l],t=0;t<s.length;++t){var w=s[t];"@default"===l&&(l=null);h.push(qa(w,l))}h.sort();g=h.join("");return d(null,g)}throw new C("Unknown output format.","jsonld.UnknownFormat",{format:b.format});}}catch(m){return c(m)}c(null,f)})};e.createNodeMap=function(a,b,c){if(1>arguments.length)return e.nextTick(function(){c(new TypeError("Could not create node map, too few arguments."))});"function"===
typeof b&&(c=b,b={});b=b||{};"base"in b||(b.base="string"===typeof a?a:"");"documentLoader"in b||(b.documentLoader=e.loadDocument);e.expand(a,b,function(a,e){if(a)return c(new C("Could not expand input before creating node map.","jsonld.CreateNodeMapError",{cause:a}));var f;try{f=(new O).createNodeMap(e,b)}catch(d){return c(d)}c(null,f)})};e.merge=function(a,b,c,f){function d(a,b){if(!s){if(a)return s=a,f(new C("Could not expand input before flattening.","jsonld.FlattenError",{cause:a}));l.push(b);
0===--t&&g(l)}}function g(a){var d=!0;"mergeNodes"in c&&(d=c.mergeNodes);var l=c.namer||new U("_:b"),s={"@default":{}},t;try{for(var w=0;w<a.length;++w){var m=a[w],m=e.relabelBlankNodes(m,{namer:new U("_:b"+w+"-")}),r=d||0===w?s:{"@default":{}};v(m,r,"@default",l);if(r!==s)for(var k in r){var y=r[k];if(k in s){var B=s[k],A;for(A in y)A in B||(B[A]=y[A])}else s[k]=y}}t=G(s)}catch(x){return f(x)}a=[];d=Object.keys(t).sort();for(l=0;l<d.length;++l)s=t[d[l]],Y(s)||a.push(s);if(null===b)return f(null,
a);c.graph=!0;c.skipExpansion=!0;e.compact(a,b,c,function(a,b){if(a)return f(new C("Could not compact merged output.","jsonld.MergeError",{cause:a}));f(null,b)})}if(1>arguments.length)return e.nextTick(function(){f(new TypeError("Could not merge, too few arguments."))});if(!E(a))return e.nextTick(function(){f(new TypeError('Could not merge, "docs" must be an array.'))});"function"===typeof c?(f=c,c={}):"function"===typeof b&&(f=b,b=null,c={});c=c||{};for(var l=[],s=null,t=a.length,w=0;w<a.length;++w){var m=
{},r;for(r in c)m[r]=c[r];e.expand(a[w],m,d)}};e.relabelBlankNodes=function(a,b){b=b||{};var e=b.namer||new U("_:b");return f(e,a)};e.documentLoader=function(a,b){var c=new C("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed"});return d?b(c,{contextUrl:null,documentUrl:a,document:null}):e.promisify(function(a){a(c)})};e.loadDocument=function(a,b){var c=e.documentLoader(a,b);c&&"then"in c&&c.then(b.bind(null,
null),b)};e.promises=function(a){a=a||{};var b=Array.prototype.slice,c=e.promisify,f=a.api||{},d=a.version||"jsonld.js";"string"===typeof a.api&&(a.version||(d=a.api),f={});f.expand=function(a){if(1>arguments.length)throw new TypeError("Could not expand, too few arguments.");return c.apply(null,[e.expand].concat(b.call(arguments)))};f.compact=function(a,f){if(2>arguments.length)throw new TypeError("Could not compact, too few arguments.");return c.apply(null,[function(a,b,c,f){e.compact(a,b,c,function(a,
b){f(a,b)})}].concat(b.call(arguments)))};f.flatten=function(a){if(1>arguments.length)throw new TypeError("Could not flatten, too few arguments.");return c.apply(null,[e.flatten].concat(b.call(arguments)))};f.frame=function(a,f){if(2>arguments.length)throw new TypeError("Could not frame, too few arguments.");return c.apply(null,[e.frame].concat(b.call(arguments)))};f.fromRDF=function(a){if(1>arguments.length)throw new TypeError("Could not convert from RDF, too few arguments.");return c.apply(null,
[e.fromRDF].concat(b.call(arguments)))};f.toRDF=function(a){if(1>arguments.length)throw new TypeError("Could not convert to RDF, too few arguments.");return c.apply(null,[e.toRDF].concat(b.call(arguments)))};f.normalize=function(a){if(1>arguments.length)throw new TypeError("Could not normalize, too few arguments.");return c.apply(null,[e.normalize].concat(b.call(arguments)))};"jsonld.js"===d&&(f.link=function(a,f){if(2>arguments.length)throw new TypeError("Could not link, too few arguments.");return c.apply(null,
[e.link].concat(b.call(arguments)))},f.objectify=function(a){return c.apply(null,[e.objectify].concat(b.call(arguments)))},f.createNodeMap=function(a){return c.apply(null,[e.createNodeMap].concat(b.call(arguments)))},f.merge=function(a){return c.apply(null,[e.merge].concat(b.call(arguments)))});try{e.Promise=n.Promise||q("es6-promise").Promise}catch(g){a=function(){throw Error("Unable to find a Promise implementation.");};for(var l in f)f[l]=a}return f};e.promisify=function(a){if(!e.Promise)try{e.Promise=
n.Promise||q("es6-promise").Promise}catch(b){throw Error("Unable to find a Promise implementation.");}var c=Array.prototype.slice.call(arguments,1);return new e.Promise(function(b,e){a.apply(null,c.concat(function(a,c){a?e(a):b(c)}))})};e.promises({api:e.promises});c.prototype=e.promises({version:"json-ld-1.0"});c.prototype.toString=function(){return this instanceof c?"[object JsonLdProcessor]":"[object JsonLdProcessorPrototype]"};e.JsonLdProcessor=c;var ca=!!Object.defineProperty;if(ca)try{Object.defineProperty({},
"x",{})}catch(Aa){ca=!1}ca&&(Object.defineProperty(c,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(c.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:c}));a&&"undefined"===typeof n.JsonLdProcessor&&(ca?Object.defineProperty(n,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:c}):n.JsonLdProcessor=c);"undefined"!==typeof k&&k.nextTick?(e.nextTick=k.nextTick,e.setImmediate="function"===typeof setImmediate?setImmediate:e.nextTick):"function"===
typeof setImmediate?e.setImmediate=e.nextTick=function(a){return setImmediate(a)}:(e.setImmediate=function(a){setTimeout(a,0)},e.nextTick=e.setImmediate);e.parseLinkHeader=function(a){var b={};a=a.match(/(?:<[^>]*?>|"[^"]*?"|[^,])+/g);for(var e=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,c=0;c<a.length;++c){var f=a[c].match(e);if(f){for(var d={target:f[1]},g=f[2],h=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g;f=h.exec(g);)d[f[1]]=void 0===f[2]?f[3]:f[2];f=d.rel||"";E(b[f])?b[f].push(d):b[f]=f in b?[b[f],
d]:d}}return b};e.DocumentCache=function(a){this.order=[];this.cache={};this.size=a||50;this.expires=3E4};e.DocumentCache.prototype.get=function(a){if(a in this.cache){var b=this.cache[a];if(b.expires>=+new Date)return b.ctx;delete this.cache[a];this.order.splice(this.order.indexOf(a),1)}return null};e.DocumentCache.prototype.set=function(a,b){this.order.length===this.size&&delete this.cache[this.order.shift()];this.order.push(a);this.cache[a]={ctx:b,expires:+new Date+this.expires}};e.ActiveContextCache=
function(a){this.order=[];this.cache={};this.size=a||100};e.ActiveContextCache.prototype.get=function(a,b){var e=JSON.stringify(a),c=JSON.stringify(b);return(e=this.cache[e])&&c in e?e[c]:null};e.ActiveContextCache.prototype.set=function(a,b,e){if(this.order.length===this.size){var c=this.order.shift();delete this.cache[c.activeCtx][c.localCtx]}a=JSON.stringify(a);b=JSON.stringify(b);this.order.push({activeCtx:a,localCtx:b});a in this.cache||(this.cache[a]={});this.cache[a][b]=R(e)};e.cache={activeCtx:new e.ActiveContextCache};
e.documentLoaders={};e.documentLoaders.jquery=function(a,b){b=b||{};var c=function(c,f){if(0!==c.indexOf("http:")&&0!==c.indexOf("https:"))return f(new C('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:c}),{contextUrl:null,documentUrl:c,document:null});if(b.secure&&0!==c.indexOf("https"))return f(new C('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",
{code:"loading document failed",url:c}),{contextUrl:null,documentUrl:c,document:null});a.ajax({url:c,accepts:{json:"application/ld+json, application/json"},headers:{Accept:"application/ld+json, application/json"},dataType:"json",crossDomain:!0,success:function(a,b,d){a={contextUrl:null,documentUrl:c,document:a};b=d.getResponseHeader("Content-Type");if((d=d.getResponseHeader("Link"))&&"application/ld+json"!==b){d=e.parseLinkHeader(d)[ta];if(E(d))return f(new C("URL could not be dereferenced, it has more than one associated HTTP Link Header.",
"jsonld.InvalidUrl",{code:"multiple context link headers",url:c}),a);d&&(a.contextUrl=d.target)}f(null,a)},error:function(a,b,e){f(new C("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:c,cause:e}),{contextUrl:null,documentUrl:c,document:null})}})},f="undefined"!==typeof Promise;"usePromise"in b&&(f=b.usePromise);return f?function(a){return e.promisify(c,a)}:c};e.documentLoaders.node=function(a){function b(s,t,w){if(0!==s.indexOf("http:")&&
0!==s.indexOf("https:"))return w(new C('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:s}),{contextUrl:null,documentUrl:s,document:null});if(a.secure&&0!==s.indexOf("https"))return w(new C('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:s}),{contextUrl:null,documentUrl:s,document:null});var m=l.get(s);if(null!==m)return w(null,
m);d({url:s,headers:{Accept:"application/ld+json, application/json"},strictSSL:c,followRedirect:!1},function(a,c,d){m={contextUrl:null,documentUrl:s,document:d||null};if(a)return w(new C("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:s,cause:a}),m);var r=g.STATUS_CODES[c.statusCode];if(400<=c.statusCode)return w(new C("URL could not be dereferenced: "+r,"jsonld.InvalidUrl",{code:"loading document failed",url:s,httpStatusCode:c.statusCode}),
m);if(c.headers.link&&"application/ld+json"!==c.headers["content-type"]){r=e.parseLinkHeader(c.headers.link)[ta];if(E(r))return w(new C("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:s}),m);r&&(m.contextUrl=r.target)}if(300<=c.statusCode&&400>c.statusCode&&c.headers.location){if(t.length===f)return w(new C("URL could not be dereferenced; there were too many redirects.","jsonld.TooManyRedirects",{code:"loading document failed",
url:s,httpStatusCode:c.statusCode,redirects:t}),m);if(-1!==t.indexOf(s))return w(new C("URL could not be dereferenced; infinite redirection was detected.","jsonld.InfiniteRedirectDetected",{code:"recursive context inclusion",url:s,httpStatusCode:c.statusCode,redirects:t}),m);t.push(s);return b(c.headers.location,t,w)}t.push(s);for(c=0;c<t.length;++c)l.set(t[c],{contextUrl:null,documentUrl:t[c],document:d});w(a,m)})}a=a||{};var c="strictSSL"in a?a.strictSSL:!0,f="maxRedirects"in a?a.maxRedirects:-1,
d=q("request"),g=q("http"),l=new e.DocumentCache,s=function(a,e){b(a,[],e)};return a.usePromise?function(a){return e.promisify(s,a)}:s};e.documentLoaders.xhr=function(a){var b=/(^|(\r\n))link:/i;a=a||{};var c=function(c,f){if(0!==c.indexOf("http:")&&0!==c.indexOf("https:"))return f(new C('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:c}),{contextUrl:null,documentUrl:c,document:null});if(a.secure&&0!==c.indexOf("https"))return f(new C('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',
"jsonld.InvalidUrl",{code:"loading document failed",url:c}),{contextUrl:null,documentUrl:c,document:null});var d=new (a.xhr||XMLHttpRequest);d.onload=function(a){if(400<=d.status)return f(new C("URL could not be dereferenced: "+d.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:c,httpStatusCode:d.status}),{contextUrl:null,documentUrl:c,document:null});a={contextUrl:null,documentUrl:c,document:d.response};var g=d.getResponseHeader("Content-Type"),l;b.test(d.getAllResponseHeaders())&&
(l=d.getResponseHeader("Link"));if(l&&"application/ld+json"!==g){l=e.parseLinkHeader(l)[ta];if(E(l))return f(new C("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:c}),a);l&&(a.contextUrl=l.target)}f(null,a)};d.onerror=function(){f(new C("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:c}),{contextUrl:null,documentUrl:c,document:null})};
d.open("GET",c,!0);d.setRequestHeader("Accept","application/ld+json, application/json");d.send()},f="undefined"!==typeof Promise;"usePromise"in a&&(f=a.usePromise);return f?function(a){return e.promisify(c,a)}:c};e.useDocumentLoader=function(a){if(!(a in e.documentLoaders))throw new C('Unknown document loader type: "'+a+'"',"jsonld.UnknownDocumentLoader",{type:a});e.documentLoader=e.documentLoaders[a].apply(e,Array.prototype.slice.call(arguments,1))};e.processContext=function(a,b){var c={},f=2;3<
arguments.length&&(c=arguments[2]||{},f+=1);var d=arguments[f];"base"in c||(c.base="");"documentLoader"in c||(c.documentLoader=e.loadDocument);if(null===b)return d(null,Q(c));b=R(b);F(b)&&"@context"in b||(b={"@context":b});wa(b,c,function(b,e){if(b)return d(b);try{e=(new O).processContext(a,e,c)}catch(f){return d(f)}d(null,e)})};e.hasProperty=function(a,b){var e=!1;b in a&&(e=a[b],e=!E(e)||0<e.length);return e};e.hasValue=function(a,b,c){var f=!1;if(e.hasProperty(a,b))if(a=a[b],b=T(a),E(a)||b)for(b&&
(a=a["@list"]),b=0;b<a.length;++b){if(e.compareValues(c,a[b])){f=!0;break}}else E(c)||(f=e.compareValues(c,a));return f};e.addValue=function(a,b,c,f){f=f||{};"propertyIsArray"in f||(f.propertyIsArray=!1);"allowDuplicate"in f||(f.allowDuplicate=!0);if(E(c)){0!==c.length||!f.propertyIsArray||b in a||(a[b]=[]);for(var d=0;d<c.length;++d)e.addValue(a,b,c[d],f)}else b in a?(d=!f.allowDuplicate&&e.hasValue(a,b,c),E(a[b])||d&&!f.propertyIsArray||(a[b]=[a[b]]),d||a[b].push(c)):a[b]=f.propertyIsArray?[c]:
c};e.getValues=function(a,b){var e=a[b]||[];E(e)||(e=[e]);return e};e.removeProperty=function(a,b){delete a[b]};e.removeValue=function(a,b,c,f){f=f||{};"propertyIsArray"in f||(f.propertyIsArray=!1);var d=e.getValues(a,b).filter(function(a){return!e.compareValues(a,c)});0===d.length?e.removeProperty(a,b):a[b]=1!==d.length||f.propertyIsArray?d:d[0]};e.compareValues=function(a,b){return a===b||S(a)&&S(b)&&a["@value"]===b["@value"]&&a["@type"]===b["@type"]&&a["@language"]===b["@language"]&&a["@index"]===
b["@index"]?!0:F(a)&&"@id"in a&&F(b)&&"@id"in b?a["@id"]===b["@id"]:!1};e.getContextValue=function(a,b,e){var c=null;if(null===b)return c;"@language"===e&&e in a&&(c=a[e]);a.mappings[b]&&(a=a.mappings[b],X(e)?c=a:e in a&&(c=a[e]));return c};var sa={};e.registerRDFParser=function(a,b){sa[a]=b};e.unregisterRDFParser=function(a){delete sa[a]};if(d){if("undefined"===typeof ma)var ma=null;if("undefined"===typeof ua)var ua={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,
ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12}}var oa="http://www.w3.org/2001/XMLSchema#boolean",ka="http://www.w3.org/2001/XMLSchema#double",pa="http://www.w3.org/2001/XMLSchema#integer",ba="http://www.w3.org/2001/XMLSchema#string",la="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",ta="http://www.w3.org/ns/json-ld#context",xa=10,C=function(a,b,e){d?(Error.call(this),Error.captureStackTrace(this,
this.constructor)):"undefined"!==typeof Error&&(this.stack=Error().stack);this.name=b||"jsonld.Error";this.message=a||"An unspecified JSON-LD error occurred.";this.details=e||{}};d?q("util").inherits(C,Error):"undefined"!==typeof Error&&(C.prototype=Error());var O=function(){};O.prototype.compact=function(a,b,c,f){if(E(c)){for(var d=[],g=0;g<c.length;++g){var l=this.compact(a,b,c[g],f);null!==l&&d.push(l)}if(f.compactArrays&&1===d.length){var s=e.getContextValue(a,b,"@container");null===s&&(d=d[0])}return d}if(F(c)){if(f.link&&
"@id"in c&&c["@id"]in f.link)for(d=f.link[c["@id"]],g=0;g<d.length;++g)if(d[g].expanded===c)return d[g].compacted;if(S(c)||Y(c))return d=L(a,b,c),f.link&&Y(c)&&(c["@id"]in f.link||(f.link[c["@id"]]=[]),f.link[c["@id"]].push({expanded:c,compacted:d})),d;g="@reverse"===b;d={};f.link&&"@id"in c&&(c["@id"]in f.link||(f.link[c["@id"]]=[]),f.link[c["@id"]].push({expanded:c,compacted:d}));for(var t=Object.keys(c).sort(),w=0;w<t.length;++w){var m=t[w],r=c[m];if("@id"===m||"@type"===m){var k;if(J(r))k=B(a,
r,null,{vocab:"@type"===m});else{k=[];for(var y=0;y<r.length;++y)k.push(B(a,r[y],null,{vocab:!0}))}m=B(a,m);s=E(k)&&0===r.length;e.addValue(d,m,k,{propertyIsArray:s})}else if("@reverse"===m){k=this.compact(a,"@reverse",r,f);for(l in k)a.mappings[l]&&a.mappings[l].reverse&&(r=k[l],s=e.getContextValue(a,l,"@container"),e.addValue(d,l,r,{propertyIsArray:"@set"===s||!f.compactArrays}),delete k[l]);0<Object.keys(k).length&&(m=B(a,m),e.addValue(d,m,k))}else if("@index"===m)s=e.getContextValue(a,b,"@container"),
"@index"!==s&&(m=B(a,m),e.addValue(d,m,r));else if("@graph"!==m&&"@list"!==m&&M(m))m=B(a,m),e.addValue(d,m,r);else for(0===r.length&&(k=B(a,m,r,{vocab:!0},g),e.addValue(d,k,r,{propertyIsArray:!0})),y=0;y<r.length;++y){var v=r[y];k=B(a,m,v,{vocab:!0},g);var s=e.getContextValue(a,k,"@container"),A=T(v),x=null;A&&(x=v["@list"]);x=this.compact(a,k,A?x:v,f);if(A)if(E(x)||(x=[x]),"@list"!==s)A={},A[B(a,"@list")]=x,x=A,"@index"in v&&(x[B(a,"@index")]=v["@index"]);else if(k in d)throw new C('JSON-LD compact error; property has a "@list" @container rule but there is more than a single @list that matches the compacted term in the document. Compaction might mix unwanted items into the list.',
"jsonld.SyntaxError",{code:"compaction to list of lists"});if("@language"===s||"@index"===s){var D;k in d?D=d[k]:d[k]=D={};"@language"===s&&S(x)&&(x=x["@value"]);e.addValue(D,v[s],x)}else s=!f.compactArrays||"@set"===s||"@list"===s||E(x)&&0===x.length||"@list"===m||"@graph"===m,e.addValue(d,k,x,{propertyIsArray:s})}}return d}return c};O.prototype.expand=function(a,b,c,f,d){if(null===c||void 0===c)return null;if(!E(c)&&!F(c))return d||null!==b&&"@graph"!==I(a,b,{vocab:!0})?m(a,b,c):null;if(E(c)){var g=
[],l=e.getContextValue(a,b,"@container");d=d||"@list"===l;for(var s=0;s<c.length;++s){var t=this.expand(a,b,c[s],f);if(d&&(E(t)||T(t)))throw new C("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",{code:"list of lists"});null!==t&&(E(t)?g=g.concat(t):g.push(t))}return g}"@context"in c&&(a=this.processContext(a,c["@context"],f));for(var s=I(a,b,{vocab:!0}),g={},t=Object.keys(c).sort(),w=0;w<t.length;++w){var r=t[w],k=c[r];if("@context"!==r){var y=I(a,r,{vocab:!0});if(null!==
y&&(Z(y)||M(y))){if(M(y)){if("@reverse"===s)throw new C("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:k});if(y in g)throw new C("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:y});}if("@id"===y&&!J(k)){if(!f.isFrame)throw new C('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:k});if(!F(k))throw new C('Invalid JSON-LD syntax; "@id" value must be a string or an object.',
"jsonld.SyntaxError",{code:"invalid @id value",value:k});}if("@type"===y){var l=k,v=void 0;(v=J(l))||(v=F(l)&&0===Object.keys(l).length);if(!v){v=!1;if(E(l))for(var v=!0,B=0;B<l.length;++B)if(!J(l[B])){v=!1;break}if(!v)throw new C('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, or an empty object.',"jsonld.SyntaxError",{code:"invalid type value",value:l});}}if("@graph"===y&&!F(k)&&!E(k))throw new C('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',
"jsonld.SyntaxError",{code:"invalid @graph value",value:k});if("@value"===y&&(F(k)||E(k)))throw new C('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:k});if("@language"===y){if(null===k)continue;if(!J(k))throw new C('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:k});k=k.toLowerCase()}if("@index"===y&&!J(k))throw new C('Invalid JSON-LD syntax; "@index" value must be a string.',
"jsonld.SyntaxError",{code:"invalid @index value",value:k});if("@reverse"===y){if(!F(k))throw new C('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:k});k=this.expand(a,"@reverse",k,f);if("@reverse"in k)for(var A in k["@reverse"])e.addValue(g,A,k["@reverse"][A],{propertyIsArray:!0});r=g["@reverse"]||null;for(A in k)if("@reverse"!==A)for(null===r&&(r=g["@reverse"]={}),e.addValue(r,A,[],{propertyIsArray:!0}),y=k[A],l=0;l<y.length;++l){v=
y[l];if(S(v)||T(v))throw new C('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:k});e.addValue(r,A,v,{propertyIsArray:!0})}}else{l=e.getContextValue(a,r,"@container");if("@language"===l&&F(k)){for(var v=[],B=Object.keys(k).sort(),x=0;x<B.length;++x){var D=B[x],q=k[D];E(q)||(q=[q]);for(var n=0;n<q.length;++n){var H=q[n];if(!J(H))throw new C("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",
{code:"invalid language map value",languageMap:k});v.push({"@value":H,"@language":D.toLowerCase()})}}k=v}else if("@index"===l&&F(k)){v=r;B=[];x=Object.keys(k).sort();for(D=0;D<x.length;++D)for(q=x[D],n=k[q],E(n)||(n=[n]),n=this.expand(a,v,n,f,!1),H=0;H<n.length;++H){var G=n[H];"@index"in G||(G["@index"]=q);B.push(G)}k=B}else if((v="@list"===y)||"@set"===y){if(B=b,v&&"@graph"===s&&(B=null),k=this.expand(a,B,k,f,v),v&&T(k))throw new C("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",
{code:"list of lists"});}else k=this.expand(a,r,k,f,!1);if(null!==k||"@value"===y)if("@list"===y||T(k)||"@list"!==l||(k=E(k)?k:[k],k={"@list":k}),a.mappings[r]&&a.mappings[r].reverse)for(r=g["@reverse"]=g["@reverse"]||{},E(k)||(k=[k]),l=0;l<k.length;++l){v=k[l];if(S(v)||T(v))throw new C('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:k});e.addValue(r,y,v,{propertyIsArray:!0})}else r=-1===["@index","@id",
"@type","@value","@language"].indexOf(y),e.addValue(g,y,k,{propertyIsArray:r})}}}}t=Object.keys(g);a=t.length;if("@value"in g){if("@type"in g&&"@language"in g)throw new C('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:g});c=a-1;"@type"in g&&(c-=1);"@index"in g&&(c-=1);"@language"in g&&(c-=1);if(0!==c)throw new C('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and at most one other property which can be "@type" or "@language".',
"jsonld.SyntaxError",{code:"invalid value object",element:g});if(null===g["@value"])g=null;else{if("@language"in g&&!J(g["@value"]))throw new C("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:g});if("@type"in g&&(!Z(g["@type"])||0===g["@type"].indexOf("_:")))throw new C('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",
element:g});}}else if("@type"in g&&!E(g["@type"]))g["@type"]=[g["@type"]];else if("@set"in g||"@list"in g){if(1<a&&!(2===a&&"@index"in g))throw new C('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:g});"@set"in g&&(g=g["@set"],t=Object.keys(g),a=t.length)}else 1===a&&"@language"in g&&(g=null);!F(g)||f.keepFreeFloatingNodes||d||null!==b&&"@graph"!==
s||!(0===a||"@value"in g||"@list"in g||1===a&&"@id"in g)||(g=null);return g};O.prototype.createNodeMap=function(a,b){b=b||{};var e=b.namer||new U("_:b"),c={"@default":{}};v(a,c,"@default",e);return G(c)};O.prototype.flatten=function(a){a=this.createNodeMap(a);for(var b=[],e=Object.keys(a).sort(),c=0;c<e.length;++c){var f=a[e[c]];Y(f)||b.push(f)}return b};O.prototype.frame=function(a,b,e){e={options:e,graphs:{"@default":{},"@merged":{}},subjectStack:[],link:{}};var c=new U("_:b");v(a,e.graphs,"@merged",
c);e.subjects=e.graphs["@merged"];a=[];x(e,Object.keys(e.subjects).sort(),b,a,null);return a};O.prototype.normalize=function(a,b,c){function f(a){function b(f){if(f===a.length)return d(l,g,c);var s=a[f],w=r(s,t);w in g?(g[w].push(s),c.push(s)):w in l?(g[w]=[l[w],s],c.push(l[w]),c.push(s),delete l[w]):l[w]=s;e.setImmediate(function(){b(f+1)})}var c=[],g={},l={};e.setImmediate(function(){b(0)})}function d(a,b,e){for(var c=!1,h=Object.keys(a).sort(),l=0;l<h.length;++l)D.getName(a[h[l]]),c=!0;c?f(e):
g(b)}function g(a){function b(f){function d(a,e){if(e===a.length){g.sort(function(a,b){a=a.hash;b=b.hash;return a<b?-1:a>b?1:0});for(var h in g)for(var l in g[h].pathNamer.existing)D.getName(l);return b(f+1)}h=a[e];if(D.isNamed(h))return d(a,e+1);l=new U("_:b");l.getName(h);A(h,t,D,l,function(b,f){if(b)return c(b);g.push(f);d(a,e+1)})}if(f===e.length)return l();var g=[];d(a[e[f]],0)}var e=Object.keys(a).sort();b(0)}function l(){for(var a=[],e=0;e<s.length;++e){for(var f=s[e],d=["subject","object",
"name"],g=0;g<d.length;++g){var h=d[g];f[h]&&"blank node"===f[h].type&&0!==f[h].value.indexOf("_:c14n")&&(f[h].value=D.getName(f[h].value))}a.push(qa(f,f.name?f.name.value:null))}a.sort();if(b.format)return"application/nquads"===b.format?c(null,a.join("")):c(new C("Unknown output format.","jsonld.UnknownFormat",{format:b.format}));c(null,ya(a.join("")))}var s=[],t={},w;for(w in a){var m=a[w];"@default"===w&&(w=null);for(var k=0;k<m.length;++k){var y=m[k];null!==w&&(0===w.indexOf("_:")?y.name={type:"blank node",
value:w}:y.name={type:"IRI",value:w});s.push(y);for(var v=["subject","object","name"],B=0;B<v.length;++B){var x=v[B];y[x]&&"blank node"===y[x].type&&(x=y[x].value,x in t?t[x].quads.push(y):t[x]={quads:[y]})}}}var D=new U("_:c14n");return f(Object.keys(t))};O.prototype.fromRDF=function(a,b,c){var f={},d={"@default":f},g={},l;for(l in a){var s=a[l];l in d||(d[l]={});"@default"===l||l in f||(f[l]={"@id":l});for(var t=d[l],w=0;w<s.length;++w){var m=s[w],r=m.subject.value,k=m.predicate.value,m=m.object;
r in t||(t[r]={"@id":r});var r=t[r],y="IRI"===m.type||"blank node"===m.type;!y||m.value in t||(t[m.value]={"@id":m.value});if("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"===k&&!b.useRdfType&&y)e.addValue(r,"@type",m.value,{propertyIsArray:!0});else{var v;var B=m,A=b.useNativeTypes;"IRI"===B.type||"blank node"===B.type?v={"@id":B.value}:(v={"@value":B.value},B.language?v["@language"]=B.language:((B=B.datatype)||(B=ba),A?(B===oa?"true"===v["@value"]?v["@value"]=!0:"false"===v["@value"]&&(v["@value"]=
!1):(A=v["@value"],!isNaN(parseFloat(A))&&isFinite(A)&&(B===pa?(A=parseInt(v["@value"],10),A.toFixed(0)===v["@value"]&&(v["@value"]=A)):B===ka&&(v["@value"]=parseFloat(v["@value"])))),-1===[oa,pa,ka,ba].indexOf(B)&&(v["@type"]=B)):B!==ba&&(v["@type"]=B)));e.addValue(r,k,v,{propertyIsArray:!0});y&&("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"===m.value?(m=t[m.value],"usages"in m||(m.usages=[]),m.usages.push({node:r,property:k,value:v})):g[m.value]=m.value in g?!1:{node:r,property:k,value:v})}}}for(l in d)if(b=
d[l],"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"in b){s=b["http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"];for(a=0;a<s.usages.length;++a){m=s.usages[a];r=m.node;w=m.property;m=m.value;k=[];t=[];for(y=Object.keys(r).length;"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"===w&&F(g[r["@id"]])&&E(r["http://www.w3.org/1999/02/22-rdf-syntax-ns#first"])&&1===r["http://www.w3.org/1999/02/22-rdf-syntax-ns#first"].length&&E(r["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"])&&1===r["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"].length&&
(3===y||4===y&&E(r["@type"])&&1===r["@type"].length&&"http://www.w3.org/1999/02/22-rdf-syntax-ns#List"===r["@type"][0])&&(k.push(r["http://www.w3.org/1999/02/22-rdf-syntax-ns#first"][0]),t.push(r["@id"]),m=g[r["@id"]],r=m.node,w=m.property,m=m.value,y=Object.keys(r).length,0===r["@id"].indexOf("_:")););if("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"===w){if("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"===r["@id"])continue;m=b[m["@id"]]["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"][0];
k.pop();t.pop()}delete m["@id"];m["@list"]=k.reverse();for(r=0;r<t.length;++r)delete b[t[r]]}delete s.usages}g=[];l=Object.keys(f).sort();for(a=0;a<l.length;++a){b=l[a];r=f[b];if(b in d)for(s=r["@graph"]=[],b=d[b],t=Object.keys(b).sort(),w=0;w<t.length;++w)k=b[t[w]],Y(k)||s.push(k);Y(r)||g.push(r)}c(null,g)};O.prototype.toRDF=function(a,b){var e=new U("_:b"),c={"@default":{}};v(a,c,"@default",e);for(var f={},d=Object.keys(c).sort(),g=0;g<d.length;++g){var h=d[g];if("@default"===h||Z(h)){for(var s=
f,t=h,h=c[h],w=e,m=b,r=[],k=Object.keys(h).sort(),y=0;y<k.length;++y)for(var B=k[y],A=h[B],x=Object.keys(A).sort(),D=0;D<x.length;++D){var n=x[D],q=A[n];if("@type"===n)n="http://www.w3.org/1999/02/22-rdf-syntax-ns#type";else if(M(n))continue;for(var H=0;H<q.length;++H){var G=q[H],L={};L.type=0===B.indexOf("_:")?"blank node":"IRI";L.value=B;if(Z(B)){var u={};u.type=0===n.indexOf("_:")?"blank node":"IRI";u.value=n;if(Z(n)&&("blank node"!==u.type||m.produceGeneralizedRdf))if(T(G)){for(var G=G["@list"],
K=w,P=r,z={type:"IRI",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"},ha={type:"IRI",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},W=0;W<G.length;++W){var I=G[W],C={type:"blank node",value:K.getName()};P.push({subject:L,predicate:u,object:C});L=C;u=z;(I=l(I))&&P.push({subject:L,predicate:u,object:I});u=ha}P.push({subject:L,predicate:u,object:{type:"IRI",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}})}else(G=l(G))&&r.push({subject:L,predicate:u,object:G})}}}s[t]=r}}return f};
O.prototype.processContext=function(a,b,c){F(b)&&"@context"in b&&E(b["@context"])&&(b=b["@context"]);b=E(b)?b:[b];if(0===b.length)return a.clone();for(var f=a,d=0;d<b.length;++d){var g=b[d];if(null===g)f=a=Q(c);else{F(g)&&"@context"in g&&(g=g["@context"]);if(!F(g))throw new C("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:g});if(e.cache.activeCtx&&(a=e.cache.activeCtx.get(a,g))){f=a;continue}a=f;var f=f.clone(),l={};if("@base"in g){var s=
g["@base"];if(null===s)s=null;else{if(!J(s))throw new C('Invalid JSON-LD syntax; the value of "@base" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:g});if(""!==s&&!Z(s))throw new C('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI or the empty string.',"jsonld.SyntaxError",{code:"invalid base IRI",context:g});}null!==s&&(s=e.url.parse(s||""));f["@base"]=s;l["@base"]=!0}if("@vocab"in g){s=g["@vocab"];if(null===s)delete f["@vocab"];
else if(J(s))if(Z(s))f["@vocab"]=s;else throw new C('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:g});else throw new C('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:g});l["@vocab"]=!0}if("@language"in g){s=g["@language"];if(null===s)delete f["@language"];else if(J(s))f["@language"]=s.toLowerCase();else throw new C('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',
"jsonld.SyntaxError",{code:"invalid default language",context:g});l["@language"]=!0}for(var t in g)P(f,g,t,l);e.cache.activeCtx&&e.cache.activeCtx.set(a,g,f)}}return f};Object.keys||(Object.keys=function(a){if(a!==Object(a))throw new TypeError("Object.keys called on non-object");var b=[],e;for(e in a)Object.prototype.hasOwnProperty.call(a,e)&&b.push(e);return b});e.registerRDFParser("application/nquads",ya);e.registerRDFParser("rdfa-api",function(a){for(var b={"@default":[]},e=a.getSubjects(),c=0;c<
e.length;++c){var f=e[c];if(null!==f){var d=a.getSubjectTriples(f);if(null!==d){var d=d.predicates,g;for(g in d)for(var h=d[g].objects,l=0;l<h.length;++l){var s=h[l],t={};0===f.indexOf("_:")?t.subject={type:"blank node",value:f}:t.subject={type:"IRI",value:f};0===g.indexOf("_:")?t.predicate={type:"blank node",value:g}:t.predicate={type:"IRI",value:g};var w=s.value;if("http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral"===s.type){ma||(ma=q("xmldom").XMLSerializer);for(var m=new ma,w="",r=0;r<s.value.length;r++)s.value[r].nodeType===
ua.ELEMENT_NODE?w+=m.serializeToString(s.value[r]):s.value[r].nodeType===ua.TEXT_NODE&&(w+=s.value[r].nodeValue)}t.object={};"http://www.w3.org/1999/02/22-rdf-syntax-ns#object"===s.type?0===s.value.indexOf("_:")?t.object.type="blank node":t.object.type="IRI":(t.object.type="literal","http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral"===s.type?s.language?(t.object.datatype=la,t.object.language=s.language):t.object.datatype=ba:t.object.datatype=s.type);t.object.value=w;b["@default"].push(t)}}}}return b});
e.UniqueNamer=U;U.prototype.clone=function(){var a=new U(this.prefix);a.counter=this.counter;a.existing=R(this.existing);return a};U.prototype.getName=function(a){if(a&&a in this.existing)return this.existing[a];var b=this.prefix+this.counter;this.counter+=1;a&&(this.existing[a]=b);return b};U.prototype.isNamed=function(a){return a in this.existing};var ra=function(a){this.list=a.sort();this.done=!1;this.left={};for(var b=0;b<a.length;++b)this.left[a[b]]=!0};ra.prototype.hasNext=function(){return!this.done};
ra.prototype.next=function(){for(var a=this.list.slice(),b=null,e=0,c=this.list.length,f=0;f<c;++f){var d=this.list[f],g=this.left[d];(null===b||d>b)&&(g&&0<f&&d>this.list[f-1]||!g&&f<c-1&&d>this.list[f+1])&&(b=d,e=f)}if(null===b)this.done=!0;else for(f=this.left[b]?e-1:e+1,this.list[e]=this.list[f],this.list[f]=b,f=0;f<c;++f)this.list[f]>b&&(this.left[this.list[f]]=!this.left[this.list[f]]);return a};var N=e.sha1={};if(d){var za=q("crypto");N.create=function(){var a=za.createHash("sha1");return{update:function(b){a.update(b,
"utf8")},digest:function(){return a.digest("hex")}}}}else N.create=function(){return new N.MessageDigest};N.hash=function(a){for(var b=N.create(),e=0;e<a.length;++e)b.update(a[e]);return b.digest()};if(!d){N.Buffer=function(){this.data="";this.read=0};N.Buffer.prototype.putInt32=function(a){this.data+=String.fromCharCode(a>>24&255)+String.fromCharCode(a>>16&255)+String.fromCharCode(a>>8&255)+String.fromCharCode(a&255)};N.Buffer.prototype.getInt32=function(){var a=this.data.charCodeAt(this.read)<<
24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);this.read+=4;return a};N.Buffer.prototype.bytes=function(){return this.data.slice(this.read)};N.Buffer.prototype.length=function(){return this.data.length-this.read};N.Buffer.prototype.compact=function(){this.data=this.data.slice(this.read);this.read=0};N.Buffer.prototype.toHex=function(){for(var a="",b=this.read;b<this.data.length;++b){var e=this.data.charCodeAt(b);16>e&&(a+="0");a+=e.toString(16)}return a};
N.MessageDigest=function(){aa.initialized||aa.init();this.blockLength=64;this.digestLength=20;this.messageLength=0;this.input=new N.Buffer;this.words=Array(80);this.state={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520}};N.MessageDigest.prototype.update=function(a){a=unescape(encodeURIComponent(a));this.messageLength+=a.length;this.input.data+=a;aa.update(this.state,this.words,this.input);(2048<this.input.read||0===this.input.length())&&this.input.compact()};N.MessageDigest.prototype.digest=
function(){var a=this.messageLength,b=new N.Buffer;b.data+=this.input.bytes();b.data+=aa.padding.substr(0,64-(a+8)%64);b.putInt32(a>>>29&255);b.putInt32(a<<3&4294967295);aa.update(this.state,this.words,b);a=new N.Buffer;a.putInt32(this.state.h0);a.putInt32(this.state.h1);a.putInt32(this.state.h2);a.putInt32(this.state.h3);a.putInt32(this.state.h4);return a.toHex()};var aa={padding:null,initialized:!1,init:function(){aa.padding=String.fromCharCode(128);for(var a=String.fromCharCode(0),b=64;0<b;)b&
1&&(aa.padding+=a),b>>>=1,0<b&&(a+=a);aa.initialized=!0},update:function(a,b,e){for(var c,f,d,g,h,l,s,t,w=e.length();64<=w;){f=a.h0;d=a.h1;g=a.h2;h=a.h3;l=a.h4;for(t=0;16>t;++t)c=e.getInt32(),b[t]=c,s=h^d&(g^h),c=(f<<5|f>>>27)+s+l+1518500249+c,l=h,h=g,g=d<<30|d>>>2,d=f,f=c;for(;20>t;++t)c=b[t-3]^b[t-8]^b[t-14]^b[t-16],c=c<<1|c>>>31,b[t]=c,s=h^d&(g^h),c=(f<<5|f>>>27)+s+l+1518500249+c,l=h,h=g,g=d<<30|d>>>2,d=f,f=c;for(;32>t;++t)c=b[t-3]^b[t-8]^b[t-14]^b[t-16],c=c<<1|c>>>31,b[t]=c,s=d^g^h,c=(f<<5|f>>>
27)+s+l+1859775393+c,l=h,h=g,g=d<<30|d>>>2,d=f,f=c;for(;40>t;++t)c=b[t-6]^b[t-16]^b[t-28]^b[t-32],c=c<<2|c>>>30,b[t]=c,s=d^g^h,c=(f<<5|f>>>27)+s+l+1859775393+c,l=h,h=g,g=d<<30|d>>>2,d=f,f=c;for(;60>t;++t)c=b[t-6]^b[t-16]^b[t-28]^b[t-32],c=c<<2|c>>>30,b[t]=c,s=d&g|h&(d^g),c=(f<<5|f>>>27)+s+l+2400959708+c,l=h,h=g,g=d<<30|d>>>2,d=f,f=c;for(;80>t;++t)c=b[t-6]^b[t-16]^b[t-28]^b[t-32],c=c<<2|c>>>30,b[t]=c,s=d^g^h,c=(f<<5|f>>>27)+s+l+3395469782+c,l=h,h=g,g=d<<30|d>>>2,d=f,f=c;a.h0+=f;a.h1+=d;a.h2+=g;a.h3+=
h;a.h4+=l;w-=64}}}}e.url={};e.url.parsers={simple:{keys:"href scheme authority path query fragment".split(" "),regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:"href protocol scheme authority auth user password hostname port path directory file query fragment".split(" "),regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}};e.url.parse=function(a,b){for(var c={},f=e.url.parsers[b||
"full"],d=f.regex.exec(a),g=f.keys.length;g--;)c[f.keys[g]]=void 0===d[g]?null:d[g];c.normalizedPath=va(c.path,!!c.authority);return c};d?e.useDocumentLoader("node"):"undefined"!==typeof XMLHttpRequest&&e.useDocumentLoader("xhr");d&&(e.use=function(a){switch(a){case "request":e.request=q("./request");break;default:throw new C("Unknown extension.","jsonld.UnknownExtension",{extension:a});}},ca={exports:{},filename:b},q("pkginfo")(ca,"version"),e.version=ca.exports.version);return e},f=function(){return e(function(){return f()})};
e(f);"function"===typeof q&&"undefined"!==typeof z&&z.exports&&(z.exports=f);a&&("undefined"===typeof jsonld?jsonld=jsonldjs=f:jsonldjs=f);return f})()}).call(this,q("_process"),"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{},"/node_modules/jsonld/js")},{"./request":39,_process:16,crypto:39,"es6-promise":41,http:39,pkginfo:42,request:39,util:39,xmldom:39}],41:[function(q,z,u){(function(k,n){(function(){function b(a){return"function"===typeof a}
function d(){return function(){k.nextTick(h)}}function a(){var a=0,b=new P(h),e=document.createTextNode("");b.observe(e,{characterData:!0});return function(){e.data=a=++a%2}}function e(){var a=new MessageChannel;a.port1.onmessage=h;return function(){a.port2.postMessage(0)}}function f(){return function(){setTimeout(h,1)}}function h(){for(var a=0;a<y;a+=2)(0,I[a])(I[a+1]),I[a]=void 0,I[a+1]=void 0;y=0}function c(){}function g(a,b,e,c){try{a.call(b,e,c)}catch(f){return f}}function m(a,b,e){B(function(a){var c=
!1,f=g(e,b,function(e){c||(c=!0,b!==e?r(a,e):D(a,e))},function(b){c||(c=!0,v(a,b))},"Settle: "+(a._label||" unknown promise"));!c&&f&&(c=!0,v(a,f))},a)}function l(a,b){b._state===M?D(a,b._result):a._state===F?v(a,b._result):q(b,void 0,function(b){r(a,b)},function(b){v(a,b)})}function r(a,e){if(a===e)v(a,new TypeError("You cannot resolve a promise with itself"));else if("function"===typeof e||"object"===typeof e&&null!==e)if(e.constructor===a.constructor)l(a,e);else{var c;try{c=e.then}catch(f){E.error=
f,c=E}c===E?v(a,E.error):void 0===c?D(a,e):b(c)?m(a,e,c):D(a,e)}else D(a,e)}function A(a){a._onerror&&a._onerror(a._result);x(a)}function D(a,b){a._state===Q&&(a._result=b,a._state=M,0!==a._subscribers.length&&B(x,a))}function v(a,b){a._state===Q&&(a._state=F,a._result=b,B(A,a))}function q(a,b,e,c){var f=a._subscribers,d=f.length;a._onerror=null;f[d]=b;f[d+M]=e;f[d+F]=c;0===d&&a._state&&B(x,a)}function x(a){var b=a._subscribers,e=a._state;if(0!==b.length){for(var c,f,d=a._result,g=0;g<b.length;g+=
3)c=b[g],f=b[g+e],c?u(e,c,f,d):f(d);a._subscribers.length=0}}function H(){this.error=null}function u(a,e,c,f){var d=b(c),g,h,l,s;if(d){try{g=c(f)}catch(t){J.error=t,g=J}g===J?(s=!0,h=g.error,g=null):l=!0;if(e===g){v(e,new TypeError("A promises callback cannot return that same promise."));return}}else g=f,l=!0;e._state===Q&&(d&&l?r(e,g):s?v(e,h):a===M?D(e,g):a===F&&v(e,g))}function W(a,b){try{b(function(b){r(a,b)},function(b){v(a,b)})}catch(e){v(a,e)}}function s(a,b,e,f){this._instanceConstructor=
a;this.promise=new a(c,f);this._abortOnReject=e;this._validateInput(b)?(this._input=b,this._remaining=this.length=b.length,this._init(),0===this.length?D(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&D(this.promise,this._result))):v(this.promise,this._validationError())}function t(a){this._id=ga++;this._result=this._state=void 0;this._subscribers=[];if(c!==a){if(!b(a))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");
if(!(this instanceof t))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");W(this,a)}}var w=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},y=0,B=function(a,b){I[y]=a;I[y+1]=b;y+=2;2===y&&V()},L="undefined"!==typeof window?window:{},P=L.MutationObserver||L.WebKitMutationObserver,L="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==
typeof MessageChannel,I=Array(1E3),V;V="undefined"!==typeof k&&"[object process]"==={}.toString.call(k)?d():P?a():L?e():f();var Q=void 0,M=1,F=2,E=new H,J=new H;s.prototype._validateInput=function(a){return w(a)};s.prototype._validationError=function(){return Error("Array Methods must be provided an Array")};s.prototype._init=function(){this._result=Array(this.length)};s.prototype._enumerate=function(){for(var a=this.length,b=this.promise,e=this._input,c=0;b._state===Q&&c<a;c++)this._eachEntry(e[c],
c)};s.prototype._eachEntry=function(a,b){var e=this._instanceConstructor;"object"===typeof a&&null!==a?a.constructor===e&&a._state!==Q?(a._onerror=null,this._settledAt(a._state,b,a._result)):this._willSettleAt(e.resolve(a),b):(this._remaining--,this._result[b]=this._makeResult(M,b,a))};s.prototype._settledAt=function(a,b,e){var c=this.promise;c._state===Q&&(this._remaining--,this._abortOnReject&&a===F?v(c,e):this._result[b]=this._makeResult(a,b,e));0===this._remaining&&D(c,this._result)};s.prototype._makeResult=
function(a,b,e){return e};s.prototype._willSettleAt=function(a,b){var e=this;q(a,void 0,function(a){e._settledAt(M,b,a)},function(a){e._settledAt(F,b,a)})};var ga=0;t.all=function(a,b){return(new s(this,a,!0,b)).promise};t.race=function(a,b){function e(a){r(d,a)}function f(a){v(d,a)}var d=new this(c,b);if(!w(a))return v(d,new TypeError("You must pass an array to race.")),d;for(var g=a.length,h=0;d._state===Q&&h<g;h++)q(this.resolve(a[h]),void 0,e,f);return d};t.resolve=function(a,b){if(a&&"object"===
typeof a&&a.constructor===this)return a;var e=new this(c,b);r(e,a);return e};t.reject=function(a,b){var e=new this(c,b);v(e,a);return e};t.prototype={constructor:t,then:function(a,b){var e=this._state;if(e===M&&!a||e===F&&!b)return this;var f=new this.constructor(c),d=this._result;if(e){var g=arguments[e-1];B(function(){u(e,f,g,d)})}else q(this,f,a,b);return f},"catch":function(a){return this.then(null,a)}};L={Promise:t,polyfill:function(){var a;a="undefined"!==typeof n?n:"undefined"!==typeof window&&
window.document?window:self;"Promise"in a&&"resolve"in a.Promise&&"reject"in a.Promise&&"all"in a.Promise&&"race"in a.Promise&&function(){var e;new a.Promise(function(a){e=a});return b(e)}()||(a.Promise=t)}};"undefined"!==typeof z&&z.exports?z.exports=L:"undefined"!==typeof this&&(this.ES6Promise=L)}).call(this)}).call(this,q("_process"),"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{_process:16}],42:[function(q,z,u){(function(k){var n=q("fs"),
b=q("path"),d=z.exports=function(a,b){var f=[].slice.call(arguments,2).filter(function(a){return"string"===typeof a});Array.isArray(b)?b={include:b}:"string"===typeof b&&(b={include:[b]});b=b||{};b.include=b.include||[];0<f.length&&(b.include=b.include.concat(f));var h=d.read(a,b.dir).package;Object.keys(h).forEach(function(c){0<b.include.length&&!~b.include.indexOf(c)||a.exports[c]||(a.exports[c]=h[c])});return d};d.find=function(a,e){e||(e=b.dirname(a.filename));if(~n.readdirSync(e).indexOf("package.json"))return b.join(e,
"package.json");if("/"===e)throw Error("Could not find package.json up from: "+e);if(!e||"."===e)throw Error("Cannot find package.json from unspecified directory");return d.find(a,b.dirname(e))};d.read=function(a,b){b=d.find(a,b);var f=n.readFileSync(b).toString();return{dir:b,package:JSON.parse(f)}};d(z,{dir:k,include:["version"],target:d})}).call(this,"/node_modules/jsonld/node_modules/pkginfo/lib")},{fs:2,path:15}],43:[function(q,z,u){function k(a){if(!(this instanceof k))return new k(a);if(a&&
a.lineMode){this._tripleQuotedString=this._number=this._boolean=/$0^/;var b=this;this._tokenize=this.tokenize;this.tokenize=function(a,e){this._tokenize(a,function(a,c){!a&&/IRI|prefixed|literal|langcode|type|\.|eof/.test(c.type)?e&&e(a,c):e&&e(a||b._syntaxError(c.type,e=null))})}}}var n=String.fromCharCode,b="function"===typeof setImmediate?setImmediate:function(a){setTimeout(a,0)},d=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\[uU]|\\(.)/g,a={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",
b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},e=/[\x00-\x20<>\\"\{\}\|\^\`]/;k.prototype={_iri:/^<((?:[^>\\]|\\[uU])+)>/,_unescapedIri:/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>/,_unescapedString:/^"[^"\\]+"(?=[^"\\])/,_singleQuotedString:/^"[^"\\]*(?:\\.[^"\\]*)*"(?=[^"\\])|^'[^'\\]*(?:\\.[^'\\]*)*'(?=[^'\\])/,_tripleQuotedString:/^""("[^"\\]*(?:(?:\\.|"(?!""))[^"\\]*)*")""|^''('[^'\\]*(?:(?:\\.|'(?!''))[^'\\]*)*')''/,
_langcode:/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,_prefix:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,_prefixed:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?=\.?[,;\s#()\[\]\{\}"'<])/,
_blank:/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=\.?[,;:\s#()\[\]\{\}"'<])/,_number:/^[\-+]?(?:\d+\.?\d*([eE](?:[\-\+])?\d+)|\d*\.?\d+)(?=[.,;:\s#()\[\]\{\}"'<])/,_boolean:/^(?:true|false)(?=[.,;:\s#()\[\]\{\}"'<])/,
_keyword:/^@[a-z]+(?=[\s#<:])/,_sparqlKeyword:/^(?:PREFIX|BASE|GRAPH)(?=[\s#<:])/i,_shortPredicates:/^a(?=\s+|<)/,_newline:/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,_whitespace:/^[ \t]+/,_endOfFile:/^(?:#[^\n\r]*)?$/,_tokenizeToEnd:function(a,b){function c(b){a(b._syntaxError(/^\S*/.exec(d)[0]))}for(var d=this._input;;){for(var m;m=this._newline.exec(d);)d=d.substr(m[0].length,d.length),this._line++;if(m=this._whitespace.exec(d))d=d.substr(m[0].length,d.length);if(this._endOfFile.test(d))return b&&
a(d=null,{line:this._line,type:"eof",value:"",prefix:""}),this._input=d;m=this._line;var l="",r="",k="",D=d[0],v=null,n=0,x=!1;switch(D){case "^":if(1===d.length)break;else if("^"!==d[1])return c(this);this._prevTokenType="^";d=d.substr(2);if("<"!==d[0]){x=!0;break}case "<":if(v=this._unescapedIri.exec(d))l="IRI",r=v[1];else if(v=this._iri.exec(d)){r=this._unescape(v[1]);if(null===r||e.test(r))return c(this);l="IRI"}break;case "_":if((v=this._blank.exec(d))||b&&(v=this._blank.exec(d+" ")))l="prefixed",
k="_",r=v[1];break;case '"':case "'":if(v=this._unescapedString.exec(d))l="literal",r=v[0];else if(v=this._singleQuotedString.exec(d)){r=this._unescape(v[0]);if(null===r)return c(this);l="literal";r=r.replace(/^'|'$/g,'"')}else if(v=this._tripleQuotedString.exec(d)){r=v[1]||v[2];this._line+=r.split(/\r\n|\r|\n/).length-1;r=this._unescape(r);if(null===r)return c(this);l="literal";r=r.replace(/^'|'$/g,'"')}break;case "@":if("literal"===this._prevTokenType&&(v=this._langcode.exec(d)))l="langcode",r=
v[1];else if(v=this._keyword.exec(d))l=v[0];break;case ".":if(1===d.length?b:"0">d[1]||"9"<d[1]){l=".";n=1;break}case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":case "+":case "-":if(v=this._number.exec(d))l="literal",r='"'+v[0]+'"^^http://www.w3.org/2001/XMLSchema#'+(v[1]?"double":/^[+\-]?\d+$/.test(v[0])?"integer":"decimal");break;case "B":case "b":case "p":case "P":case "G":case "g":(v=this._sparqlKeyword.exec(d))?l=v[0].toUpperCase():x=!0;break;case "f":case "t":(v=
this._boolean.exec(d))?(l="literal",r='"'+v[0]+'"^^http://www.w3.org/2001/XMLSchema#boolean'):x=!0;break;case "a":(v=this._shortPredicates.exec(d))?(l="abbreviation",r="http://www.w3.org/1999/02/22-rdf-syntax-ns#type"):x=!0;break;case ",":case ";":case "[":case "]":case "(":case ")":case "{":case "}":n=1;l=D;break;default:x=!0}if(x)if(("@prefix"===this._prevTokenType||"PREFIX"===this._prevTokenType)&&(v=this._prefix.exec(d)))l="prefix",r=v[1]||"";else if((v=this._prefixed.exec(d))||b&&(v=this._prefixed.exec(d+
" ")))l="prefixed",k=v[1]||"",r=this._unescape(v[2]);"^"===this._prevTokenType&&(l="IRI"===l||"prefixed"===l?"type":"");if(!l)return b||!/^'''|^"""/.test(d)&&/\n|\r/.test(d)?c(this):this._input=d;a(null,{line:m,type:l,value:r,prefix:k});this._prevTokenType=l;d=d.substr(n||v[0].length,d.length)}},_unescape:function(b){try{return b.replace(d,function(b,e,f,d){if(e){b=parseInt(e,16);if(isNaN(b))throw Error();return n(b)}if(f){b=parseInt(f,16);if(isNaN(b))throw Error();return 65535>=b?n(b):n(55296+(b-=
65536)/1024,56320+(b&1023))}b=a[d];if(!b)throw Error();return b})}catch(e){return null}},_syntaxError:function(a){this._input=null;return Error('Syntax error: unexpected "'+a+'" on line '+this._line+".")},tokenize:function(a,e){function c(a){null!==m._input&&(m._input+=a,m._tokenizeToEnd(e,!1))}function d(){null!==m._input&&m._tokenizeToEnd(e,!0)}var m=this;this._line=1;"string"===typeof a?(this._input=a,b(function(){m._tokenizeToEnd(e,!0)})):(this._input="",a&&"function"!==typeof a?("function"===
typeof a.setEncoding&&a.setEncoding("utf8"),a.on("data",c),a.on("end",d)):(this.addChunk=c,this.end=d,e||(e=a)))}};z.exports=k},{}],44:[function(q,z,u){function k(c){if(!(this instanceof k))return new k(c);this._tripleStack=[];this._graph=null;c=c||{};if(c.documentIRI){if(0<c.documentIRI.indexOf("#"))throw Error("Invalid document IRI");this._baseIRI=c.documentIRI;this._baseIRIPath=this._baseIRI.replace(a,"");this._baseIRIRoot=this._baseIRI.match(e)[0]}else this._baseIRIPath=this._baseIRI=null;var f=
"string"===typeof c.format&&c.format.match(/\w*$/)[0].toLowerCase(),d="turtle"===f,h="trig"===f,r=/triple/.test(f),f=/quad/.test(f),f=r||f;(this._supportsNamedGraphs=!d)||(this._readPredicateOrNamedGraph=this._readPredicate);this._supportsQuads=!(d||h||r);f&&(this._baseIRI="",this._resolveIRI=function(a){this._error("Disallowed relative IRI",a);return this._callback=n,this._subject=null});this._lexer=c.lexer||new b({lineMode:f})}function n(){}var b=q("./N3Lexer"),d=/:/,a=/[^\/]*$/,e=/^(?:[^:]+:\/*)?[^\/]*/,
f=0,h=0;k._resetBlankNodeIds=function(){f=h=0};k.prototype={_readInTopContext:function(a){switch(a.type){case "eof":if(null!==this._graph)return this._error("Unclosed graph",a);delete this._prefixes._;return this._callback(null,null,this._prefixes);case "@prefix":return this._sparqlStyle=!1,this._readPrefix;case "PREFIX":return this._sparqlStyle=!0,this._readPrefix;case "@base":return this._sparqlStyle=!1,this._readBaseIRI;case "BASE":return this._sparqlStyle=!0,this._readBaseIRI;case "{":if(this._supportsNamedGraphs)return this._graph=
"",this._subject=null,this._readSubject;case "GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(a)}},_readSubject:function(a){this._predicate=null;switch(a.type){case "IRI":null===this._baseIRI||d.test(a.value)?this._subject=a.value:this._subject=this._resolveIRI(a);break;case "prefixed":var b=this._prefixes[a.prefix];if(void 0===b)return this._error('Undefined prefix "'+a.prefix+':"',a);this._subject=b+a.value;break;case "[":return this._subject=
"_:b"+h++,this._tripleStack.push({subject:this._subject,predicate:null,object:null,type:"blank"}),this._readBlankNodeHead;case "(":return this._tripleStack.push({subject:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil",predicate:null,object:null,type:"list"}),this._subject=null,this._readListItem;case "}":return this._readPunctuation(a);default:return this._error("Expected subject but got "+a.type,a)}return this._readPredicateOrNamedGraph},_readPredicate:function(a){var b=a.type;switch(b){case "IRI":case "abbreviation":null===
this._baseIRI||d.test(a.value)?this._predicate=a.value:this._predicate=this._resolveIRI(a);break;case "prefixed":if("_"===a.prefix)return this._error("Disallowed blank node as predicate",a);b=this._prefixes[a.prefix];if(void 0===b)return this._error('Undefined prefix "'+a.prefix+':"',a);this._predicate=b+a.value;break;case ".":case "]":case "}":if(null===this._predicate)return this._error("Unexpected "+b,a);this._subject=null;return"]"===b?this._readBlankNodeTail(a):this._readPunctuation(a);case ";":return this._readPredicate;
default:return this._error('Expected predicate to follow "'+this._subject+'"',a)}return this._readObject},_readObject:function(a){switch(a.type){case "IRI":null===this._baseIRI||d.test(a.value)?this._object=a.value:this._object=this._resolveIRI(a);break;case "prefixed":var b=this._prefixes[a.prefix];if(void 0===b)return this._error('Undefined prefix "'+a.prefix+':"',a);this._object=b+a.value;break;case "literal":return this._object=a.value,this._readDataTypeOrLang;case "[":return a="_:b"+h++,this._tripleStack.push({subject:this._subject,
predicate:this._predicate,object:a,type:"blank"}),this._subject=a,this._readBlankNodeHead;case "(":return this._tripleStack.push({subject:this._subject,predicate:this._predicate,object:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil",type:"list"}),this._subject=null,this._readListItem;default:return this._error('Expected object to follow "'+this._predicate+'"',a)}return this._getTripleEndReader()},_readPredicateOrNamedGraph:function(a){return"{"===a.type?this._readGraph(a):this._readPredicate(a)},
_readGraph:function(a){if("{"!==a.type)return this._error("Expected graph but got "+a.type,a);this._graph=this._subject;this._subject=null;return this._readSubject},_readBlankNodeHead:function(a){if("]"===a.type)return this._subject=null,this._readBlankNodeTail(a);this._predicate=null;return this._readPredicate(a)},_readBlankNodeTail:function(a){if("]"!==a.type)return this._readBlankNodePunctuation(a);null!==this._subject&&this._callback(null,{subject:this._subject,predicate:this._predicate,object:this._object,
graph:this._graph||""});a=this._tripleStack.pop();this._subject=a.subject;return null!==a.object?(this._predicate=a.predicate,this._object=a.object,this._getTripleEndReader()):null!==this._predicate?this._readPredicate:this._readPredicateOrNamedGraph},_readDataTypeOrLang:function(a){switch(a.type){case "type":if(""===a.prefix)a=null===this._baseIRI||d.test(a.value)?a.value:this._resolveIRI(a);else{var b=this._prefixes[a.prefix];if(void 0===b)return this._error('Undefined prefix "'+a.prefix+':"',a);
a=b+a.value}this._object+="^^"+a;return this._getTripleEndReader();case "langcode":return this._object+="@"+a.value.toLowerCase(),this._getTripleEndReader();default:return this._getTripleEndReader().call(this,a)}},_readListItem:function(a){var b=null,e=null,f=this._subject,d=this._tripleStack,k=d[d.length-1],D=this._readListItem;switch(a.type){case "IRI":b=a.value;break;case "prefixed":b=this._prefixes[a.prefix];if(void 0===b)return this._error('Undefined prefix "'+a.prefix+':"',a);b+=a.value;break;
case "literal":b=a.value;D=this._readDataTypeOrLang;break;case "[":e="_:b"+h++;b="_:b"+h++;d.push({subject:e,predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",object:b,type:"blank"});this._subject=b;D=this._readBlankNodeHead;break;case "(":e="_:b"+h++;d.push({subject:e,predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",object:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil",type:"list"});this._subject=null;D=this._readListItem;break;case ")":d.pop();0!==d.length&&"list"===d[d.length-
1].type&&this._callback(null,{subject:k.subject,predicate:k.predicate,object:k.object,graph:this._graph||""});this._subject=k.subject;if(null===k.predicate){if(D=this._readPredicate,"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"===k.subject)return D}else if(this._predicate=k.predicate,this._object=k.object,D=this._getTripleEndReader(),"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"===k.object)return D;e="http://www.w3.org/1999/02/22-rdf-syntax-ns#nil";break;default:return this._error('Expected list item instead of "'+
a.type+'"',a)}null===e&&(this._subject=e="_:b"+h++);null===f?"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"===k.object?k.object=e:k.subject=e:this._callback(null,{subject:f,predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",object:e,graph:this._graph||""});null!==b&&this._callback(null,{subject:e,predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",object:b,graph:this._graph||""});return D},_readPunctuation:function(a){var b=this._subject,e=this._graph;switch(a.type){case "}":if(null===
this._graph)return this._error("Unexpected graph closing",a);this._graph=null;case ".":this._subject=null;a=this._readInTopContext;break;case ";":a=this._readPredicate;break;case ",":a=this._readObject;break;case "IRI":if(this._supportsQuads&&null===this._graph){e=null===this._baseIRI||d.test(a.value)?a.value:this._resolveIRI(a);b=this._subject;a=this._readQuadPunctuation;break}case "prefixed":if(this._supportsQuads&&null===this._graph){e=this._prefixes[a.prefix];if(void 0===e)return this._error('Undefined prefix "'+
a.prefix+':"',a);e+=a.value;a=this._readQuadPunctuation;break}default:return this._error('Expected punctuation to follow "'+this._object+'"',a)}null!==b&&this._callback(null,{subject:b,predicate:this._predicate,object:this._object,graph:e||""});return a},_readBlankNodePunctuation:function(a){switch(a.type){case ";":a=this._readPredicate;break;case ",":a=this._readObject;break;default:return this._error('Expected punctuation to follow "'+this._object+'"',a)}this._callback(null,{subject:this._subject,
predicate:this._predicate,object:this._object,graph:this._graph||""});return a},_readQuadPunctuation:function(a){return"."!==a.type?this._error("Expected dot to follow quad",a):this._readInTopContext},_readPrefix:function(a){if("prefix"!==a.type)return this._error("Expected prefix to follow @prefix",a);this._prefix=a.value;return this._readPrefixIRI},_readPrefixIRI:function(a){if("IRI"!==a.type)return this._error('Expected IRI to follow prefix "'+this._prefix+':"',a);a=null===this._baseIRI||d.test(a.value)?
a.value:this._resolveIRI(a);this._prefixes[this._prefix]=a;this._prefixCallback(this._prefix,a);return this._readDeclarationPunctuation},_readBaseIRI:function(b){if("IRI"!==b.type)return this._error("Expected IRI to follow base declaration",b);if(0<b.value.indexOf("#"))return this._error("Invalid base IRI",b);null===this._baseIRI||d.test(b.value)?this._baseIRI=b.value:this._baseIRI=this._resolveIRI(b);this._baseIRIPath=this._baseIRI.replace(a,"");this._baseIRIRoot=this._baseIRI.match(e)[0];return this._readDeclarationPunctuation},
_readNamedGraphLabel:function(a){switch(a.type){case "IRI":case "prefixed":return this._readSubject(a),this._readGraph;case "[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",a)}},_readNamedGraphBlankLabel:function(a){if("]"!==a.type)return this._error("Invalid graph label",a);this._subject="_:b"+h++;return this._readGraph},_readDeclarationPunctuation:function(a){return this._sparqlStyle?this._readInTopContext(a):"."!==a.type?this._error("Expected declaration to end with a dot",
a):this._readInTopContext},_getTripleEndReader:function(){var a=this._tripleStack;if(0===a.length)return this._readPunctuation;switch(a[a.length-1].type){case "blank":return this._readBlankNodeTail;case "list":return this._readListItem}},_error:function(a,b){this._callback(Error(a+" at line "+b.line+"."))},_resolveIRI:function(a){a=a.value;switch(a[0]){case void 0:return this._baseIRI;case "#":return this._baseIRI+a;case "?":return this._baseIRI.replace(/(?:\?.*)?$/,a);case "/":return this._baseIRIRoot+
a;default:return this._baseIRIPath+a}},parse:function(a,b,e){this._readCallback=this._readInTopContext;this._prefixes=Object.create(null);this._prefixes._="_:b"+f++ +"_";"function"===typeof a&&(e=b,b=a,a=null);this._callback=b||n;this._prefixCallback=e||n;var d=this;this._lexer.tokenize(a,function(a,b){null!==a?(d._callback(a),d._callback=n):void 0!==d._readCallback&&(d._readCallback=d._readCallback(b))});a||(this.addChunk=this._lexer.addChunk,this.end=this._lexer.end)}};z.exports=k},{"./N3Lexer":43}],
45:[function(q,z,u){function k(a,b){this.name="NonSupportedSparqlFeatureError";this.feature=a;this.message=b||"SPARQL feature "+a+" non supported"}function n(a){this.name=ParserError;this.message=a||"Error parsing SPARQL query"}var b=q("./parser"),d=q("./utils");k.prototype=Error();k.constructor=k;n.prototype=Error();n.constructor=n;AbstractQueryTree=function(){};AbstractQueryTree.prototype.parseQueryString=function(a){return b.parse(a)};AbstractQueryTree.prototype.parseExecutableUnit=function(a){if("select"===
a.kind||"ask"===a.kind||"modify"===a.kind||"construct"===a.kind)return this.parseSelect(a);if("insertdata"===a.kind||"deletedata"===a.kind)return this.parseInsertData(a);if("load"===a.kind||"clear"===a.kind||"drop"===a.kind||"create"===a.kind)return a;throw Error("unknown executable unit: "+a.kind);};AbstractQueryTree.prototype.parseSelect=function(a){if(null==a)return console.log("error parsing query"),null;a.pattern=this.build(a.pattern,{freshCounter:0});return a};AbstractQueryTree.prototype.parseInsertData=
function(a){return null==a?(console.log("error parsing query"),null):a};AbstractQueryTree.prototype.build=function(a,b){if("groupgraphpattern"===a.token)return this._buildGroupGraphPattern(a,b);if("basicgraphpattern"===a.token){var f={kind:"BGP",value:a.triplesContext};return f=AbstractQueryTree.translatePathExpressionsInBGP(f,b)}if("graphunionpattern"===a.token){var f=this.build(a.value[0],b),d=this.build(a.value[1],b);return{kind:"UNION",value:[f,d]}}if("graphgraphpattern"===a.token)return{kind:"GRAPH",
value:this.build(a.value,b),graph:a.graph};if(null!=a.token)throw new k(a.token,"Non implemented SPARQL graph pattern: '"+a.token+"'");throw new n("Error parsing graph pattern: '"+JSON.stringify(a)+"'");};AbstractQueryTree.translatePathExpressionsInBGP=function(a,b){var f,h=[],c,g;for(g=0;g<a.value.length;g++)if(a.value[g].predicate&&"path"===a.value[g].predicate.token){f=a.value[g];c=a.value.slice(g+1);var m=AbstractQueryTree.translatePathExpression(f,b);f=null;if("BGP"===m.kind)h=h.concat(m.value);
else{if("ZERO_OR_MORE_PATH"===m.kind||"ONE_OR_MORE_PATH"===m.kind){g=0<h.length?{kind:"JOIN",lvalue:{kind:"BGP",value:h},rvalue:m}:m;if("ZERO_OR_MORE_PATH"===m.kind)if("var"===m.y.token&&0===m.y.value.indexOf("fresh:")&&"var"===m.x.token&&0===m.x.value.indexOf("fresh:"))for(var l=0;l<a.value.length;l++)a.value[l].object&&"var"===a.value[l].object.token&&a.value[l].object.value===m.x.value&&(f=d.clone(a.value[l],!0),f.object=m.y);else if("var"===m.y.token&&0===m.y.value.indexOf("fresh:"))for(l=0;l<
a.value.length;l++)a.value[l].subject&&"var"===a.value[l].subject.token&&a.value[l].subject.value===m.y.value&&(f=d.clone(a.value[l],!0),f.subject=m.x);return 0<c.length?(m=AbstractQueryTree.translatePathExpressionsInBGP({kind:"BGP",value:c},b),null!=f?(h=h.concat([f]).concat(c),{kind:"UNION",value:[{kind:"JOIN",lvalue:g,rvalue:m},{kind:"BGP",value:h}]}):{kind:"JOIN",lvalue:g,rvalue:m}):g}return m}}else h.push(a.value[g]);a.value=h;return a};AbstractQueryTree.translatePathExpression=function(a,b){if("element"===
a.predicate.kind){if("+"===a.predicate.modifier){a.predicate.modifier=null;var f=AbstractQueryTree.translatePathExpression(a,b);return{kind:"ONE_OR_MORE_PATH",path:f,x:a.subject,y:a.object}}if("*"===a.predicate.modifier)return a.predicate.modifier=null,f=AbstractQueryTree.translatePathExpression(a,b),{kind:"ZERO_OR_MORE_PATH",path:f,x:a.subject,y:a.object};a.predicate=a.predicate.value;return{kind:"BGP",value:[a]}}if("sequence"===a.predicate.kind){for(var f=a.subject,h=a.object,c=a.graph,g,m,l=[],
r=0;r<a.predicate.value.length;r++)r!=a.predicate.value.length-1?(g={token:"var",value:"fresh:"+b.freshCounter},b.freshCounter++):g=h,m={subject:f,predicate:a.predicate.value[r],object:g},null!=c&&(m.graph=d.clone(c,!0)),l.push(m),r!=a.predicate.value.length-1&&(f=d.clone(g,!0));return AbstractQueryTree.translatePathExpressionsInBGP({kind:"BGP",value:l},b)}throw new k("Non supported path expression "+a.predicate.kind);};AbstractQueryTree.prototype._buildGroupGraphPattern=function(a,b){for(var f=a.filters||
[],d={kind:"EMPTY_PATTERN"},c=0;c<a.patterns.length;c++){var g=a.patterns[c];"optionalgraphpattern"===g.token?(g=this.build(g.value,b),d="FILTER"===g.kind?{kind:"LEFT_JOIN",lvalue:d,rvalue:g.value,filter:g.filter}:{kind:"LEFT_JOIN",lvalue:d,rvalue:g,filter:!0}):(g=this.build(g,b),d="EMPTY_PATTERN"==d.kind?g:{kind:"JOIN",lvalue:d,rvalue:g})}if(0!=f.length){if("EMPTY_PATTERN"===d.kind||"LEFT_JOIN"===d.kind&&!0===d.filter||"LEFT_JOIN"===d.kind||"JOIN"===d.kind||"UNION"===d.kind||"GRAPH"===d.kind||"BGP"===
d.kind)return{kind:"FILTER",filter:f,value:d};throw Error("Unknow kind of algebra expression: "+d.kind);}return d};AbstractQueryTree.prototype.collectBasicTriples=function(a,b){null==b&&(b=[]);if("select"===a.kind)b=this.collectBasicTriples(a.pattern,b);else if("BGP"===a.kind)b=b.concat(a.value);else if("ZERO_OR_MORE_PATH"===a.kind)b=this.collectBasicTriples(a.path);else if("UNION"===a.kind)b=this.collectBasicTriples(a.value[0],b),b=this.collectBasicTriples(a.value[1],b);else if("GRAPH"===a.kind)b=
this.collectBasicTriples(a.value,b);else if("LEFT_JOIN"===a.kind||"JOIN"===a.kind)b=this.collectBasicTriples(a.lvalue,b),b=this.collectBasicTriples(a.rvalue,b);else if("FILTER"===a.kind)b=this.collectBasicTriples(a.value,b);else if("construct"===a.kind)b=this.collectBasicTriples(a.pattern,b);else if("EMPTY_PATTERN"!==a.kind)throw"Unknown pattern: "+a.kind;return b};AbstractQueryTree.prototype.bind=function(a,b){null!=a.graph&&a.graph.token&&"var"===a.graph.token&&null!=b[a.graph.value]&&(a.graph=
b[a.graph.value]);if(null!=a.filter){for(var f=[],d=0;d<a.filter.length;d++)a.filter[d].value=this._bindFilter(a.filter[d].value,b),f.push(a.filter[d]);a.filter=f}if("select"===a.kind)a.pattern=this.bind(a.pattern,b);else if("BGP"===a.kind)a.value=this._bindTripleContext(a.value,b);else if("ZERO_OR_MORE_PATH"===a.kind)a.path=this._bindTripleContext(a.path,b),a.x&&"var"===a.x.token&&null!=b[a.x.value]&&(a.x=b[a.x.value]),a.y&&"var"===a.y.token&&null!=b[a.y.value]&&(a.y=b[a.y.value]);else if("UNION"===
a.kind)a.value[0]=this.bind(a.value[0],b),a.value[1]=this.bind(a.value[1],b);else if("GRAPH"===a.kind)a.value=this.bind(a.value,b);else if("LEFT_JOIN"===a.kind||"JOIN"===a.kind)a.lvalue=this.bind(a.lvalue,b),a.rvalue=this.bind(a.rvalue,b);else if("FILTER"===a.kind)a.filter=this._bindFilter(a.filter[d].value,b);else if("EMPTY_PATTERN"!==a.kind)throw"Unknown pattern: "+a.kind;return a};AbstractQueryTree.prototype._bindTripleContext=function(a,b){for(var f=0;f<a.length;f++){delete a[f].graph;delete a[f].variables;
for(var d in a[f]){var c=a[f][d];"var"===c.token&&null!=b[c.value]&&(a[f][d]=b[c.value])}}return a};AbstractQueryTree.prototype._bindFilter=function(a,b){if(null!=a.expressionType){var f=a.expressionType;if("relationalexpression"==f)a.op1=this._bindFilter(a.op1,b),a.op2=this._bindFilter(a.op2,b);else if("conditionalor"==f||"conditionaland"==f)for(f=0;f<a.operands.length;f++)a.operands[f]=this._bindFilter(a.operands[f],b);else if("additiveexpression"==f)for(a.summand=this._bindFilter(a.summand,b),
f=0;f<a.summands.length;f++)a.summands[f].expression=this._bindFilter(a.summands[f].expression,b);else if("builtincall"==f)for(f=0;f<a.args.length;f++)a.args[f]=this._bindFilter(a.args[f],b);else if("multiplicativeexpression"==f)for(a.factor=this._bindFilter(a.factor,b),f=0;f<a.factors.length;f++)a.factors[f].expression=this._bindFilter(a.factors[f].expression,b);else if("unaryexpression"==f)a.expression=this._bindFilter(a.expression,b);else if("irireforfunction"==f)for(f=0;f<a.factors.args;f++)a.args[f]=
this._bindFilter(a.args[f],b);else"atomic"==f&&"var"==a.primaryexpression&&null!=b[a.value.value]&&(f=b[a.value.value],a.primaryexpression="uri"===f.token?"iri":"literal",a.value=f)}return a};AbstractQueryTree.prototype.replace=function(a,b,f,h){null!=a.graph&&a.graph.token&&a.graph.token===b.token&&a.graph.value==b.value&&(a.graph=d.clone(f,!0));if(null!=a.filter){for(var c=[],g=0;g<a.filter.length;g++)a.filter[g].value=this._replaceFilter(a.filter[g].value,b,f,h),c.push(a.filter[g]);a.filter=c}if("select"===
a.kind)a.pattern=this.replace(a.pattern,b,f,h);else if("BGP"===a.kind)a.value=this._replaceTripleContext(a.value,b,f,h);else if("ZERO_OR_MORE_PATH"===a.kind)a.path=this._replaceTripleContext(a.path,b,f,h),a.x&&a.x.token===b.token&&a.value===b.value&&(a.x=d.clone(f,!0)),a.y&&a.y.token===b.token&&a.value===b.value&&(a.y=d.clone(f,!0));else if("UNION"===a.kind)a.value[0]=this.replace(a.value[0],b,f,h),a.value[1]=this.replace(a.value[1],b,f,h);else if("GRAPH"===a.kind)a.value=this.replace(a.value,b,f);
else if("LEFT_JOIN"===a.kind||"JOIN"===a.kind)a.lvalue=this.replace(a.lvalue,b,f,h),a.rvalue=this.replace(a.rvalue,b,f,h);else if("FILTER"===a.kind)a.value=this._replaceFilter(a.value,b,f,h);else if("EMPTY_PATTERN"!==a.kind)throw"Unknown pattern: "+a.kind;return a};AbstractQueryTree.prototype._replaceTripleContext=function(a,b,f,h){for(var c=0;c<a.length;c++)for(var g in a[c]){var m=a[c][g];"var"===m.token&&"var"===b.token&&m.value===b.value?a[c][g]=f:"blank"===m.token&&"blank"===b.token&&m.value===
b.value?a[c][g]=f:"literal"!==m.token&&"uri"!==m.token||"literal"!==b.token&&"uri"!==b.token||m.token!==b.token||d.lexicalFormTerm(m,h)[m.token]!==d.lexicalFormTerm(b,h)[m.token]||(a[c][g]=f)}return a};AbstractQueryTree.prototype._replaceFilter=function(a,b,f,d){if(null!=a.expressionType){var c=a.expressionType;if("relationalexpression"==c)a.op1=this._replaceFilter(a.op1,b,f,d),a.op2=this._replaceFilter(a.op2,b,f,d);else if("conditionalor"==c||"conditionaland"==c)for(c=0;c<a.operands.length;c++)a.operands[c]=
this._replaceFilter(a.operands[c],b,f,d);else if("additiveexpression"==c)for(a.summand=this._replaceFilter(a.summand,b,f,d),c=0;c<a.summands.length;c++)a.summands[c].expression=this._replaceFilter(a.summands[c].expression,b,f,d);else if("builtincall"==c)for(c=0;c<a.args.length;c++)a.args[c]=this._replaceFilter(a.args[c],b,f,d);else if("multiplicativeexpression"==c)for(a.factor=this._replaceFilter(a.factor,b,f,d),c=0;c<a.factors.length;c++)a.factors[c].expression=this._replaceFilter(a.factors[c].expression,
b,f,d);else if("unaryexpression"==c)a.expression=this._replaceFilter(a.expression,b,f,d);else if("irireforfunction"==c)for(c=0;c<a.factors.args;c++)a.args[c]=this._replaceFilter(a.args[c],b,f,d);else"atomic"==c&&(d=null,a.primaryexpression==b.token&&a.value==b.value?d=f.value:"iri"==a.primaryexpression&&"uri"==b.token&&a.value==b.value&&(d=f.value),null!=d&&(a.primaryexpression="uri"===f.token?"iri":f.token,a.value=d))}return a};AbstractQueryTree.prototype.treeWithUnion=function(a){if(null==a||null==
a.kind)return!1;if("select"===a.kind)return this.treeWithUnion(a.pattern);if("BGP"===a.kind)return this.treeWithUnion(a.value);if("ZERO_OR_MORE_PATH"===a.kind)return!1;if("UNION"===a.kind)if(null!=a.value[0].value&&null!=a.value[0].value.variables&&null!=a.value[1].value&&null!=a.value[1].value.variables){if(a.value[0].variables.join("/")===a.values[1].variables.join("/"))return this.treeWithUnion(a.value[0])?!0:this.treeWithUnion(a.value[1])}else return!0;else{if("GRAPH"===a.kind||"LEFT_JOIN"!==
a.kind&&"JOIN"!==a.kind)return!1;if(this.treeWithUnion(a.lvalue))return!0;this.treeWithUnion(a.rvalue)}};z.exports={AbstractQueryTree:AbstractQueryTree,NonSupportedSparqlFeatureError:k,SparqlParserError:n}},{"./parser":51,"./utils":62}],46:[function(q,z,u){var k=q("./utils"),n=k.nextTick,b=function(a,b){if(0!=arguments.length){this.order=a;this.root=this._allocateNode();this.root.isLeaf=!0;this.root.level=0;var f=this;this._diskWrite(this.root,function(a){f.root=a;f._updateRootNode(f.root,function(a){f.comparator=
function(a,b){return a<b?-1:a>b?1:0};f.merger=null;null!=b&&b(f)})})}};b.prototype._allocateNode=function(){return new d};b.prototype._diskWrite=function(a,b){n(function(){b(a)})};b.prototype._diskRead=function(a,b){n(function(){b(a)})};b.prototype._diskDelete=function(a,b){n(function(){b()})};b.prototype._updateRootNode=function(a,b){b(a)};b.prototype.search=function(a,b,f){this.__search(this,a,this.root,b,f)};b.prototype.__search=function(a,b,f,d,c){for(var g=0;g<f.numberActives&&1===a.comparator(b,
f.keys[g].key);)g++;g<f.numberActives&&0===a.comparator(f.keys[g].key,b)?null!=c&&!0==c?d(!0):d(f.keys[g].data):!0===f.isLeaf?d(null):a._diskRead(f.children[g],function(f){a.__search(a,b,f,d,c)})};b.prototype.walk=function(a,b){this.__walk(this,this.root,a,b)};b.prototype.__walk=function(a,b,f,d){var c=b.numberActives,g=0;if(b.isLeaf){for(g=0;g<b.numberActives;g++)f(b.keys[g]);return d()}k.whilst(function(){return g<c},function(c){a._diskRead(b.children[g],function(d){a.__walk(a,d,f,function(){a._diskRead(b.keys[g],
function(a){f(a);g++;c()})})})},function(){a._diskRead(b.children[c],function(b){a.__walk(a,b,f,function(){d()})})})};b.prototype.walkNodes=function(a){this.__walkNodes(this,root,a,function(){})};b.prototype.__walkNodes=function(a,b,f,d){if(b.isLeaf)return f(b),d();f(b);var c=b.numberActives,g=0;k.whilst(function(){return g<c},function(c){a._diskRead(b.children[g],function(b){a.__walkNodes(a,b,f,function(){g++;c()})})},function(){a._diskRead(b.children[c],function(b){a.__walkNodes(a,b,f,function(){})})})};
b.prototype._splitChild=function(a,b,f,d){var c=this._allocateNode();c.isLeaf=f.isLeaf;c.level=f.level;c.numberActives=this.order-1;var g=f.keys[this.order-1];f.keys[this.order-1]=null;for(var m=0;m<this.order-1;m++)c.keys[m]=f.keys[m+this.order],f.keys[m+this.order]=null,f.isLeaf||(c.children[m]=f.children[m+this.order],f.children[m+this.order]=null);f.isLeaf||(c.children[m]=f.children[m+this.order],f.children[m+this.order]=null);f.numberActives=this.order-1;for(m=a.numberActives+1;m>b+1;m--)a.children[m]=
a.children[m-1];a.children[b+1]=c;for(m=a.numberActives;m>b;m--)a.keys[m]=a.keys[m-1];a.keys[b]=g;a.numberActives++;var l=this;this._diskWrite(c,function(c){l._diskWrite(a,function(a){a.children[b+1]=c;l._diskWrite(f,function(b){return d(a)})})})};b.prototype.insert=function(a,b,f){if(this.root.numberActives===2*this.order-1){var d=this._allocateNode();d.isLeaf=!1;d.level=this.root.level+1;d.numberActives=0;d.children[0]=this.root;var c=this;this._splitChild(d,0,this.root,function(g){d=g;c.root=d;
c._updateRootNode(d,function(d){c._insertNonFull(d,a,b,f)})})}else this._insertNonFull(this.root,a,b,f)};b.prototype._insertNonFull=function(a,b,f,d){this.__insertNonFull(this,a,a.numberActives-1,b,f,d)};b.prototype.__insertNonFull=function(a,b,f,d,c,g){if(b.isLeaf){for(;0<=f&&-1===a.comparator(d,b.keys[f].key);)b.keys[f+1]=b.keys[f],f--;0<=f&&0===a.comparator(d,b.keys[f].key)?b.keys[f]={key:d,data:c}:(b.keys[f+1]={key:d,data:c},b.numberActives++);a._diskWrite(b,function(a){return g(a)})}else{for(;0<=
f&&-1===a.comparator(d,b.keys[f].key);)f--;f++;a._diskRead(b.children[f],function(m){m.numberActives===2*a.order-1?a._splitChild(b,f,m,function(){1===a.comparator(d,b.keys[f].key)&&f++;a._diskRead(b.children[f],function(b){f=b.numberActives-1;a.__insertNonFull(a,b,f,d,c,g)})}):a._diskRead(b.children[f],function(b){f=b.numberActives-1;a.__insertNonFull(a,b,f,d,c,g)})})}};b.prototype.delete=function(a,e){b.prototype.__deleteSearchNode(this,a,this.root,e)};b.prototype.__deleteSearchNode=function(a,b,
f,d){var c=0;if(0===f.numberActives)return d(!1);for(;c<f.numberActives&&1===a.comparator(b,f.keys[c].key);)c++;var g=c;if(c<f.numberActives&&0===a.comparator(b,f.keys[c].key))return a.__deleteNodeFound(a,g,b,f,d);if(!0===f.isLeaf)return d(!1);a._diskRead(f.children[c],function(m){if(null===m)return d(!1);var l=!1,r=!1,k=null,D=null;g===f.numberActives?(r=!0,D=f.children[g-1],k=f.children[g-1]):0===g?(l=!0,k=f.children[1],D=f.children[1]):(D=f.children[g-1],k=f.children[g+1]);a._diskRead(D,function(g){a._diskRead(k,
function(k){!0===r&&(k=null);!0===l&&(g=null);m.numberActives===a.order-1&&null!=f?null!=k&&k.numberActives>a.order-1?a._moveKey(f,c,-1,function(c){a.__deleteSearchNode(a,b,m,d)}):null!=g&&g.numberActives>a.order-1?a._moveKey(f,c,1,function(c){a.__deleteSearchNode(a,b,m,d)}):null!=g&&g.numberActives===a.order-1?a._mergeSiblings(f,c,-1,function(c){a.__deleteSearchNode(a,b,c,d)}):null!=k&&k.numberActives===a.order-1&&a._mergeSiblings(f,c,1,function(c){a.__deleteSearchNode(a,b,c,d)}):a.__deleteSearchNode(a,
b,m,d)})})})};b.prototype.__deleteNodeFound=function(a,b,f,d,c){if(d.isLeaf&&d.numberActives>a.order-1||d.isLeaf&&d===a.root)return a._deleteKeyFromNode(d,b,function(){c(!0)}),!0;!1===d.isLeaf&&a._diskRead(d.children[b],function(g){g.numberActives>a.order-1?a._getMaxKeyPos(a,g,function(m){f=m.node.keys[m.index];d.keys[b]=f;a._diskWrite(d,function(b){b=g;f=f.key;a.__deleteSearchNode(a,f,b,c)})}):a._diskRead(d.children[b+1],function(m){m.numberActives>a.order-1?a._getMinKeyPos(a,m,function(g){f=g.node.keys[g.index];
d.keys[b]=f;a._diskWrite(d,function(b){b=m;f=f.key;a.__deleteSearchNode(a,f,b,c)})}):g.numberActives===a.order-1&&m.numberActives===a.order-1&&a._mergeNodes(g,d.keys[b],m,function(g){d.children[b]=g;b++;for(var m=b;m<d.numberActives;m++)d.children[m]=d.children[m+1],d.keys[m-1]=d.keys[m];d.children[m]=null;d.keys[m-1]=null;d.numberActives--;0===d.numberActives&&a.root===d&&(a.root=g);a._diskWrite(d,function(b){a.__deleteSearchNode(a,f,g,c)})})})});d.isLeaf&&d.numberActives>a.order-1&&a._deleteKeyFromNode(d,
b,function(b){a.__deleteSearchNode(a,f,b,c)})};b.prototype._moveKey=function(a,b,d,h){1===d&&b--;var c=this;c._diskRead(a.children[b],function(g){c._diskRead(a.children[b+1],function(m){if(-1==d){g.keys[g.numberActives]=a.keys[b];g.children[g.numberActives+1]=m.children[0];m.children[0]=null;g.numberActives++;a.keys[b]=m.keys[0];for(var l=1;l<m.numberActives;l++)m.keys[l-1]=m.keys[l],m.children[l-1]=m.children[l];m.children[m.numberActives-1]=m.children[m.numberActives];m.numberActives--}else{m.children[m.numberActives+
1]=m.children[m.numberActives];for(l=m.numberActives;0<l;l--)m.children[l]=m.children[l-1],m.keys[l]=m.keys[l-1];m.keys[0]=null;m.children[0]=null;m.children[0]=g.children[g.numberActives];m.keys[0]=a.keys[b];m.numberActives++;g.children[g.numberActives]=null;a.keys[b]=g.keys[g.numberActives-1];g.keys[g.numberActives-1]=null;g.numberActives--}c._diskWrite(g,function(b){c._diskWrite(m,function(b){c._diskWrite(a,function(a){return h(a)})})})})})};b.prototype._mergeSiblings=function(a,b,d,h){var c,g,
m;b===a.numberActives?(b--,d=a.children[a.numberActives-1],m=a.children[a.numberActives]):(d=a.children[b],m=a.children[b+1]);var l=this;l._diskRead(d,function(d){l._diskRead(m,function(f){var m=l._allocateNode();m.isLeaf=d.isLeaf;m.level=d.level;for(g=0;g<l.order-1;g++)m.keys[g]=d.keys[g],m.children[g]=d.children[g];m.keys[l.order-1]=a.keys[b];m.children[l.order-1]=d.children[l.order-1];for(g=0;g<l.order-1;g++)m.keys[g+l.order]=f.keys[g],m.children[g+l.order]=f.children[g];m.children[2*l.order-1]=
f.children[l.order-1];a.children[b]=m;for(g=b;g<a.numberActives;g++)a.keys[g]=a.keys[g+1],a.children[g+1]=a.children[g+2];m.numberActives=d.numberActives+f.numberActives+1;a.numberActives--;for(c=a.numberActives;c<2*l.order-1;c++)a.keys[c]=null;0===a.numberActives&&l.root===a&&(l.root=m,m.isLeaf=m.level?!1:!0);l._diskWrite(m,function(b){l._diskWrite(a,function(a){l._diskDelete(d,function(){l._diskDelete(f,function(){if(l.root===b)l._updateRootNode(l.root,function(){return h(b)});else return h(b)})})})})})})};
b.prototype._deleteKeyFromNode=function(a,b,d){var h=2*this.order-1;a.numberActives<h&&(h=a.numberActives);if(!1===a.isLeaf)return!1;for(;b<h-1;b++)a.keys[b]=a.keys[b+1];a.keys.pop();a.numberActives--;this._diskWrite(a,function(a){return d(a)})};b.prototype._mergeNodes=function(a,b,d,h){var c,g;c=this._allocateNode();c.isLeaf=!0;for(g=0;g<a.numberActives;g++)c.keys[g]=a.keys[g],c.children[g]=a.children[g];c.children[a.numberActives]=a.children[a.numberActives];c.keys[a.numberActives]=b;for(g=0;g<
d.numberActives;g++)c.keys[g+a.numberActives+1]=d.keys[g],c.children[g+a.numberActives+1]=d.children[g];c.children[2*this.order-1]=d.children[d.numberActives];c.numberActives=a.numberActives+d.numberActives+1;c.isLeaf=a.isLeaf;c.level=a.level;var m=this;this._diskWrite(c,function(b){m._diskDelete(a,function(){m._diskDelete(d,function(){return h(b)})})})};b.prototype.audit=function(a){var b=[],d=[],h=this,c=function(c){for(var g=0;g<d.length;g++)if(0===h.comparator(d[g],c)){var k=" !!! duplicated key "+
c;!0===a&&console.log(k);b.push(k)}},g=null,h=this;this.walkNodes(function(m){!0===a&&(console.log("--- Node at "+m.level+" level"),console.log(" - leaf? "+m.isLeaf),console.log(" - num actives? "+m.numberActives),console.log(" - keys: "));for(var l=m.numberActives;l<m.keys.length;l++)null!=m.keys[l]&&!0===a&&(console.log(" * warning : redundant key data"),b.push(" * warning : redundant key data"));for(l=m.numberActives+1;l<m.children.length;l++)null!=m.children[l]&&!0===a&&(console.log(" * warning : redundant children data"),
b.push(" * warning : redundant key data"));if(!1===m.isLeaf)for(l=0;l<m.numberActives;l++){var k=this._diskRead(m.children[l]).keys[this._diskRead(m.children[l]).numberActives-1].key,A=this._diskRead(m.children[l+1]).keys[0].key;!0===a&&console.log("   "+m.keys[l].key+"("+k+","+A+")");if(-1===h.comparator(m.keys[l].key,k)){var n=" !!! value max left "+k+" > key "+m.keys[l].key;!0===a&&console.log(n);b.push(n)}1===h.comparator(m.keys[l].key,A)&&(n=" !!! value min right "+A+" < key "+m.keys[l].key,
!0===a&&console.log(n),b.push(n));c(m.keys[l].key);d.push(m.keys[l].key)}else for(null===g?g=m.level:g!=m.level&&(n=" !!! Leaf node with wrong level value",!0===a&&console.log(n),b.push(n)),l=0;l<m.numberActives;l++)!0===a&&console.log(" "+m.keys[l].key),c(m.keys[l].key),d.push(m.keys[l].key);m!=h.root&&(m.numberActives>2*h.order-1&&(!0===a&&(n=" !!!! MAX num keys restriction violated "),console.log(n),b.push(n)),m.numberActives<h.order-1&&(!0===a&&(n=" !!!! MIN num keys restriction violated "),console.log(n),
b.push(n)))});return b};b.prototype._getMaxKeyPos=function(a,b,d){var h={};if(null===b)return d(null);if(!0===b.isLeaf)return h.node=b,h.index=b.numberActives-1,d(h);h.node=b;h.index=b.numberActives-1;a._diskRead(b.children[b.numberActives],function(b){return a._getMaxKeyPos(a,b,d)})};b.prototype._getMinKeyPos=function(a,b,d){var h={};null===b&&d(null);if(!0===b.isLeaf)return h.node=b,h.index=0,d(h);h.node=b;h.index=0;a._diskRead(b.children[0],function(b){return a._getMinKeyPos(a,b,d)})};var d=function(){this.numberActives=
0;this.isLeaf=null;this.keys=[];this.children=[];this.level=0};z.exports={Tree:b,Node:d}},{"./utils":62}],47:[function(q,z,u){var k=q("./utils"),n=q("./utils");q("./quad_index");var b=q("./quad_index").Pattern,d=q("./rdf_model"),a=q("./abstract_query_tree").AbstractQueryTree;Callbacks={ANYTHING:{token:"var",value:"_"},added:"added",deleted:"deleted",eventsFlushed:"eventsFlushed",CallbacksBackend:function(b){this.aqt=new a;this.engine=b;this.indexMap={};this.observersMap={};this.queriesIndexMap={};
this.emptyNotificationsMap={};this.queriesList=[];this.pendingQueries=[];this.matchedQueries=[];this.updateInProgress=null;this.indices="SPOG GP OGS POG GSP OS".split(" ");this.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]};this.callbackCounter=0;this.callbacksMap=
{};this.callbacksInverseMap={};this.queryCounter=0;this.queriesMap={};this.queriesCallbacksMap={};this.queriesInverseMap={};for(b=0;b<this.indices.length;b++){var d=this.indices[b];this.indexMap[d]={};this.queriesIndexMap[d]={}}}};Callbacks.CallbacksBackend.prototype.startGraphModification=function(){!0!==this.ongoingModification&&(this.pendingQueries=[].concat(this.queriesList),this.matchedQueries=[],null==this.updateInProgress&&(this.updateInProgress={},this.updateInProgress[Callbacks.added]=[],
this.updateInProgress[Callbacks.deleted]=[]))};Callbacks.CallbacksBackend.prototype.nextGraphModification=function(a,b){this.updateInProgress[a].push(b)};Callbacks.CallbacksBackend.prototype.endGraphModification=function(a){if(!0!==this.ongoingModification){var b=this;if(null!=this.updateInProgress){var d=b.updateInProgress;b.updateInProgress=null;this.sendNotification(Callbacks.deleted,d[Callbacks.deleted],function(){b.sendNotification(Callbacks.added,d[Callbacks.added],function(){b.sendEmptyNotification(Callbacks.eventsFlushed,
null,function(){b.dispatchQueries(function(){a(!0)})})})})}else a(!0)}else a(!0)};Callbacks.CallbacksBackend.prototype.cancelGraphModification=function(){!0!==this.ongoingModification&&(this.updateInProgress=null)};Callbacks.CallbacksBackend.prototype.sendNotification=function(a,b,d){for(var c={},g=0;g<b.length;g++){var m=b[g],l;for(l in this.indexMap){var k=this.indexMap[l],A=this.componentOrders[l];this._searchCallbacksInIndex(k,A,a,m,c);0!=this.pendingQueries.length&&(k=this.queriesIndexMap[l],
this._searchQueriesInIndex(k,A,m))}}this.dispatchNotifications(c);null!=d&&d(!0)};Callbacks.CallbacksBackend.prototype.sendEmptyNotification=function(a,b,d){for(var c=this.emptyNotificationsMap[a]||[],g=0;g<c.length;g++)c[g](a,b);d()};Callbacks.CallbacksBackend.prototype.dispatchNotifications=function(a){for(var b in a){var d=this.callbacksMap[b],c=a[b][Callbacks.deleted];if(null!=c)try{d(Callbacks.deleted,c)}catch(g){}for(var m in a[b])if(m!=Callbacks.deleted)try{d(m,a[b][m])}catch(l){}}};Callbacks.CallbacksBackend.prototype._searchCallbacksInIndex=
function(a,b,d,c,g){var m=c[1];c=c[0];for(var l=0;l<b.length+1;l++){for(var k=a._||[],A=[],n=0;n<k.length;n++){var v=k[n];null!=this.callbacksMap[v]&&(g[v]=g[v]||{},g[v][d]=g[v][d]||[],g[v][d].push(c),A.push(v))}a._=A;k=b[l];if(null!=a[""+m[k]])a=a[""+m[k]];else break}};Callbacks.CallbacksBackend.prototype.subscribeEmpty=function(a,b){var d=this.emptyNotificationsMap[a]||[];d.push(b);this.emptyNotificationsMap[a]=d};Callbacks.CallbacksBackend.prototype.unsubscribeEmpty=function(a,b){var d=this.emptyNotificationsMap[a];
null!=d&&(d=k.reject(d,function(a){return a===b}));this.emptyNotificationsMap[a]=d};Callbacks.CallbacksBackend.prototype.subscribe=function(a,d,h,c,g,m){a=this._tokenizeComponents(a,d,h,c);d={blanks:{},outCache:{}};this.engine.registerNsInEnvironment(null,d);var l=this;this.engine.normalizeQuad(a,d,!0,function(a){for(var e=new b(a),c=l._indexForPattern(e),e=l.componentOrders[c],c=l.indexMap[c],d=0;d<e.length;d++){var f=a[e[d]];if("_"===f){null==c._&&(c._=[]);l.callbackCounter++;c._.push(l.callbackCounter);
l.callbacksMap[l.callbackCounter]=g;l.callbacksInverseMap[g]=l.callbackCounter;break}else d===e.length-1?(c[f]=c[f]||{_:[]},l.callbackCounter++,c[f]._.push(l.callbackCounter),l.callbacksMap[l.callbackCounter]=g,l.callbacksInverseMap[g]=l.callbackCounter):(c[f]=c[f]||{},c=c[f])}null!=m&&m(!0)})};Callbacks.CallbacksBackend.prototype.unsubscribe=function(a){var b=this.callbacksInverseMap[a];null!=b&&(delete this.callbacksInverseMap[a],delete this.callbacksMap[b])};Callbacks.CallbacksBackend.prototype._tokenizeComponents=
function(a,b,d,c){var g={};null==a?g.subject=Callbacks.ANYTHING:0==a.indexOf("_:")?g.subject={token:"blank",value:a}:g.subject={token:"uri",value:a};g.predicate=null==b?Callbacks.ANYTHING:{token:"uri",value:b};g.object=null==d?Callbacks.ANYTHING:{token:"uri",value:d};g.graph=null==c?Callbacks.ANYTHING:{token:"uri",value:c};return g};Callbacks.CallbacksBackend.prototype._indexForPattern=function(a){a=a.indexKey;for(var b=this.indices,d=0;d<b.length;d++)for(var c=b[d],g=this.componentOrders[c],m=0;m<
g.length&&!1!==k.include(a,g[m]);m++)if(m==a.length-1)return c;return"SPOG"};Callbacks.CallbacksBackend.prototype.observeNode=function(){var a,b,h,c;4===arguments.length?(a=arguments[0],b=arguments[1],h=arguments[2],c=arguments[3]):(a=arguments[0],b=this.engine.lexicon.defaultGraphUri,h=arguments[1],c=arguments[2]);b="CONSTRUCT { <"+a+"> ?p ?o } WHERE { GRAPH <"+b+"> { <"+a+"> ?p ?o } }";var g=this,m={blanks:{},outCache:{}};this.engine.registerNsInEnvironment(null,m);var l=[];this.engine.execute(b,
function(b,f){if(b)c&&c(!1);else{var k=!1,v=function(a,b){if("eventsFlushed"===a&&k){k=!1;try{h(f)}catch(e){}}else if("eventsFlushed"!==a){k=!0;for(var c=0;c<b.length;c++){var r=b[c],s=d.buildRDFResource(r.subject,l,g.engine,m),t=d.buildRDFResource(r.predicate,l,g.engine,m),r=d.buildRDFResource(r.object,l,g.engine,m);null!=s&&null!=t&&null!=r&&(r=new d.Triple(s,t,r),a===Callbacks.added?f.add(r):a===Callbacks.deleted&&f.remove(r))}}};g.observersMap[h]=v;g.subscribeEmpty(Callbacks.eventsFlushed,v);
g.subscribe(a,null,null,null,v,function(){try{h(f)}catch(a){}c&&c(!0)})}})};Callbacks.CallbacksBackend.prototype.stopObservingNode=function(a){return(a=this.observersMap[a])?(this.unsubscribe(a),this.unsubscribeEmpty(Callbacks.eventsFlushed,a),!0):!1};Callbacks.CallbacksBackend.prototype.observeQuery=function(a,d,h){var c=this.aqt.parseQueryString(a),c=this.aqt.parseSelect(c.units[0]),c=this.aqt.collectBasicTriples(c),g={blanks:{},outCache:{}};this.engine.registerNsInEnvironment(null,g);var m,l,k,
n=this.queryCounter;this.queryCounter++;this.queriesMap[n]=a;this.queriesInverseMap[a]=n;this.queriesList.push(n);this.queriesCallbacksMap[n]=d;for(var q=0;q<c.length;q++){l=c[q];null==l.graph&&(l.graph=this.engine.lexicon.defaultGraphUriTerm);l=this.engine.normalizeQuad(l,g,!0);m=new b(l);k=this._indexForPattern(m);m=this.componentOrders[k];k=this.queriesIndexMap[k];for(var v=0;v<m.length;v++){var u=l[m[v]];if("string"===typeof u){null==k._&&(k._=[]);k._.push(n);break}else v===m.length-1?(k[u]=k[u]||
{_:[]},k[u]._.push(n)):(k[u]=k[u]||{},k=k[u])}}this.engine.execute(a,function(a,b){a?console.log("ERROR in query callback "+b):d(b)});null!=h&&h()};Callbacks.CallbacksBackend.prototype.stopObservingQuery=function(a){var b=this.queriesInverseMap[a];null!=b&&(delete this.queriesInverseMap[a],delete this.queriesMap[b],this.queriesList=k.reject(this.queriesList,function(a){return a===b}))};Callbacks.CallbacksBackend.prototype._searchQueriesInIndex=function(a,b,d){var c=d[1];d=d[0];for(d=0;d<b.length+
1;d++){for(var g=a._||[],m=[],l=0;l<g.length;l++){var r=g[l];k.include(this.pendingQueries,r)&&(k.remove(this.pendingQueries,function(a){return a===r}),this.matchedQueries.push(r));null!=this.queriesMap[r]&&m.push(r)}a._=m;g=b[d];if(null!=a[""+c[g]])a=a[""+c[g]];else break}};Callbacks.CallbacksBackend.prototype.dispatchQueries=function(a){var b=this,d,c,g={};n.eachSeries(this.matchedQueries,function(a,e){null==g[a]?(g[a]=!0,d=b.queriesMap[a],c=b.queriesCallbacksMap[a],b.engine.execute(d,function(a,
b){if(!a)try{c(b)}catch(d){}e()})):e()},function(){a()})};Callbacks.CallbacksBackend.added=Callbacks.added;Callbacks.CallbacksBackend.deleted=Callbacks.deleted;Callbacks.CallbacksBackend.eventsFlushed=Callbacks.eventsFlushed;z.exports=Callbacks},{"./abstract_query_tree":45,"./quad_index":55,"./rdf_model":60,"./utils":62}],48:[function(q,z,u){var k=q("jsonld"),n=function(b,d,a){var e=null;k.normalize(b,{},function(b,h){if(b)a(b);else{var c=function(a){if("blank node"===a.type)return{blank:a.value};
if("IRI"===a.type)return{token:"uri",value:a.value};if("literal"===a.type)return null!==a.datatype?{literal:'"'+a.value+'"^^<'+a.datatype+">"}:null!=a.language?{literal:'"'+a.value+'"@'+a.language}:{literal:'"'+a.value+'"'}};e=[];var g=function(a,b,f){e.push({subject:c(a),predicate:c(b),object:c(f),graph:d})},m;for(m in h)for(var l=h[m],k=0;k<l.length;k++){var n=l[k];g(n.subject,n.predicate,n.object)}a(null,e)}})};u.JSONLDParser={};q=u.JSONLDParser;q.parser={async:!0,parse:function(b,d,a,e){try{"string"===
typeof b&&(b=JSON.parse(b)),n(b,d,e)}catch(f){e(f)}}};z.exports={JSONLDParser:q}},{jsonld:40}],49:[function(q,z,u){var k=q("./utils"),n=q("./btree").Tree;Lexicon=function(b){var d=this;this.defaultGraphOid=0;this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph";this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri};this.oidCounter=1;k.seq(function(a){new n(2,function(b){d.uris=b;a()})},function(a){new n(2,function(b){d.literals=b;a()})},
function(a){new n(2,function(b){d.knownGraphs=b;a()})},function(a){new n(2,function(b){d.oidUris=b;a()})},function(a){new n(2,function(b){d.oidLiterals=b;a()})},function(a){new n(2,function(b){d.oidBlanks=b;a()})})(function(){null!=b&&b(d)})};Lexicon.prototype.registerGraph=function(b,d,a){b!=this.defaultGraphOid?this.knownGraphs.insert(b,d,function(){a()}):a()};Lexicon.prototype.registeredGraphs=function(b,d){var a=[];this.knownGraphs.walk(function(e){!0===b?a.push(e.data):a.push(e.key)},function(){d(a)})};
Lexicon.prototype.registerUri=function(b,d){var a=this;b===this.defaultGraphUri?d(this.defaultGraphOid):this.uris.search(b,function(e){if(null==e){var f=a.oidCounter,h="u"+f;a.oidCounter++;k.seq(function(c){a.uris.insert(b,[f,0],function(){c()})},function(c){a.oidUris.insert(h,b,function(){c()})})(function(){d(f)})}else f=e[0],e[1]+=1,d(f)})};Lexicon.prototype.resolveUri=function(b,d){b===this.defaultGraphUri?d(this.defaultGraphOid):this.uris.search(b,function(a){null!=a?d(a[0]):d(-1)})};Lexicon.prototype.resolveUriCost=
function(b,d){b===this.defaultGraphUri?d(0):this.uris.search(b,function(a){null!=a?d(a[1]):d(-1)})};Lexicon.prototype.registerBlank=function(b){var d=this.oidCounter;this.oidCounter++;var a=""+d;this.oidBlanks.insert(a,a,function(){b(d)})};Lexicon.prototype.resolveBlank=function(b,d){var a=this;this.oidBlanks.search(b,function(b){null!=b?d(b):(b=a.oidCounter,this.oidCounter++,d(""+b))})};Lexicon.prototype.resolveBlankCost=function(b,d){d(0)};Lexicon.prototype.registerLiteral=function(b,d){var a=this;
this.literals.search(b,function(e){if(null==e){var f=a.oidCounter,h="l"+f;a.oidCounter++;k.seq(function(c){a.literals.insert(b,[f,0],function(){c()})},function(c){a.oidLiterals.insert(h,b,function(){c()})})(function(){d(f)})}else f=e[0],e[1]+=1,d(f)})};Lexicon.prototype.resolveLiteral=function(b,d){this.literals.search(b,function(a){null!=a?d(a[0]):d(-1)})};Lexicon.prototype.resolveLiteralCost=function(b,d){this.literals.search(b,function(a){null!=a?d(a[1]):d(-1)})};Lexicon.prototype.parseLiteral=
function(b){var d=b.lastIndexOf("@");if(-1!=d&&'"'===b[d-1]&&null!=b.substring(d,b.length).match(/^@[a-zA-Z\-]+$/g)){var a=b.substring(1,d-1);b=b.substring(d+1,b.length);return{token:"literal",value:a,lang:b}}d=b.lastIndexOf("^^");if(-1!=d&&'"'===b[d-1]&&"<"===b[d+2]&&">"===b[b.length-1])return a=b.substring(1,d-1),b=b.substring(d+3,b.length-1),{token:"literal",value:a,type:b};a=b.substring(1,b.length-1);return{token:"literal",value:a}};Lexicon.prototype.parseUri=function(b){return{token:"uri",value:b}};
Lexicon.prototype.retrieve=function(b,d){var a=this;b===this.defaultGraphOid?d({token:"uri",value:this.defaultGraphUri,prefix:null,suffix:null,defaultGraph:!0}):k.seq(function(e,d){a.oidUris.search("u"+b,function(b){null!=b?d(null,a.parseUri(b)):d(null,null)})},function(e,d){null==e?a.oidLiterals.search("l"+b,function(b){null!=b?d(null,a.parseLiteral(b)):d(null,null)}):d(null,e)},function(e,d){null==e?a.oidBlanks.search(""+b,function(a){null!=a?d(null,{token:"blank",value:"_:"+b}):d(null,null)}):
d(null,e)})(null,function(a,b){d(b)})};Lexicon.prototype.clear=function(b){var d=this;this.defaultGraphOid=0;this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph";this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri};this.oidCounter=1;k.seq(function(a){new n(2,function(b){d.uris=b;a()})},function(a){new n(2,function(b){d.literals=b;a()})},function(a){new n(2,function(b){d.knownGraphs=b;a()})},function(a){new n(2,function(b){d.oidUris=
b;a()})},function(a){new n(2,function(b){d.oidLiterals=b;a()})},function(a){new n(2,function(b){d.oidBlanks=b;a()})})(function(){null!=b&&b()})};Lexicon.prototype.unregister=function(b,d,a){var e=this;k.seq(function(a){e._unregisterTerm(b.subject.token,d.subject,a)},function(a){e._unregisterTerm(b.predicate.token,d.predicate,a)},function(a){e._unregisterTerm(b.object.token,d.object,a)},function(a){null!=b.graph?e._unregisterTerm(b.graph.token,d.graph,a):a()})(function(){a(!0)})};Lexicon.prototype._unregisterTerm=
function(b,d,a){var e=this;if("uri"===b)if(d!=this.defaultGraphOid){var f="u"+d;e.oidUris.search(f,function(b){e.uris.search(b,function(c){var g=c[1];""+c[0]===""+d?0===g?k.seq(function(a){e.oidUris.delete(f,function(){a()})},function(a){e.uris.delete(b,function(){a()})},function(a){e.knownGraphs.delete(d,function(){a()})})(function(){a()}):e.uris.insert(b,[d,g-1],function(){a()}):a()})})}else a();else"literal"===b?(this.oidCounter++,f="l"+d,e.oidLiterals.search(f,function(b){e.literals.search(b,
function(c){var g=c[1];""+c[0]===""+d?0===g?k.seq(function(a){e.oidLiterals.delete(f,function(){a()})},function(a){e.literals.delete(b,function(){a()})})(function(){a()}):e.literals.insert(b,[d,g-1],function(){a()}):a()})})):"blank"===b?e.oidBlanks.delete(""+d,function(){a()}):a()};z.exports={Lexicon:Lexicon}},{"./btree":46,"./utils":62}],50:[function(q,z,u){var k=q("http"),n=q("https"),b=q("url");NetworkTransport={load:function(d,a,e,f){var h=null==f?3:f;d=b.parse(d,!0,!0);f={host:d.host,hostname:d.hostname,
method:"GET",path:d.path,headers:{host:d.hostname,Accept:a}};var c=null;"http:"===d.protocol?(f.port=d.port||80,c=k):"https:"===d.protocol&&(f.port=d.port||443,c=n);d=c.request(f,function(b){var c=b.headers,d="";"2"==(""+b.statusCode)[0]?(b.on("end",function(){e(null,{headers:c,data:d})}),b.on("data",function(a){d+=a})):"3"==(""+b.statusCode)[0]?0==h?e(Error("Too many redirections")):(b=c.Location||c.location,null!=b?NetworkTransport.load(b,a,e,h-1):e(Error("Redirection without location header"))):
e(Error("HTTP error: "+b.statusCode))});d.on("error",e);d.end()}};z.exports={NetworkTransport:NetworkTransport}},{http:8,https:12,url:36}],51:[function(q,z,u){z.exports=function(){function k(k,b,d,a,e,f){this.message=k;this.expected=b;this.found=d;this.offset=a;this.line=e;this.column=f;this.name="SyntaxError"}(function(k,b){function d(){this.constructor=k}d.prototype=b.prototype;k.prototype=new d})(k,Error);return{SyntaxError:k,parse:function(n){function b(a){if(q!==a){q>a&&(q=0,D={line:1,column:1,
seenCR:!1});var b=D,c,e;for(c=q;c<a;c++)e=n.charAt(c),"\n"===e?(b.seenCR||b.line++,b.column=1,b.seenCR=!1):"\r"===e||"\u2028"===e||"\u2029"===e?(b.line++,b.column=1,b.seenCR=!0):(b.column++,b.seenCR=!1);q=a}return D}function d(a){r<v||(r>v&&(v=r,u=[]),u.push(a))}function a(a){var b=Array(a.length),c;for(c=0;c<a.length;c++)b[c]=a.charCodeAt(c)-32;return b}function e(a){function b(a){return"[object Array]"===Object.prototype.toString.apply(a)?[]:a}a=l[a];for(var c=0,f=[],g=a.length,k=[],v=[],q,A;;){for(;c<
g;)switch(a[c]){case 0:v.push(b(m[a[c+1]]));c+=2;break;case 1:v.push(r);c++;break;case 2:v.pop();c++;break;case 3:r=v.pop();c++;break;case 4:v.length-=a[c+1];c+=2;break;case 5:v.splice(-2,1);c++;break;case 6:v[v.length-2].push(v.pop());c++;break;case 7:v.push(v.splice(v.length-a[c+1],a[c+1]));c+=2;break;case 8:v.pop();v.push(n.substring(v[v.length-1],r));c++;break;case 9:k.push(g);f.push(c+3+a[c+1]+a[c+2]);v[v.length-1]?(g=c+3+a[c+1],c+=3):(g=c+3+a[c+1]+a[c+2],c+=3+a[c+1]);break;case 10:k.push(g);
f.push(c+3+a[c+1]+a[c+2]);v[v.length-1]===h?(g=c+3+a[c+1],c+=3):(g=c+3+a[c+1]+a[c+2],c+=3+a[c+1]);break;case 11:k.push(g);f.push(c+3+a[c+1]+a[c+2]);v[v.length-1]!==h?(g=c+3+a[c+1],c+=3):(g=c+3+a[c+1]+a[c+2],c+=3+a[c+1]);break;case 12:v[v.length-1]!==h?(k.push(g),f.push(c),g=c+2+a[c+1],c+=2):c+=2+a[c+1];break;case 13:k.push(g);f.push(c+3+a[c+1]+a[c+2]);n.length>r?(g=c+3+a[c+1],c+=3):(g=c+3+a[c+1]+a[c+2],c+=3+a[c+1]);break;case 14:k.push(g);f.push(c+4+a[c+2]+a[c+3]);n.substr(r,m[a[c+1]].length)===m[a[c+
1]]?(g=c+4+a[c+2],c+=4):(g=c+4+a[c+2]+a[c+3],c+=4+a[c+2]);break;case 15:k.push(g);f.push(c+4+a[c+2]+a[c+3]);n.substr(r,m[a[c+1]].length).toLowerCase()===m[a[c+1]]?(g=c+4+a[c+2],c+=4):(g=c+4+a[c+2]+a[c+3],c+=4+a[c+2]);break;case 16:k.push(g);f.push(c+4+a[c+2]+a[c+3]);m[a[c+1]].test(n.charAt(r))?(g=c+4+a[c+2],c+=4):(g=c+4+a[c+2]+a[c+3],c+=4+a[c+2]);break;case 17:v.push(n.substr(r,a[c+1]));r+=a[c+1];c+=2;break;case 18:v.push(m[a[c+1]]);r+=m[a[c+1]].length;c+=2;break;case 19:v.push(h);0===x&&d(m[a[c+
1]]);c+=2;break;case 20:c+=2;break;case 21:c++;break;case 22:q=a.slice(c+4,c+4+a[c+3]);for(A=0;A<a[c+3];A++)q[A]=v[v.length-1-q[A]];v.splice(v.length-a[c+2],a[c+2],m[a[c+1]].apply(null,q));c+=4+a[c+3];break;case 23:v.push(e(a[c+1]));c+=2;break;case 24:x++;c++;break;case 25:x--;c++;break;default:throw Error("Invalid opcode: "+a[c]+".");}if(0<k.length)g=k.pop(),c=f.pop();else break}return v[0]}var f=1<arguments.length?arguments[1]:{},h={},c={DOCUMENT:0},g=0,m=[{type:"other",description:"[1] QueryUnit"},
{type:"other",description:"[2] Query"},h,function(a,b,c){return{token:"query",kind:"query",prologue:a,units:[b],inlineData:c}},{type:"other",description:"[3] Prologue"},null,[],function(a,b){return{token:"prologue",base:a,prefixes:b}},{type:"other",description:"[4] BaseDecl"},"BASE",{type:"literal",value:"BASE",description:'"BASE"'},"base",{type:"literal",value:"base",description:'"base"'},function(a){var b={token:"base"};b.value=a;return b},{type:"other",description:"[5] PrefixDecl"},"PREFIX",{type:"literal",
value:"PREFIX",description:'"PREFIX"'},"prefix",{type:"literal",value:"prefix",description:'"prefix"'},function(a,b){var c={token:"prefix"};c.prefix=a;c.local=b;return c},{type:"other",description:"[6] SelectQuery"},function(a,b,c,e){for(var d={named:[],implicit:[]},f=0;f<b.length;f++){var g=b[f];"default"===g.kind?d.implicit.push(g.graph):d.named.push(g.graph)}0===d.named.length&&0===d.implicit.length&&d.implicit.push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});
b={kind:"select",token:"executableunit"};b.dataset=d;b.projection=a.vars;b.modifier=a.modifier;b.pattern=c;null!=e&&null!=e.limit&&(b.limit=e.limit);null!=e&&null!=e.offset&&(b.offset=e.offset);null!=e&&null!=e.order&&""!=e.order&&(b.order=e.order);null!=e&&null!=e.group&&(b.group=e.group);return b},{type:"other",description:"[7] SubSelect"},function(a,b,c){var e={kind:"select",token:"subselect"};e.projection=a.vars;e.modifier=a.modifier;e.pattern=b;null!=c&&null!=c.limit&&(e.limit=c.limit);null!=
c&&null!=c.offset&&(e.offset=c.offset);null!=c&&null!=c.order&&""!=c.order&&(e.order=c.order);null!=c&&null!=c.group&&(e.group=c.group);return e},{type:"other",description:"[8] SelectClause"},"SELECT",{type:"literal",value:"SELECT",description:'"SELECT"'},"select",{type:"literal",value:"select",description:'"select"'},"DISTINCT",{type:"literal",value:"DISTINCT",description:'"DISTINCT"'},"distinct",{type:"literal",value:"distinct",description:'"distinct"'},"REDUCED",{type:"literal",value:"REDUCED",
description:'"REDUCED"'},"reduced",{type:"literal",value:"reduced",description:'"reduced"'},"(",{type:"literal",value:"(",description:'"("'},"AS",{type:"literal",value:"AS",description:'"AS"'},"as",{type:"literal",value:"as",description:'"as"'},")",{type:"literal",value:")",description:'")"'},"*",{type:"literal",value:"*",description:'"*"'},function(a,b){var c=[];if(3===b.length&&"*"===b[1])return{vars:[{token:"variable",kind:"*"}],modifier:z(a)};for(var e=0;e<b.length;e++){var d=b[e];3===d.length?
c.push({token:"variable",kind:"var",value:d[1]}):c.push({token:"variable",kind:"aliased",expression:d[3],alias:d[7]})}return{vars:c,modifier:z(a)}},{type:"other",description:"[9] ConstructQuery"},"CONSTRUCT",{type:"literal",value:"CONSTRUCT",description:'"CONSTRUCT"'},"construct",{type:"literal",value:"construct",description:'"construct"'},function(a,b,c,e){for(var d={named:[],implicit:[]},f=0;f<b.length;f++){var g=b[f];"default"===g.kind?d.implicit.push(g.graph):d.named.push(g.graph)}0===d.named.length&&
0===d.implicit.length&&d.implicit.push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});b={kind:"construct",token:"executableunit"};b.dataset=d;b.template=a;b.pattern=c;null!=e&&null!=e.limit&&(b.limit=e.limit);null!=e&&null!=e.offset&&(b.offset=e.offset);null!=e&&null!=e.order&&""!=e.order&&(b.order=e.order);return b},"WHERE",{type:"literal",value:"WHERE",description:'"WHERE"'},"where",{type:"literal",value:"where",description:'"where"'},
"{",{type:"literal",value:"{",description:'"{"'},"}",{type:"literal",value:"}",description:'"}"'},function(a,b,c){for(var e={named:[],implicit:[]},d=0;d<a.length;d++){var f=a[d];"default"===f.kind?e.implicit.push(f.graph):e.named.push(f.graph)}0===e.named.length&&0===e.implicit.length&&e.implicit.push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});a={kind:"construct",token:"executableunit"};a.dataset=e;a.template=b;a.pattern={token:"basicgraphpattern",
triplesContext:b.triplesContext};null!=c&&null!=c.limit&&(a.limit=c.limit);null!=c&&null!=c.offset&&(a.offset=c.offset);null!=c&&null!=c.order&&""!=c.order&&(a.order=c.order);return a},{type:"other",description:"[10] DescribeQuery"},"DESCRIBE",{type:"literal",value:"DESCRIBE",description:'"DESCRIBE"'},{type:"other",description:"[11] AskQuery"},"ASK",{type:"literal",value:"ASK",description:'"ASK"'},"ask",{type:"literal",value:"ask",description:'"ask"'},function(a,b){for(var c={named:[],implicit:[]},
e=0;e<a.length;e++){var d=a[e];"implicit"===d.kind?c.implicit.push(d.graph):c.named.push(d.graph)}0===c.named.length&&0===c.implicit.length&&c.implicit.push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});e={kind:"ask",token:"executableunit"};e.dataset=c;e.pattern=b;return e},{type:"other",description:"[12] DatasetClause"},"FROM",{type:"literal",value:"FROM",description:'"FROM"'},"from",{type:"literal",value:"from",description:'"from"'},function(a){return a},
{type:"other",description:"[13] DefaultGraphClause"},function(a){return{graph:a,kind:"default",token:"graphClause"}},{type:"other",description:"[14] NamedGraphClause"},"NAMED",{type:"literal",value:"NAMED",description:'"NAMED"'},"named",{type:"literal",value:"named",description:'"named"'},function(a){return{graph:a,kind:"named",token:"graphCluase"}},{type:"other",description:"[15] SourceSelector"},{type:"other",description:"[16] WhereClause"},function(a){return a},{type:"other",description:"[17] SolutionModifier"},
function(a,b,c){var e={};null!=c&&(null!=c.limit&&(e.limit=c.limit),null!=c.offset&&(e.offset=c.offset));null!=a&&(e.group=a);e.order=b;return e},{type:"other",description:"[18] GroupClause"},"GROUP",{type:"literal",value:"GROUP",description:'"GROUP"'},"group",{type:"literal",value:"group",description:'"group"'},"BY",{type:"literal",value:"BY",description:'"BY"'},"by",{type:"literal",value:"by",description:'"by"'},function(a){return a},{type:"other",description:"[19] GroupCondition"},function(a){return a},
function(a){return a},function(a,b){return 0!=b.length?{token:"aliased_expression",expression:a,alias:b[2]}:a},function(a){return a},{type:"other",description:"[20] HavingClause"},"HAVING",{type:"literal",value:"HAVING",description:'"HAVING"'},{type:"other",description:"[21] HavingCondition"},{type:"other",description:"[22] OrderClause"},"ORDER",{type:"literal",value:"ORDER",description:'"ORDER"'},"order",{type:"literal",value:"order",description:'"order"'},function(a){return a},{type:"other",description:"[23] OrderCondition"},
"ASC",{type:"literal",value:"ASC",description:'"ASC"'},"asc",{type:"literal",value:"asc",description:'"asc"'},"DESC",{type:"literal",value:"DESC",description:'"DESC"'},"desc",{type:"literal",value:"desc",description:'"desc"'},function(a,b){return{direction:a.toUpperCase(),expression:b}},function(a){"var"===a.token&&(a={token:"expression",expressionType:"atomic",primaryexpression:"var",value:a});return{direction:"ASC",expression:a}},{type:"other",description:"[24] LimitOffsetClauses"},function(a){for(var b=
{},c=0;c<a.length;c++){var e=a[c];null!=e&&null!=e.limit?b.limit=e.limit:null!=e&&null!=e.offset&&(b.offset=e.offset)}return b},{type:"other",description:"[25] LimitClause"},"LIMIT",{type:"literal",value:"LIMIT",description:'"LIMIT"'},"limit",{type:"literal",value:"limit",description:'"limit"'},function(a){return{limit:parseInt(a.value)}},{type:"other",description:"[26] OffsetClause"},"OFFSET",{type:"literal",value:"OFFSET",description:'"OFFSET"'},"offset",{type:"literal",value:"offset",description:'"offset"'},
function(a){return{offset:parseInt(a.value)}},{type:"other",description:"[27] BindingsClause"},"BINDINGS",{type:"literal",value:"BINDINGS",description:'"BINDINGS"'},{type:"other",description:"[28] BindingValue"},"UNDEF",{type:"literal",value:"UNDEF",description:'"UNDEF"'},{type:"other",description:"[28]  \tValuesClause\t  ::=  \t( 'VALUES' DataBlock )?"},"VALUES",{type:"literal",value:"VALUES",description:'"VALUES"'},"values",{type:"literal",value:"values",description:'"values"'},function(a){return null!=
a?a[1]:null},{type:"other",description:"[29] UpdateUnit"},{type:"other",description:"[30] Update"},";",{type:"literal",value:";",description:'";"'},function(a,b,c){var e={token:"query",kind:"update"};e.prologue=a;a=[b];null!=c&&null!=c.length&&null!=c[3]&&null!=c[3].units&&(a=a.concat(c[3].units));e.units=a;return e},{type:"other",description:"[31] Update1"},{type:"other",description:"[32] Load"},"LOAD",{type:"literal",value:"LOAD",description:'"LOAD"'},"load",{type:"literal",value:"load",description:'"load"'},
"INTO",{type:"literal",value:"INTO",description:'"INTO"'},"into",{type:"literal",value:"into",description:'"into"'},function(a,b){var c={kind:"load",token:"executableunit"};c.sourceGraph=a;null!=b&&(c.destinyGraph=b[2]);return c},{type:"other",description:"[33] Clear"},"CLEAR",{type:"literal",value:"CLEAR",description:'"CLEAR"'},"clear",{type:"literal",value:"clear",description:'"clear"'},"SILENT",{type:"literal",value:"SILENT",description:'"SILENT"'},"silent",{type:"literal",value:"silent",description:'"silent"'},
function(a){var b={kind:"clear",token:"executableunit"};b.destinyGraph=a;return b},{type:"other",description:"[34] Drop"},"DROP",{type:"literal",value:"DROP",description:'"DROP"'},"drop",{type:"literal",value:"drop",description:'"drop"'},function(a){var b={kind:"drop",token:"executableunit"};b.destinyGraph=a;return b},{type:"other",description:"[35] Create"},"CREATE",{type:"literal",value:"CREATE",description:'"CREATE"'},"create",{type:"literal",value:"create",description:'"create"'},function(a){var b=
{kind:"create",token:"executableunit"};b.destinyGraph=a;return b},{type:"other",description:"[36] InsertData"},"INSERT",{type:"literal",value:"INSERT",description:'"INSERT"'},"insert",{type:"literal",value:"insert",description:'"insert"'},"DATA",{type:"literal",value:"DATA",description:'"DATA"'},"data",{type:"literal",value:"data",description:'"data"'},function(a){var b={kind:"insertdata",token:"executableunit"};b.quads=a;return b},{type:"other",description:"[37] DeleteData"},"DELETE",{type:"literal",
value:"DELETE",description:'"DELETE"'},"delete",{type:"literal",value:"delete",description:'"delete"'},function(a){var b={kind:"deletedata",token:"executableunit"};b.quads=a;return b},{type:"other",description:"[38] DeleteWhere"},function(a){var b={kind:"modify"};b.pattern=a;b.with=null;b.using=null;var c=[];a=a.patterns[0];a=null==a.triplesContext&&null!=a.patterns?a.patterns[0].triplesContext:a.triplesContext;for(var e=0;e<a.length;e++){var d={},f=a[e];d.subject=f.subject;d.predicate=f.predicate;
d.object=f.object;d.graph=f.graph;c.push(d)}b.delete=c;return b},{type:"other",description:"[39] Modify"},"WITH",{type:"literal",value:"WITH",description:'"WITH"'},"with",{type:"literal",value:"with",description:'"with"'},function(a,b,c,e){var d={kind:"modify"};d.with=""!=a&&null!=a?a[2]:null;3!==b.length||""!==b[2]&&null!=b[2]?3===b.length&&null!=b[0].length&&null!=b[1].length&&null!=b[2].length?(d.delete=b[0],d.insert=b[2]):(d.insert=b,d.delete=null):(d.delete=b[0],d.insert=null);""!=c&&(d.using=
c);d.pattern=e;return d},{type:"other",description:"[40] DeleteClause"},function(a){return a},{type:"other",description:"[41] InsertClause"},{type:"other",description:"[42] UsingClause"},"USING",{type:"literal",value:"USING",description:'"USING"'},"using",{type:"literal",value:"using",description:'"using"'},function(a){return null!=a.length?{kind:"named",uri:a[2]}:{kind:"default",uri:a}},{type:"other",description:"[43] GraphRef"},"GRAPH",{type:"literal",value:"GRAPH",description:'"GRAPH"'},"graph",
{type:"literal",value:"graph",description:'"graph"'},function(a){return a},{type:"other",description:"[44] GraphRefAll"},"DEFAULT",{type:"literal",value:"DEFAULT",description:'"DEFAULT"'},"default",{type:"literal",value:"default",description:'"default"'},function(){return"default"},function(){return"named"},"ALL",{type:"literal",value:"ALL",description:'"ALL"'},"all",{type:"literal",value:"all",description:'"all"'},function(){return"all"},{type:"other",description:"[45] QuadPattern"},function(a){return a.quadsContext},
{type:"other",description:"[46] QuadData"},{type:"other",description:"[47] Quads"},".",{type:"literal",value:".",description:'"."'},function(a,b){var c=[];if(null!=a&&null!=a.triplesContext)for(var e=0;e<a.triplesContext.length;e++){var d=a.triplesContext[e];d.graph=null;c.push(d)}if(b&&0<b.length&&0<b[0].length&&(c=c.concat(b[0][0].quadsContext),null!=b[0][2]&&null!=b[0][2].triplesContext))for(e=0;e<b[0][2].triplesContext.length;e++)d=b[0][2].triplesContext[e],d.graph=null,c.push(d);return{token:"quads",
quadsContext:c}},{type:"other",description:"[48] QuadsNotTriples"},function(a,b){var c=[];if(null!=b)for(var e=0;e<b.triplesContext.length;e++){var d=b.triplesContext[e];d.graph=a;c.push(d)}return{token:"quadsnottriples",quadsContext:c}},{type:"other",description:"[49] TriplesTemplate"},function(a,b){var c=a.triplesContext;null!=b&&"object"===typeof b&&null!=b.length&&null!=b[3]&&null!=b[3].triplesContext&&(c=c.concat(b[3].triplesContext));return{token:"triplestemplate",triplesContext:c}},{type:"other",
description:"[50] GroupGraphPattern"},function(a){return a},{type:"other",description:"[51] GroupGraphPatternSub"},function(a,b){var c=[];null!=a&&a!=[]&&c.push(a);for(var e=0;e<b.length;e++)for(var d=0;d<b[e].length;d++)null!=b[e][d]&&null!=b[e][d].token&&c.push(b[e][d]);for(var f=[],g=[],l=[],e=0;e<c.length;e++)if("triplespattern"!=c[e].token&&"filter"!=c[e].token){if(0!=g.length||0!=l.length){for(var h=[],d=0;d<g.length;d++)h=h.concat(g[d].triplesContext);0<h.length&&f.push({token:"basicgraphpattern",
triplesContext:h});g=[]}f.push(c[e])}else"triplespattern"===c[e].token?g.push(c[e]):l.push(c[e]);if(0!=g.length||0!=l.length){h=[];for(d=0;d<g.length;d++)h=h.concat(g[d].triplesContext);0<h.length&&f.push({token:"basicgraphpattern",triplesContext:h})}return{token:"groupgraphpattern",patterns:f,filters:l}},{type:"other",description:"[54] TriplesBlock"},function(a,b){var c=a.triplesContext;null!=b&&"object"===typeof b&&null!=b&&null!=b.length&&null!=b[2]&&null!=b[2].triplesContext&&(c=c.concat(b[2].triplesContext));
return{token:"triplespattern",triplesContext:c}},{type:"other",description:"[53] GraphPatternNotTriples"},{type:"other",description:"[54] OptionalGraphPattern"},"OPTIONAL",{type:"literal",value:"OPTIONAL",description:'"OPTIONAL"'},"optional",{type:"literal",value:"optional",description:'"optional"'},function(a){return{token:"optionalgraphpattern",value:a}},{type:"other",description:"[55] GraphGraphPattern"},function(a,b){for(var c=0;c<b.patterns.length;c++)for(var e=b.patterns[c],d=0;d<e.triplesContext.length;d++)e.triplesContext[d].graph=
a;b.token="groupgraphpattern";return b},{type:"other",description:"[56] ServiceGraphPattern"},"SERVICE",{type:"literal",value:"SERVICE",description:'"SERVICE"'},function(a,b){return{token:"servicegraphpattern",status:"todo",value:[a,b]}},{type:"other",description:"[57] MinusGraphPattern"},"MINUS",{type:"literal",value:"MINUS",description:'"MINUS"'},"minus",{type:"literal",value:"minus",description:'"minus"'},function(a){return{token:"minusgraphpattern",status:"todo",value:a}},{type:"other",description:"[58] GroupOrUnionGraphPattern"},
"UNION",{type:"literal",value:"UNION",description:'"UNION"'},"union",{type:"literal",value:"union",description:'"union"'},function(a,b){if(0===b.length)return a;for(var c={token:"graphunionpattern",value:[a]},e=0;e<b.length;e++)e==b.length-1?c.value.push(b[e][3]):(c.value.push(b[e][3]),c={token:"graphunionpattern",value:[c]});return c},{type:"other",description:"[59] Filter"},"FILTER",{type:"literal",value:"FILTER",description:'"FILTER"'},"filter",{type:"literal",value:"filter",description:'"filter"'},
function(a){return{token:"filter",value:a}},{type:"other",description:"[60] Bind"},"BIND",{type:"literal",value:"BIND",description:'"BIND"'},"bind",{type:"literal",value:"bind",description:'"bind"'},function(a,b){return{token:"bind",expresision:a,as:b}},{type:"other",description:"[60] Constraint"},{type:"other",description:"[61] InlineData"},function(a){return a},{type:"other",description:"[62] DataBlock"},{type:"other",description:"[63] InlineDataOneVar"},function(a,b){return{token:"inlineData",
values:[{"var":a,value:b}]}},{type:"other",description:"[64] InlineDataFull"},function(a,b){return{token:"inlineData",values:[],todo:!0}},{type:"other",description:"[65] DataBlockValue"},{type:"other",description:"[61] FunctionCall"},function(a,b){var c={token:"expression",expressionType:"irireforfunction"};c.iriref=a;c.args=b.value;return c},{type:"other",description:"[62] ArgList"},function(){return{token:"args",value:[]}},",",{type:"literal",value:",",description:'","'},function(a,b,c){for(var e=
[],d=0;d<c.length;d++)e.push(c[d][1]);c={token:"args"};c.value=[b].concat(e);null!=a&&"DISTINCT"===a.toUpperCase()?c.distinct=!0:c.distinct=!1;return c},{type:"other",description:"[63] ExpressionList"},function(a,b){for(var c=[],e=0;e<b.length;e++)c.push(b[e][1]);e={token:"args"};e.value=[a].concat(c);return e},{type:"other",description:"[64] ConstructTemplate"},function(a){return a},{type:"other",description:"[65] ConstructTriples"},function(a,b){var c=a.triplesContext;null!=b&&"object"===typeof b&&
null!=b.length&&null!=b[3]&&null!=b[3].triplesContext&&(c=c.concat(b[3].triplesContext));return{token:"triplestemplate",triplesContext:c}},{type:"other",description:"[66] TriplesSameSubject"},function(a,b){var c=b.triplesContext;if(b.pairs)for(var e=0;e<b.pairs.length;e++){var d=b.pairs[e],f=null;null!=d[1].length&&(d[1]=d[1][0]);a.token&&"triplesnodecollection"===a.token?(f={subject:a.chainSubject[0],predicate:d[0],object:d[1]},c.push(f),c=c.concat(a.triplesContext)):(f={subject:a,predicate:d[0],
object:d[1]},c.push(f))}e={token:"triplessamesubject"};e.triplesContext=c;e.chainSubject=a;return e},function(a,b){var c=a.triplesContext,e=a.chainSubject;if(b.pairs)for(var d=0;d<b.pairs.length;d++){var f=b.pairs[d];null!=f[1].length&&(f[1]=f[1][0]);if("triplesnodecollection"===a.token)for(var g=0;g<e.length;g++){var l=e[g];if(null!=l.triplesContext){var h={subject:l.chainSubject,predicate:f[0],object:f[1]};c.concat(l.triplesContext)}else h={subject:e[g],predicate:f[0],object:f[1]},c.push(h)}else h=
{subject:e,predicate:f[0],object:f[1]},c.push(h)}d={token:"triplessamesubject"};d.triplesContext=c;d.chainSubject=e;return d},{type:"other",description:"[83] PropertyListPathNotEmpty"},function(a,b,c){for(var e={token:"propertylist"},d=[],f=[],g=0;g<b.length;g++)null!=b[g].triplesContext?(d=d.concat(b[g].triplesContext),"triplesnodecollection"===b[g].token&&null!=b[g].chainSubject.length?f.push([a,b[g].chainSubject[0]]):f.push([a,b[g].chainSubject])):f.push([a,b[g]]);for(g=0;g<c.length;g++){b=c[g][3];
a=b[0];b=b[2]||[];for(var l=0;l<b.length;l++)null!=b[l].triplesContext?(d=d.concat(b[l].triplesContext),f.push([a,b[l].chainSubject])):f.push([a,b[l]])}e.pairs=f;e.triplesContext=d;return e},{type:"other",description:"[67] PropertyListNotEmpty"},function(a,b,c){for(var e={token:"propertylist"},d=[],f=[],g=0;g<b.length;g++)null!=b[g].triplesContext?(d=d.concat(b[g].triplesContext),"triplesnodecollection"===b[g].token&&null!=b[g].chainSubject.length?f.push([a,b[g].chainSubject[0]]):f.push([a,b[g].chainSubject])):
f.push([a,b[g]]);for(g=0;g<c.length;g++){b=c[g][3];a=b[0];b=b[2]||[];for(var l=0;l<b.length;l++)null!=b[l].triplesContext?(d=d.concat(b[l].triplesContext),f.push([a,b[l].chainSubject])):f.push([a,b[l]])}e.pairs=f;e.triplesContext=d;return e},{type:"other",description:"[68] PropertyList"},{type:"other",description:"[86] ObjectListPath"},function(a,b){var c=[];c.push(a);for(var e=0;e<b.length;e++)for(var d=0;d<b[e].length;d++)"object"==typeof b[e][d]&&null!=b[e][d].token&&c.push(b[e][d]);return c},
{type:"other",description:"[69] ObjectList"},function(a,b){var c=[];c.push(a);for(var e=0;e<b.length;e++)for(var d=0;d<b[e].length;d++)"object"==typeof b[e][d]&&null!=b[e][d].token&&c.push(b[e][d]);return c},{type:"other",description:"[87] ObjectPath"},{type:"other",description:"[70] Object"},{type:"other",description:"[71] Verb"},"a",{type:"literal",value:"a",description:'"a"'},function(){return{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}},{type:"other",
description:"[72] TriplesSameSubjectPath"},function(a,b){var c=b.triplesContext;if(b.pairs)for(var e=0;e<b.pairs.length;e++){var d=b.pairs[e],f=null;null!=d[1].length&&(d[1]=d[1][0]);a.token&&"triplesnodecollection"===a.token?(f={subject:a.chainSubject[0],predicate:d[0],object:d[1]},"path"===f.predicate.token&&"element"===f.predicate.kind&&(f.predicate=f.predicate.value),c.push(f),c=c.concat(a.triplesContext)):(f={subject:a,predicate:d[0],object:d[1]},"path"===f.predicate.token&&"element"===f.predicate.kind&&
(f.predicate=f.predicate.value),c.push(f))}e={token:"triplessamesubject"};e.triplesContext=c;e.chainSubject=a;return e},function(a,b){var c=a.triplesContext,e=a.chainSubject;if(null!=b&&null!=b.pairs)for(var d=0;d<b.pairs.length;d++){var f=b.pairs[d];null!=f[1].length&&(f[1]=f[1][0]);if("triplesnodecollection"===a.token)for(var g=0;g<e.length;g++){var l=e[g];if(null!=l.triplesContext){var h={subject:l.chainSubject,predicate:f[0],object:f[1]};c.concat(l.triplesContext)}else h={subject:e[g],predicate:f[0],
object:f[1]},c.push(h)}else h={subject:e,predicate:f[0],object:f[1]},c.push(h)}d={token:"triplessamesubject"};d.triplesContext=c;d.chainSubject=e;return d},{type:"other",description:"[73] PropertyListNotEmptyPath"},function(a,b,c){token={token:"propertylist"};for(var e=[],d=[],f=0;f<b.length;f++)null!=b[f].triplesContext?(e=e.concat(b[f].triplesContext),"triplesnodecollection"===b[f].token&&null!=b[f].chainSubject.length?d.push([a,b[f].chainSubject[0]]):d.push([a,b[f].chainSubject])):d.push([a,b[f]]);
for(f=0;f<c.length;f++){b=c[f][3];a=b[0];b=b[1]||[];for(var g=0;g<b.length;g++)null!=b[g].triplesContext?(e=e.concat(b[g].triplesContext),d.push([a,b[g].chainSubject])):d.push([a,b[g]])}token.pairs=d;token.triplesContext=e;return token},{type:"other",description:"[74] PropertyListPath"},{type:"other",description:"[75]"},function(a){return a},{type:"other",description:"[76] VerbSimple"},{type:"other",description:"[77] Path"},{type:"other",description:"[78] PathAlternative"},"|",{type:"literal",value:"|",
description:'"|"'},function(a,b){if(null==b||0===b.length)return a;for(var c=[],e=0;e<b.length;e++)c.push(b[1]);e={token:"path",kind:"alternative"};e.value=c;return e},{type:"other",description:"[79] PathSequence"},"/",{type:"literal",value:"/",description:'"/"'},function(a,b){if(null==b||0===b.length)return a;for(var c=[a],e=0;e<b.length;e++)c.push(b[e][1]);e={token:"path",kind:"sequence"};e.value=c;return e},{type:"other",description:"[88] PathElt"},function(a,b){if(a.token&&"path"!=a.token&&""==
b)return a;if(a.token&&a.token!=c&&""!=b){var c={token:"path",kind:"element"};c.value=a;c.modifier=b;return c}a.modifier=b;return a},{type:"other",description:"[81] PathEltOrInverse"},"^",{type:"literal",value:"^",description:'"^"'},function(a){var b={token:"path",kind:"inversePath"};b.value=a;return b},{type:"other",description:"[82] PathMod"},"?",{type:"literal",value:"?",description:'"?"'},"+",{type:"literal",value:"+",description:'"+"'},{type:"other",description:"[83] PathPrimary"},"!",{type:"literal",
value:"!",description:'"!"'},{type:"other",description:"[85] PathOneInPropertySet"},{type:"other",description:"[86] Integer"},{type:"other",description:"[100] TriplesNodePath"},function(a){for(var b=[],c=[],e=null,d=0;d<a.length;d++)K++,e=null,null==a[d].chainSubject&&null==a[d].triplesContext?e=a[d]:(e=a[d].chainSubject,b=b.concat(a[d].triplesContext)),e={subject:{token:"blank",value:"_:"+K},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"},
object:e},0==d&&c.push(e.subject),b.push(e),e=d===a.length-1?{subject:{token:"blank",value:"_:"+K},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}:{subject:{token:"blank",value:"_:"+K},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"blank",value:"_:"+(K+1)}},b.push(e);return{token:"triplesnodecollection",
triplesContext:b,chainSubject:c}},{type:"other",description:"[87] TriplesNode"},function(a){for(var b=[],c=[],e=null,d=0;d<a.length;d++)K++,e=null,null==a[d].chainSubject&&null==a[d].triplesContext?e=a[d]:(e=a[d].chainSubject,b=b.concat(e.triplesContext)),e={subject:{token:"blank",value:"_:"+K},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"},object:e},0==d&&c.push(e.subject),b.push(e),e=d===a.length-1?{subject:{token:"blank",value:"_:"+K},predicate:{token:"uri",
prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}:{subject:{token:"blank",value:"_:"+K},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"blank",value:"_:"+(K+1)}},b.push(e);return{token:"triplesnodecollection",triplesContext:b,chainSubject:c}},{type:"other",description:"[101] BlankNodePropertyListPath"},
"[",{type:"literal",value:"[",description:'"["'},"]",{type:"literal",value:"]",description:'"]"'},function(a){K++;for(var b={token:"blank",value:"_:"+K},c=[],e=0;e<a.pairs.length;e++){var d=a.pairs[e],f={};f.subject=b;f.predicate=d[0];null!=d[1].length&&(d[1]=d[1][0]);f.object=d[1];c.push(f)}return{token:"triplesnode",kind:"blanknodepropertylist",triplesContext:a.triplesContext.concat(c),chainSubject:b}},{type:"other",description:"[88] BlankNodePropertyList"},function(a){K++;for(var b={token:"blank",
value:"_:"+K},c=[],e=0;e<a.pairs.length;e++){var d=a.pairs[e],f={};f.subject=b;f.predicate=d[0];null!=d[1].length&&(d[1]=d[1][0]);f.object=d[1];c.push(f)}return{token:"triplesnode",kind:"blanknodepropertylist",triplesContext:a.triplesContext.concat(c),chainSubject:b}},{type:"other",description:"[103] CollectionPath"},function(a){return a},{type:"other",description:"[89] Collection"},{type:"other",description:"[105] GraphNodePath"},function(a){return a[1]},{type:"other",description:"[90] GraphNode"},
{type:"other",description:"[91] VarOrTerm"},{type:"other",description:"[92] VarOrIRIref"},{type:"other",description:"[93] Var"},function(a){var b={token:"var"};b.value=a;return b},{type:"other",description:"[94] GraphTerm"},{type:"other",description:"[95] Expression"},{type:"other",description:"[96] ConditionalOrExpression"},"||",{type:"literal",value:"||",description:'"||"'},function(a,b){if(0===b.length)return a;for(var c={token:"expression",expressionType:"conditionalor"},e=[a],d=0;d<b.length;d++)e.push(b[d][3]);
c.operands=e;return c},{type:"other",description:"[97] ConditionalAndExpression"},"&&",{type:"literal",value:"&&",description:'"&&"'},function(a,b){if(0===b.length)return a;for(var c={token:"expression",expressionType:"conditionaland"},e=[a],d=0;d<b.length;d++)e.push(b[d][3]);c.operands=e;return c},{type:"other",description:"[98] ValueLogical"},{type:"other",description:"[99] RelationalExpression"},"=",{type:"literal",value:"=",description:'"="'},"!=",{type:"literal",value:"!=",description:'"!="'},
"<",{type:"literal",value:"<",description:'"<"'},">",{type:"literal",value:">",description:'">"'},"<=",{type:"literal",value:"<=",description:'"<="'},">=",{type:"literal",value:">=",description:'">="'},"I",{type:"literal",value:"I",description:'"I"'},"i",{type:"literal",value:"i",description:'"i"'},"N",{type:"literal",value:"N",description:'"N"'},"n",{type:"literal",value:"n",description:'"n"'},"O",{type:"literal",value:"O",description:'"O"'},"o",{type:"literal",value:"o",description:'"o"'},"T",{type:"literal",
value:"T",description:'"T"'},"t",{type:"literal",value:"t",description:'"t"'},function(a,b){if(0===b.length)return a;if("i"===b[0][1]||"I"===b[0][1]||"n"===b[0][1]||"N"===b[0][1]){var c={};if("i"===b[0][1]||"I"===b[0][1]){var e="=";c.expressionType="conditionalor"}else e="!=",c.expressionType="conditionaland";for(var d=[],f=0;f<b[0].length;f++)if("args"===b[0][f].token){d=b[0][f].value;break}c.token="expression";c.operands=[];for(f=0;f<d.length;f++){var g={token:"expression",expressionType:"relationalexpression"};
g.operator=e;g.op1=a;g.op2=d[f];c.operands.push(g)}}else c={expressionType:"relationalexpression"},c.operator=b[0][1],c.op1=a,c.op2=b[0][3],c.token="expression";return c},{type:"other",description:"[100] NumericExpression"},{type:"other",description:"[101] AdditiveExpression"},"-",{type:"literal",value:"-",description:'"-"'},function(a,b){if(0===b.length)return a;var c={token:"expression",expressionType:"additiveexpression"};c.summand=a;c.summands=[];for(var e=0;e<b.length;e++){var d=b[e],f={};if(4==
d.length&&"string"===typeof d[1])f.operator=d[1],f.expression=d[3];else{var d={},g=f[0],l=f[1][1],h=f[1][3],l=null;0>g.value?(f.operator="-",g.value=-g.value):f.operator="+";d.token="expression";d.expressionType="multiplicativeexpression";d.operator=g;d.factors=[{operator:l,expression:h}];f.expression=d}c.summands.push(f)}return c},{type:"other",description:"[102] MultiplicativeExpression"},function(a,b){if(0===b.length)return a;var c={token:"expression",expressionType:"multiplicativeexpression"};
c.factor=a;c.factors=[];for(var e=0;e<b.length;e++){var d=b[e],f={};f.operator=d[1];f.expression=d[3];c.factors.push(f)}return c},{type:"other",description:"[103] UnaryExpression"},function(a){var b={token:"expression",expressionType:"unaryexpression",unaryexpression:"!"};b.expression=a;return b},function(a){var b={token:"expression",expressionType:"unaryexpression",unaryexpression:"+"};b.expression=a;return b},function(a){var b={token:"expression",expressionType:"unaryexpression",unaryexpression:"-"};
b.expression=a;return b},{type:"other",description:"[104] PrimaryExpression"},function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"rdfliteral"};b.value=a;return b},function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"numericliteral"};b.value=a;return b},function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"booleanliteral"};b.value=a;return b},function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"var"};
b.value=a;return b},{type:"other",description:"[105] BrackettedExpression"},function(a){return a},{type:"other",description:"[106] BuiltInCall"},"STR",{type:"literal",value:"STR",description:'"STR"'},"str",{type:"literal",value:"str",description:'"str"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"str"};b.args=[a];return b},"LANG",{type:"literal",value:"LANG",description:'"LANG"'},"lang",{type:"literal",value:"lang",description:'"lang"'},function(a){var b={token:"expression",
expressionType:"builtincall",builtincall:"lang"};b.args=[a];return b},"LANGMATCHES",{type:"literal",value:"LANGMATCHES",description:'"LANGMATCHES"'},"langmatches",{type:"literal",value:"langmatches",description:'"langmatches"'},function(a,b){var c={token:"expression",expressionType:"builtincall",builtincall:"langmatches"};c.args=[a,b];return c},"DATATYPE",{type:"literal",value:"DATATYPE",description:'"DATATYPE"'},"datatype",{type:"literal",value:"datatype",description:'"datatype"'},function(a){var b=
{token:"expression",expressionType:"builtincall",builtincall:"datatype"};b.args=[a];return b},"BOUND",{type:"literal",value:"BOUND",description:'"BOUND"'},"bound",{type:"literal",value:"bound",description:'"bound"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"bound"};b.args=[a];return b},"IRI",{type:"literal",value:"IRI",description:'"IRI"'},"iri",{type:"literal",value:"iri",description:'"iri"'},function(a){var b={token:"expression",expressionType:"builtincall",
builtincall:"iri"};b.args=[a];return b},"URI",{type:"literal",value:"URI",description:'"URI"'},"uri",{type:"literal",value:"uri",description:'"uri"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"uri"};b.args=[a];return b},"BNODE",{type:"literal",value:"BNODE",description:'"BNODE"'},"bnode",{type:"literal",value:"bnode",description:'"bnode"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"bnode"};b.args=5===a.length?[a[2]]:null;return b},
"COALESCE",{type:"literal",value:"COALESCE",description:'"COALESCE"'},"coalesce",{type:"literal",value:"coalesce",description:'"coalesce"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"coalesce"};b.args=a;return b},"IF",{type:"literal",value:"IF",description:'"IF"'},"if",{type:"literal",value:"if",description:'"if"'},function(a,b,c){var e={token:"expression",expressionType:"builtincall",builtincall:"if"};e.args=[a,b,c];return e},"ISLITERAL",{type:"literal",value:"ISLITERAL",
description:'"ISLITERAL"'},"isliteral",{type:"literal",value:"isliteral",description:'"isliteral"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"isliteral"};b.args=[a];return b},"ISBLANK",{type:"literal",value:"ISBLANK",description:'"ISBLANK"'},"isblank",{type:"literal",value:"isblank",description:'"isblank"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"isblank"};b.args=[a];return b},"SAMETERM",{type:"literal",value:"SAMETERM",
description:'"SAMETERM"'},"sameterm",{type:"literal",value:"sameterm",description:'"sameterm"'},function(a,b){var c={token:"expression",expressionType:"builtincall",builtincall:"sameterm"};c.args=[a,b];return c},"ISURI",{type:"literal",value:"ISURI",description:'"ISURI"'},"isuri",{type:"literal",value:"isuri",description:'"isuri"'},"ISIRI",{type:"literal",value:"ISIRI",description:'"ISIRI"'},"isiri",{type:"literal",value:"isiri",description:'"isiri"'},function(a){var b={token:"expression",expressionType:"builtincall",
builtincall:"isuri"};b.args=[a];return b},"custom:",{type:"literal",value:"custom:",description:'"custom:"'},"CUSTOM:",{type:"literal",value:"CUSTOM:",description:'"CUSTOM:"'},/^[a-zA-Z0-9_]/,{type:"class",value:"[a-zA-Z0-9_]",description:"[a-zA-Z0-9_]"},function(a,b,c){var e={token:"expression",expressionType:"custom"};e.name=a.join("");a=[];for(var d=0;d<b.length;d++)a.push(b[d][1]);a.push(c);e.args=a;return e},{type:"other",description:"[107] RegexExpression"},"REGEX",{type:"literal",value:"REGEX",
description:'"REGEX"'},"regex",{type:"literal",value:"regex",description:'"regex"'},function(a,b,c){var e={token:"expression",expressionType:"regex"};e.text=a;e.pattern=b;e.flags=c[2];return e},{type:"other",description:"[108] ExistsFunc"},"EXISTS",{type:"literal",value:"EXISTS",description:'"EXISTS"'},"exists",{type:"literal",value:"exists",description:'"exists"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"exists"};b.args=[a];return b},{type:"other",description:"[109] NotExistsFunc"},
"NOT",{type:"literal",value:"NOT",description:'"NOT"'},"not",{type:"literal",value:"not",description:'"not"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"notexists"};b.args=[a];return b},{type:"other",description:"[110] Aggregate"},"COUNT",{type:"literal",value:"COUNT",description:'"COUNT"'},"count",{type:"literal",value:"count",description:'"count"'},function(a,b){var c={token:"expression",expressionType:"aggregate",aggregateType:"count"};c.distinct=""!=a?"DISTINCT":
a;c.expression=b;return c},"GROUP_CONCAT",{type:"literal",value:"GROUP_CONCAT",description:'"GROUP_CONCAT"'},"group_concat",{type:"literal",value:"group_concat",description:'"group_concat"'},"SEPARATOR",{type:"literal",value:"SEPARATOR",description:'"SEPARATOR"'},function(a,b,c){var e={token:"expression",expressionType:"aggregate",aggregateType:"group_concat"};e.distinct=""!=a?"DISTINCT":a;e.expression=b;e.separator=c;return e},"SUM",{type:"literal",value:"SUM",description:'"SUM"'},"sum",{type:"literal",
value:"sum",description:'"sum"'},function(a,b){var c={token:"expression",expressionType:"aggregate",aggregateType:"sum"};c.distinct=""!=a?"DISTINCT":a;c.expression=b;return c},"MIN",{type:"literal",value:"MIN",description:'"MIN"'},"min",{type:"literal",value:"min",description:'"min"'},function(a,b){var c={token:"expression",expressionType:"aggregate",aggregateType:"min"};c.distinct=""!=a?"DISTINCT":a;c.expression=b;return c},"MAX",{type:"literal",value:"MAX",description:'"MAX"'},"max",{type:"literal",
value:"max",description:'"max"'},function(a,b){var c={token:"expression",expressionType:"aggregate",aggregateType:"max"};c.distinct=""!=a?"DISTINCT":a;c.expression=b;return c},"AVG",{type:"literal",value:"AVG",description:'"AVG"'},"avg",{type:"literal",value:"avg",description:'"avg"'},function(a,b){var c={token:"expression",expressionType:"aggregate",aggregateType:"avg"};c.distinct=""!=a?"DISTINCT":a;c.expression=b;return c},{type:"other",description:"[117] IRIrefOrFunction"},function(a,b){var c=
{token:"expression",expressionType:"irireforfunction"};c.iriref=a;c.args=b.value;return c},{type:"other",description:"[112] RDFLiteral"},"^^",{type:"literal",value:"^^",description:'"^^"'},function(a,b){return"string"===typeof b&&0<b.length?{token:"literal",value:a.value,lang:b.slice(1),type:null}:null!=b&&"object"===typeof b?(b.shift(),{token:"literal",value:a.value,lang:null,type:b[0]}):{token:"literal",value:a.value,lang:null,type:null}},{type:"other",description:"[113] NumericLiteral"},{type:"other",
description:"[114] NumericLiteralUnsigned"},{type:"other",description:"[115] NumericLiteralPositive"},{type:"other",description:"[116] NumericLiteralNegative"},{type:"other",description:"[117] BooleanLiteral"},"TRUE",{type:"literal",value:"TRUE",description:'"TRUE"'},"true",{type:"literal",value:"true",description:'"true"'},function(){return{token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#boolean",value:!0}},"FALSE",{type:"literal",value:"FALSE",description:'"FALSE"'},"false",{type:"literal",
value:"false",description:'"false"'},function(){return{token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#boolean",value:!1}},{type:"other",description:"[118] String"},function(a){return{token:"string",value:a}},{type:"other",description:"[119] IRIref"},function(a){return{token:"uri",prefix:null,suffix:null,value:a}},function(a){return a},{type:"other",description:"[120] PrefixedName"},function(a){return{token:"uri",prefix:a[0],suffix:a[1],value:null}},function(a){return{token:"uri",
prefix:a,suffix:"",value:null}},{type:"other",description:"[121] BlankNode"},function(a){return{token:"blank",value:a}},function(){K++;return{token:"blank",value:"_:"+K}},{type:"other",description:"[122] IRI_REF"},/^[^<>"{}|\^`\\]/,{type:"class",value:'[^<>"{}|\\^`\\\\]',description:'[^<>"{}|\\^`\\\\]'},function(a){return a.join("")},{type:"other",description:"[123] PNAME_NS"},":",{type:"literal",value:":",description:'":"'},{type:"other",description:"[124] PNAME_LN"},function(a,b){return[a,b]},{type:"other",
description:"[125] BLANK_NODE_LABEL"},"_:",{type:"literal",value:"_:",description:'"_:"'},function(a){return a},{type:"other",description:"[126] VAR1"},function(a){return a},{type:"other",description:"[127] VAR2"},"$",{type:"literal",value:"$",description:'"$"'},{type:"other",description:"[128] LANGTAG"},"@",{type:"literal",value:"@",description:'"@"'},/^[a-zA-Z]/,{type:"class",value:"[a-zA-Z]",description:"[a-zA-Z]"},/^[a-zA-Z0-9]/,{type:"class",value:"[a-zA-Z0-9]",description:"[a-zA-Z0-9]"},function(a,
b){return 0===b.length?("@"+a.join("")).toLowerCase():("@"+a.join("")+"-"+b[0][1].join("")).toLowerCase()},{type:"other",description:"[129] INTEGER"},/^[0-9]/,{type:"class",value:"[0-9]",description:"[0-9]"},function(a){var b={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#integer"};b.value=H(a);return b},{type:"other",description:"[130] DECIMAL"},function(a,b,c){var e={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#decimal"};e.value=H([a,b,c]);return e},function(a,
b){var c={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#decimal"};c.value=H([a,b]);return c},{type:"other",description:"[131] DOUBLE"},function(a,b,c,e){var d={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};d.value=H([a,b,c,e]);return d},function(a,b,c){var e={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};e.value=H([a,b,c]);return e},function(a,b){var c={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};
c.value=H([a,b]);return c},{type:"other",description:"[132] INTEGER_POSITIVE"},function(a){a.value="+"+a.value;return a},{type:"other",description:"[133] DECIMAL_POSITIVE"},function(a){a.value="+"+a.value;return a},{type:"other",description:"[134] DOUBLE_POSITIVE"},{type:"other",description:"[135] INTEGER_NEGATIVE"},function(a){a.value="-"+a.value;return a},{type:"other",description:"[136] DECIMAL_NEGATIVE"},{type:"other",description:"[137] DOUBLE_NEGATIVE"},{type:"other",description:"[138] EXPONENT"},
/^[eE]/,{type:"class",value:"[eE]",description:"[eE]"},/^[+\-]/,{type:"class",value:"[+\\-]",description:"[+\\-]"},function(a,b,c){return H([a,b,c])},{type:"other",description:"[139] STRING_LITERAL1"},"'",{type:"literal",value:"'",description:'"\'"'},/^[^'\\\n\r]/,{type:"class",value:"[^'\\\\\\n\\r]",description:"[^'\\\\\\n\\r]"},function(a){return H(a)},{type:"other",description:"[140] STRING_LITERAL2"},'"',{type:"literal",value:'"',description:'"\\""'},/^[^"\\\n\r]/,{type:"class",value:'[^"\\\\\\n\\r]',
description:'[^"\\\\\\n\\r]'},{type:"other",description:"[141] STRING_LITERAL_LONG1"},"'''",{type:"literal",value:"'''",description:"\"'''\""},/^[^'\\]/,{type:"class",value:"[^'\\\\]",description:"[^'\\\\]"},{type:"other",description:"[142] STRING_LITERAL_LONG2"},'"""',{type:"literal",value:'"""',description:'"\\"\\"\\""'},/^[^"\\]/,{type:"class",value:'[^"\\\\]',description:'[^"\\\\]'},{type:"other",description:"[143] ECHAR"},"\\",{type:"literal",value:"\\",description:'"\\\\"'},/^[tbnrf"']/,{type:"class",
value:"[tbnrf\"']",description:"[tbnrf\"']"},{type:"other",description:"[144] NIL"},function(){return{token:"triplesnodecollection",triplesContext:[],chainSubject:[{token:"uri",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}]}},{type:"other",description:"[145] WS"},/^[ ]/,{type:"class",value:"[ ]",description:"[ ]"},/^[\t]/,{type:"class",value:"[\\t]",description:"[\\t]"},/^[\r]/,{type:"class",value:"[\\r]",description:"[\\r]"},/^[\n]/,{type:"class",value:"[\\n]",description:"[\\n]"},{type:"other",
description:" COMMENT"},"#",{type:"literal",value:"#",description:'"#"'},/^[^\n\r]/,{type:"class",value:"[^\\n\\r]",description:"[^\\n\\r]"},{type:"other",description:"[146] ANON"},{type:"other",description:"[147] PN_CHARS_BASE"},/^[A-Z]/,{type:"class",value:"[A-Z]",description:"[A-Z]"},/^[a-z]/,{type:"class",value:"[a-z]",description:"[a-z]"},/^[\xC0-\xD6]/,{type:"class",value:"[\\xC0-\\xD6]",description:"[\\xC0-\\xD6]"},/^[\xD8-\xF6]/,{type:"class",value:"[\\xD8-\\xF6]",description:"[\\xD8-\\xF6]"},
/^[\xF8-\u02FF]/,{type:"class",value:"[\\xF8-\\u02FF]",description:"[\\xF8-\\u02FF]"},/^[\u0370-\u037D]/,{type:"class",value:"[\\u0370-\\u037D]",description:"[\\u0370-\\u037D]"},/^[\u037F-\u1FFF]/,{type:"class",value:"[\\u037F-\\u1FFF]",description:"[\\u037F-\\u1FFF]"},/^[\u200C-\u200D]/,{type:"class",value:"[\\u200C-\\u200D]",description:"[\\u200C-\\u200D]"},/^[\u2070-\u218F]/,{type:"class",value:"[\\u2070-\\u218F]",description:"[\\u2070-\\u218F]"},/^[\u2C00-\u2FEF]/,{type:"class",value:"[\\u2C00-\\u2FEF]",
description:"[\\u2C00-\\u2FEF]"},/^[\u3001-\uD7FF]/,{type:"class",value:"[\\u3001-\\uD7FF]",description:"[\\u3001-\\uD7FF]"},/^[\uF900-\uFDCF]/,{type:"class",value:"[\\uF900-\\uFDCF]",description:"[\\uF900-\\uFDCF]"},/^[\uFDF0-\uFFFD]/,{type:"class",value:"[\\uFDF0-\\uFFFD]",description:"[\\uFDF0-\\uFFFD]"},/^[\u1000-\uEFFF]/,{type:"class",value:"[\\u1000-\\uEFFF]",description:"[\\u1000-\\uEFFF]"},{type:"other",description:"[148] PN_CHARS_U"},"_",{type:"literal",value:"_",description:'"_"'},{type:"other",
description:"[149] VARNAME"},/^[\xB7]/,{type:"class",value:"[\\xB7]",description:"[\\xB7]"},/^[\u0300-\u036F]/,{type:"class",value:"[\\u0300-\\u036F]",description:"[\\u0300-\\u036F]"},/^[\u203F-\u2040]/,{type:"class",value:"[\\u203F-\\u2040]",description:"[\\u203F-\\u2040]"},function(a,b){return a+b.join("")},{type:"other",description:"[150] PN_CHARS"},{type:"other",description:"[151] PN_PREFIX"},function(a,b){if("."==b[b.length-1])throw Error("Wrong PN_PREFIX, cannot finish with '.'");return a+b.join("")},
{type:"other",description:"[152] PN_LOCAL"},function(a,b){return a+(b||[]).join("")},{type:"other",description:"[170] PLX"},{type:"other",description:"[171] PERCENT"},"%",{type:"literal",value:"%",description:'"%"'},function(a){return a.join("")},{type:"other",description:"[172] HEX"},/^[A-F]/,{type:"class",value:"[A-F]",description:"[A-F]"},/^[a-f]/,{type:"class",value:"[a-f]",description:"[a-f]"},{type:"other",description:"[173] PN_LOCAL_ESC"},"~",{type:"literal",value:"~",description:'"~"'},"&",
{type:"literal",value:"&",description:'"&"'},function(a){return"\\"+a}],l=[a("7!"),a('7"*# "7?'),a('87#9*" 3 '),a('8!7$+P$7\'*/ "7**) "7+*# "7,+4%7>+*%4#6###"! %$## "$"# ""# "9*" 3!'),a('8!7%*# " %+M$ &7\u00c0,#&7\u00c0"+;% &7&,#&7&"+)%4#6\'#"" %$## "$"# ""# "9*" 3$'),a('8! &7\u00c0,#&7\u00c0"+`$.)""2)3**) ".+""2+3,+D% &7\u00c0,#&7\u00c0"+2%7\u00a9+(%4$6-$! %$$# "$## "$"# ""# "9*" 3('),a('8! &7\u00c0,#&7\u00c0"+}$./""2/30*) ".1""2132+a% &7\u00c0,#&7\u00c0"+O%7\u00aa+E% &7\u00c0,#&7\u00c0"+3%7\u00a9+)%4&63&"" %$&# "$%# "$$# "$## "$"# ""# "9*" 3.'),
a('8!7)+\u00a3$ &7\u00c0,#&7\u00c0"+\u0091% &7-,#&7-"+\u007f% &7\u00c0,#&7\u00c0"+m%71+c% &7\u00c0,#&7\u00c0"+Q%72+G% &7\u00c0,#&7\u00c0"+5%7<++%4)65)$(&$"%$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 34'),a('8!7)+>$71+4%72+*%4#67##"! %$## "$"# ""# "9*" 36'),a('8! &7\u00c0,#&7\u00c0"+\u02db$.9""293:*) ".;""2;3<+\u02bf% &7\u00c0,#&7\u00c0"+\u02ad%.=""2=3>*) ".?""2?3@*5 ".A""2A3B*) ".C""2C3D*# " %+\u0273% &7\u00c0,#&7\u00c0"+\u0261% &! &7\u00c0,#&7\u00c0"+?$7\u008c+5% &7\u00c0,#&7\u00c0"+#%\'#%$## "$"# ""# "*\u00e0 "! &7\u00c0,#&7\u00c0"+\u00cd$.E""2E3F+\u00bd% &7\u00c0,#&7\u00c0"+\u00ab%7\u008e+\u00a1% &7\u00c0,#&7\u00c0"+\u008f%.G""2G3H*) ".I""2I3J+s% &7\u00c0,#&7\u00c0"+a%7\u008c+W% &7\u00c0,#&7\u00c0"+E%.K""2K3L+5% &7\u00c0,#&7\u00c0"+#%\'+%$+# "$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "+\u0118$,\u0115&! &7\u00c0,#&7\u00c0"+?$7\u008c+5% &7\u00c0,#&7\u00c0"+#%\'#%$## "$"# ""# "*\u00e0 "! &7\u00c0,#&7\u00c0"+\u00cd$.E""2E3F+\u00bd% &7\u00c0,#&7\u00c0"+\u00ab%7\u008e+\u00a1% &7\u00c0,#&7\u00c0"+\u008f%.G""2G3H*) ".I""2I3J+s% &7\u00c0,#&7\u00c0"+a%7\u008c+W% &7\u00c0,#&7\u00c0"+E%.K""2K3L+5% &7\u00c0,#&7\u00c0"+#%\'+%$+# "$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# """" "*X "! &7\u00c0,#&7\u00c0"+E$.M""2M3N+5% &7\u00c0,#&7\u00c0"+#%\'#%$## "$"# ""# "+)%4&6O&"" %$&# "$%# "$$# "$## "$"# ""# "9*" 38'),
a('8! &7\u00c0,#&7\u00c0"+\u00bf$.Q""2Q3R*) ".S""2S3T+\u00a3% &7\u00c0,#&7\u00c0"+\u0091%7h+\u0087% &7\u00c0,#&7\u00c0"+u% &7-,#&7-"+c% &7\u00c0,#&7\u00c0"+Q%71+G% &7\u00c0,#&7\u00c0"+5%72++%4*6U*$&$" %$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u012d "! &7\u00c0,#&7\u00c0"+\u011a$.Q""2Q3R*) ".S""2S3T+\u00fe% &7\u00c0,#&7\u00c0"+\u00ec% &7-,#&7-"+\u00da% &7\u00c0,#&7\u00c0"+\u00c8%.V""2V3W*) ".X""2X3Y+\u00ac% &7\u00c0,#&7\u00c0"+\u009a%.Z""2Z3[+\u008a% &7\u00c0,#&7\u00c0"+x%7S*# " %+h% &7\u00c0,#&7\u00c0"+V%.\\""2\\3]+F% &7\u00c0,#&7\u00c0"+4%72+*%4.6^.#*$ %$.# "$-# "$,# "$+# "$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3P'),
a('8!.`""2`3a+t$ &7\u008b+&$,#&7\u008b""" "*) ".M""2M3N+O% &7-,#&7-"+=%71*# " %+-%72+#%\'%%$%# "$$# "$## "$"# ""# "9*" 3_'),a('8! &7\u00c0,#&7\u00c0"+\u0085$.c""2c3d*) ".e""2e3f+i% &7\u00c0,#&7\u00c0"+W% &7-,#&7-"+E% &7\u00c0,#&7\u00c0"+3%71+)%4&6g&"" %$&# "$%# "$$# "$## "$"# ""# "9*" 3b'),a('8!.i""2i3j*) ".k""2k3l+\\$ &7\u00c0,#&7\u00c0"+J%7.*# "7/+:% &7\u00c0,#&7\u00c0"+(%4$6m$!!%$$# "$## "$"# ""# "9*" 3h'),a('8! &7\u00c0,#&7\u00c0"+2$70+(%4"6o"! %$"# ""# "9*" 3n'),a('8!.q""2q3r*) ".s""2s3t+D$ &7\u00c0,#&7\u00c0"+2%70+(%4#6u#! %$## "$"# ""# "9*" 3p'),
a('87\u00a69*" 3v'),a('8!.V""2V3W*) ".X""2X3Y*# " %+V$ &7\u00c0,#&7\u00c0"+D%7T+:% &7\u00c0,#&7\u00c0"+(%4$6x$!!%$$# "$## "$"# ""# "9*" 3w'),a('8!73*# " %+Z$75*# " %+J%77*# " %+:%79*# " %+*%4$6z$##! %$$# "$## "$"# ""# "9*" 3y'),a('8!.|""2|3}*) ".~""2~3\u007f+\u0081$ &7\u00c0,#&7\u00c0"+o%.\u0080""2\u00803\u0081*) ".\u0082""2\u00823\u0083+S% &7\u00c0,#&7\u00c0"+A% &74+&$,#&74""" "+(%4%6\u0084%! %$%# "$$# "$## "$"# ""# "9*" 3{'),a('8! &7\u00c0,#&7\u00c0"+D$7\u0099+:% &7\u00c0,#&7\u00c0"+(%4#6\u0086#!!%$## "$"# ""# "*\u016b "! &7\u00c0,#&7\u00c0"+D$7e+:% &7\u00c0,#&7\u00c0"+(%4#6\u0087#!!%$## "$"# ""# "*\u0131 "! &7\u00c0,#&7\u00c0"+\u00e4$.E""2E3F+\u00d4% &7\u00c0,#&7\u00c0"+\u00c2%7\u008e+\u00b8% &7\u00c0,#&7\u00c0"+\u00a6%!.G""2G3H*) ".I""2I3J+?$ &7\u00c0,#&7\u00c0"+-%7\u008c+#%\'#%$## "$"# ""# "*# " %+]% &7\u00c0,#&7\u00c0"+K%.K""2K3L+;% &7\u00c0,#&7\u00c0"+)%4)6\u0088)"%#%$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "*W "! &7\u00c0,#&7\u00c0"+D$7\u008c+:% &7\u00c0,#&7\u00c0"+(%4#6\u0089#!!%$## "$"# ""# "9*" 3\u0085'),
a('8!.\u008b""2\u008b3\u008c+<$ &76+&$,#&76""" "+#%\'"%$"# ""# "9*" 3\u008a'),a('87_9*" 3\u008d'),a('8!.\u008f""2\u008f3\u0090*) ".\u0091""2\u00913\u0092+\u0093$ &7\u00c0,#&7\u00c0"+\u0081%.\u0080""2\u00803\u0081*) ".\u0082""2\u00823\u0083+e% &7\u00c0,#&7\u00c0"+S% &78+&$,#&78""" "+:% &7\u00c0,#&7\u00c0"+(%4&6\u0093&!!%$&# "$%# "$$# "$## "$"# ""# "9*" 3\u008e'),a('8!.\u0095""2\u00953\u0096*A ".\u0097""2\u00973\u0098*5 ".\u0099""2\u00993\u009a*) ".\u009b""2\u009b3\u009c+W$ &7\u00c0,#&7\u00c0"+E%7\u0098+;% &7\u00c0,#&7\u00c0"+)%4$6\u009d$"#!%$$# "$## "$"# ""# "*K "!7_*# "7\u008c+:$ &7\u00c0,#&7\u00c0"+(%4"6\u009e"!!%$"# ""# "9*" 3\u0094'),
a('8!!7:+3$7;*# " %+#%\'"%$"# ""# "*> "!7;+3$7:*# " %+#%\'"%$"# ""# "+\' 4!6\u00a0!! %9*" 3\u009f'),a('8!.\u00a2""2\u00a23\u00a3*) ".\u00a4""2\u00a43\u00a5+V$ &7\u00c0,#&7\u00c0"+D%7\u00b0+:% &7\u00c0,#&7\u00c0"+(%4$6\u00a6$!!%$$# "$## "$"# ""# "9*" 3\u00a1'),a('8!.\u00a8""2\u00a83\u00a9*) ".\u00aa""2\u00aa3\u00ab+V$ &7\u00c0,#&7\u00c0"+D%7\u00b0+:% &7\u00c0,#&7\u00c0"+(%4$6\u00ac$!!%$$# "$## "$"# ""# "9*" 3\u00a7'),a('8!.\u00ae""2\u00ae3\u00af+\u00e7$ &7\u008c,#&7\u008c"+\u00d5%.Z""2Z3[+\u00c5% &!.E""2E3F+L$ &7=+&$,#&7=""" "+3%.K""2K3L+#%\'#%$## "$"# ""# "*# "7\u00bf,c&!.E""2E3F+L$ &7=+&$,#&7=""" "+3%.K""2K3L+#%\'#%$## "$"# ""# "*# "7\u00bf"+3%.\\""2\\3]+#%\'%%$%# "$$# "$## "$"# ""# "*# " %9*" 3\u00ad'),
a('87\u00a6*; "7\u009f*5 "7\u00a0*/ "7\u00a4*) ".\u00b1""2\u00b13\u00b29*" 3\u00b0'),a('8!!.\u00b4""2\u00b43\u00b5*) ".\u00b6""2\u00b63\u00b7+-$7a+#%\'"%$"# ""# "*# " %+\' 4!6\u00b8!! %9*" 3\u00b3'),a('87@9*" 3\u00b9'),a('8!7$+\u009b$ &7\u00c0,#&7\u00c0"+\u0089%7A+\u007f%! &7\u00c0,#&7\u00c0"+U$.\u00bb""2\u00bb3\u00bc+E% &7\u00c0,#&7\u00c0"+3%7@*# " %+#%\'$%$$# "$## "$"# ""# "*# " %+*%4$6\u00bd$##! %$$# "$## "$"# ""# "9*" 3\u00ba'),a('87B*G "7C*A "7D*; "7E*5 "7F*/ "7G*) "7H*# "7I9*" 3\u00be'),a('8!.\u00c0""2\u00c03\u00c1*) ".\u00c2""2\u00c23\u00c3+\u00a0$ &7\u00c0,#&7\u00c0"+\u008e%7\u00a6+\u0084% &7\u00c0,#&7\u00c0"+r%!.\u00c4""2\u00c43\u00c5*) ".\u00c6""2\u00c63\u00c7+?$ &7\u00c0,#&7\u00c0"+-%7M+#%\'#%$## "$"# ""# "*# " %+)%4%6\u00c8%"" %$%# "$$# "$## "$"# ""# "9*" 3\u00bf'),
a('8!.\u00ca""2\u00ca3\u00cb*) ".\u00cc""2\u00cc3\u00cd+x$ &7\u00c0,#&7\u00c0"+f%.\u00ce""2\u00ce3\u00cf*) ".\u00d0""2\u00d03\u00d1*# " %+D% &7\u00c0,#&7\u00c0"+2%7N+(%4%6\u00d2%! %$%# "$$# "$## "$"# ""# "9*" 3\u00c9'),a('8!.\u00d4""2\u00d43\u00d5*) ".\u00d6""2\u00d63\u00d7+x$ &7\u00c0,#&7\u00c0"+f%.\u00ce""2\u00ce3\u00cf*) ".\u00d0""2\u00d03\u00d1*# " %+D% &7\u00c0,#&7\u00c0"+2%7N+(%4%6\u00d8%! %$%# "$$# "$## "$"# ""# "9*" 3\u00d3'),a('8!.\u00da""2\u00da3\u00db*) ".\u00dc""2\u00dc3\u00dd+x$ &7\u00c0,#&7\u00c0"+f%.\u00ce""2\u00ce3\u00cf*) ".\u00d0""2\u00d03\u00d1*# " %+D% &7\u00c0,#&7\u00c0"+2%7M+(%4%6\u00de%! %$%# "$$# "$## "$"# ""# "9*" 3\u00d9'),
a('8!.\u00e0""2\u00e03\u00e1*) ".\u00e2""2\u00e23\u00e3+r$ &7\u00c0,#&7\u00c0"+`%.\u00e4""2\u00e43\u00e5*) ".\u00e6""2\u00e63\u00e7+D% &7\u00c0,#&7\u00c0"+2%7P+(%4%6\u00e8%! %$%# "$$# "$## "$"# ""# "9*" 3\u00df'),a('8!.\u00ea""2\u00ea3\u00eb*) ".\u00ec""2\u00ec3\u00ed+`$ &7\u00c0,#&7\u00c0"+N%.\u00e4""2\u00e43\u00e5*) ".\u00e6""2\u00e63\u00e7+2%7P+(%4$6\u00ee$! %$$# "$## "$"# ""# "9*" 3\u00e9'),a('8!.\u00ea""2\u00ea3\u00eb*) ".\u00ec""2\u00ec3\u00ed+r$ &7\u00c0,#&7\u00c0"+`%.V""2V3W*) ".X""2X3Y+D% &7\u00c0,#&7\u00c0"+2%7T+(%4%6\u00f0%! %$%# "$$# "$## "$"# ""# "9*" 3\u00ef'),
a('8!!.\u00f2""2\u00f23\u00f3*) ".\u00f4""2\u00f43\u00f5+?$ &7\u00c0,#&7\u00c0"+-%7\u00a6+#%\'#%$## "$"# ""# "*# " %+\u00fa$ &7\u00c0,#&7\u00c0"+\u00e8%!7J+E$ &7\u00c0,#&7\u00c0"+3%7K*# " %+#%\'#%$## "$"# ""# "*# "7K+\u00ab% &7\u00c0,#&7\u00c0"+\u0099% &7L,#&7L"+\u0087% &7\u00c0,#&7\u00c0"+u%.V""2V3W*) ".X""2X3Y+Y% &7\u00c0,#&7\u00c0"+G%7T+=% &7\u00c0,#&7\u00c0"++%4*6\u00f6*$)\'%!%$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3\u00f1'),a('8!.\u00ea""2\u00ea3\u00eb*) ".\u00ec""2\u00ec3\u00ed+2$7O+(%4"6\u00f8"! %$"# ""# "9*" 3\u00f7'),
a('8!.\u00e0""2\u00e03\u00e1*) ".\u00e2""2\u00e23\u00e3+2$7O+(%4"6\u00f8"! %$"# ""# "9*" 3\u00f9'),a('8! &7\u00c0,#&7\u00c0"+\u009f$.\u00fb""2\u00fb3\u00fc*) ".\u00fd""2\u00fd3\u00fe+\u0083% &7\u00c0,#&7\u00c0"+q%7\u00a6*\\ "!.q""2q3r*) ".s""2s3t+?$ &7\u00c0,#&7\u00c0"+-%7\u00a6+#%\'#%$## "$"# ""# "+(%4$6\u00ff$! %$$# "$## "$"# ""# "9*" 3\u00fa'),a('8!.\u0101""2\u01013\u0102*) ".\u0103""2\u01033\u0104+D$ &7\u00c0,#&7\u00c0"+2%7\u00a6+(%4#6\u0105#! %$## "$"# ""# "9*" 3\u0100'),a('8!7M+\' 4!6x!! %*\u0086 "!.\u0107""2\u01073\u0108*) ".\u0109""2\u01093\u010a+& 4!6\u010b! %*c "!.q""2q3r*) ".s""2s3t+& 4!6\u010c! %*@ "!.\u010d""2\u010d3\u010e*) ".\u010f""2\u010f3\u0110+& 4!6\u0111! %9*" 3\u0106'),
a('8! &7\u00c0,#&7\u00c0"+\u0088$.Z""2Z3[+x% &7\u00c0,#&7\u00c0"+f%7Q+\\% &7\u00c0,#&7\u00c0"+J%.\\""2\\3]+:% &7\u00c0,#&7\u00c0"+(%4\'6\u0113\'!#%$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3\u0112'),a('8! &7\u00c0,#&7\u00c0"+\u0088$.Z""2Z3[+x% &7\u00c0,#&7\u00c0"+f%7Q+\\% &7\u00c0,#&7\u00c0"+J%.\\""2\\3]+:% &7\u00c0,#&7\u00c0"+(%4\'6\u0113\'!#%$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3\u0114'),a('8!7S*# " %+\u009d$ &!7R+I$.\u0116""2\u01163\u0117*# " %+3%7S*# " %+#%\'#%$## "$"# ""# ",T&!7R+I$.\u0116""2\u01163\u0117*# " %+3%7S*# " %+#%\'#%$## "$"# ""# ""+)%4"6\u0118""! %$"# ""# "9*" 3\u0115'),
a('8! &7\u00c0,#&7\u00c0"+\u00d9$.\u0101""2\u01013\u0102*) ".\u0103""2\u01033\u0104+\u00bd% &7\u00c0,#&7\u00c0"+\u00ab%7\u008b+\u00a1% &7\u00c0,#&7\u00c0"+\u008f%.Z""2Z3[+\u007f% &7\u00c0,#&7\u00c0"+m%7S*# " %+]% &7\u00c0,#&7\u00c0"+K%.\\""2\\3]+;% &7\u00c0,#&7\u00c0"+)%4+6\u011a+"\'#%$+# "$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3\u0119'),a('8!7j+~$! &7\u00c0,#&7\u00c0"+U$.\u0116""2\u01163\u0117+E% &7\u00c0,#&7\u00c0"+3%7S*# " %+#%\'$%$$# "$## "$"# ""# "*# " %+)%4"6\u011c""! %$"# ""# "9*" 3\u011b'),
a('8!.Z""2Z3[+f$ &7\u00c0,#&7\u00c0"+T%7(+J% &7\u00c0,#&7\u00c0"+8%.\\""2\\3]+(%4%6\u011e%!"%$%# "$$# "$## "$"# ""# "*w "!.Z""2Z3[+f$ &7\u00c0,#&7\u00c0"+T%7U+J% &7\u00c0,#&7\u00c0"+8%.\\""2\\3]+(%4%6\u011e%!"%$%# "$$# "$## "$"# ""# "9*" 3\u011d'),a('8!7V*# " %+\u00f7$ &7\u00c0,#&7\u00c0"+\u00e5% &!7W+m$ &7\u00c0,#&7\u00c0"+[%.\u0116""2\u01163\u0117*# " %+E% &7\u00c0,#&7\u00c0"+3%7V*# " %+#%\'%%$%# "$$# "$## "$"# ""# ",x&!7W+m$ &7\u00c0,#&7\u00c0"+[%.\u0116""2\u01163\u0117*# " %+E% &7\u00c0,#&7\u00c0"+3%7V*# " %+#%\'%%$%# "$$# "$## "$"# ""# ""+)%4#6\u0120#"" %$## "$"# ""# "9*" 3\u011f'),
a('8!7s+l$! &7\u00c0,#&7\u00c0"+C$.\u0116""2\u01163\u0117+3%7V*# " %+#%\'#%$## "$"# ""# "*# " %+)%4"6\u0122""! %$"# ""# "9*" 3\u0121'),a('87\\*G "7X*A "7[*; "7Y*5 "7Z*/ "7]*) "7^*# "7`9*" 3\u0123'),a('8! &7\u00c0,#&7\u00c0"+`$.\u0125""2\u01253\u0126*) ".\u0127""2\u01273\u0128+D% &7\u00c0,#&7\u00c0"+2%7T+(%4$6\u0129$! %$$# "$## "$"# ""# "9*" 3\u0124'),a('8! &7\u00c0,#&7\u00c0"+}$.\u0101""2\u01013\u0102*) ".\u0103""2\u01033\u0104+a% &7\u00c0,#&7\u00c0"+O%7\u008b+E% &7\u00c0,#&7\u00c0"+3%7T+)%4&6\u012b&"" %$&# "$%# "$$# "$## "$"# ""# "9*" 3\u012a'),
a('8!.\u012d""2\u012d3\u012e+=$7\u008b+3%7T+)%4#6\u012f#"! %$## "$"# ""# "9*" 3\u012c'),a('8!.\u0131""2\u01313\u0132*) ".\u0133""2\u01333\u0134+D$ &7\u00c0,#&7\u00c0"+2%7T+(%4#6\u0135#! %$## "$"# ""# "9*" 3\u0130'),a('8!7T+\u00d1$ &! &7\u00c0,#&7\u00c0"+[$.\u0137""2\u01373\u0138*) ".\u0139""2\u01393\u013a+?% &7\u00c0,#&7\u00c0"+-%7T+#%\'$%$$# "$## "$"# ""# ",n&! &7\u00c0,#&7\u00c0"+[$.\u0137""2\u01373\u0138*) ".\u0139""2\u01393\u013a+?% &7\u00c0,#&7\u00c0"+-%7T+#%\'$%$$# "$## "$"# ""# ""+)%4"6\u013b""! %$"# ""# "9*" 3\u0136'),
a('8! &7\u00c0,#&7\u00c0"+`$.\u013d""2\u013d3\u013e*) ".\u013f""2\u013f3\u0140+D% &7\u00c0,#&7\u00c0"+2%7_+(%4$6\u0141$! %$$# "$## "$"# ""# "9*" 3\u013c'),a('8! &7\u00c0,#&7\u00c0"+\u00ef$.\u0143""2\u01433\u0144*) ".\u0145""2\u01453\u0146+\u00d3% &7\u00c0,#&7\u00c0"+\u00c1%.E""2E3F+\u00b1% &7\u00c0,#&7\u00c0"+\u009f%7\u008e+\u0095% &7\u00c0,#&7\u00c0"+\u0083%.I""2I3J*) ".G""2G3H+g% &7\u00c0,#&7\u00c0"+U%7\u008c+K% &7\u00c0,#&7\u00c0"+9%.K""2K3L+)%4,6\u0147,"&"%$,# "$+# "$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3\u0142'),
a('87\u0098*) "7\u0099*# "7e9*" 3\u0148'),a('8! &7\u00c0,#&7\u00c0"+`$.\u00b4""2\u00b43\u00b5*) ".\u00b6""2\u00b63\u00b7+D% &7\u00c0,#&7\u00c0"+2%7a+(%4$6\u014a$! %$$# "$## "$"# ""# "9*" 3\u0149'),a('87b*# "7c9*" 3\u014b'),a('8! &7\u00c0,#&7\u00c0"+\u0089$7\u008c+\u007f% &7\u00c0,#&7\u00c0"+m%.Z""2Z3[+]% &7\u00c0,#&7\u00c0"+K% &7d,#&7d"+9%.\\""2\\3]+)%4\'6\u014d\'"%!%$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3\u014c'),a('8! &7\u00c0,#&7\u00c0"+\u01fa$7\u00bf*z "!.E""2E3F+i$ &7\u00c0,#&7\u00c0"+W% &7\u008c,#&7\u008c"+E% &7\u00c0,#&7\u00c0"+3%.K""2K3L+#%\'%%$%# "$$# "$## "$"# ""# "+\u0193% &7\u00c0,#&7\u00c0"+\u0181%.Z""2Z3[+\u0171% &7\u00c0,#&7\u00c0"+\u015f% &! &7\u00c0,#&7\u00c0"+\u008b$.E""2E3F+{% &7\u00c0,#&7\u00c0"+i% &7d,#&7d"+W% &7\u00c0,#&7\u00c0"+E%.K""2K3L+5% &7\u00c0,#&7\u00c0"+#%\'\'%$\'# "$&# "$%# "$$# "$## "$"# ""# "*# "7\u00bf,\u00a4&! &7\u00c0,#&7\u00c0"+\u008b$.E""2E3F+{% &7\u00c0,#&7\u00c0"+i% &7d,#&7d"+W% &7\u00c0,#&7\u00c0"+E%.K""2K3L+5% &7\u00c0,#&7\u00c0"+#%\'\'%$\'# "$&# "$%# "$$# "$## "$"# ""# "*# "7\u00bf"+K% &7\u00c0,#&7\u00c0"+9%.\\""2\\3]+)%4(6\u014f("&"%$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3\u014e'),
a('8! &7\u00c0,#&7\u00c0"+b$7\u00a9*; "7\u009f*5 "7\u00a0*/ "7\u00a4*) ".\u00b1""2\u00b13\u00b2+:% &7\u00c0,#&7\u00c0"+(%4#6\u0089#!!%$## "$"# ""# "9*" 3\u0150'),a('8!7\u00a6+3$7f+)%4"6\u0152""! %$"# ""# "9*" 3\u0151'),a('8!7\u00bf+& 4!6\u0154! %*\u00bf "!.E""2E3F+\u00ae$.=""2=3>*) ".?""2?3@*# " %+\u008c%7\u008e+\u0082% &!.\u0155""2\u01553\u0156+-$7\u008e+#%\'"%$"# ""# ",>&!.\u0155""2\u01553\u0156+-$7\u008e+#%\'"%$"# ""# ""+:%.K""2K3L+*%4%6\u0157%##"!%$%# "$$# "$## "$"# ""# "9*" 3\u0153'),a('8!7\u00bf+& 4!6\u0154! %*\u00ae "!.E""2E3F+\u009d$7\u00a6*# "7\u008e+\u008d% &!.\u0155""2\u01553\u0156+3$7\u00a6*# "7\u008e+#%\'"%$"# ""# ",D&!.\u0155""2\u01553\u0156+3$7\u00a6*# "7\u008e+#%\'"%$"# ""# ""+9%.K""2K3L+)%4$6\u0159$""!%$$# "$## "$"# ""# "9*" 3\u0158'),
a('8!.Z""2Z3[+l$ &7\u00c0,#&7\u00c0"+Z%7i*# " %+J% &7\u00c0,#&7\u00c0"+8%.\\""2\\3]+(%4%6\u015b%!"%$%# "$$# "$## "$"# ""# "9*" 3\u015a'),a('8!7j+~$! &7\u00c0,#&7\u00c0"+U$.\u0116""2\u01163\u0117+E% &7\u00c0,#&7\u00c0"+3%7i*# " %+#%\'$%$$# "$## "$"# ""# "*# " %+)%4"6\u015d""! %$"# ""# "9*" 3\u015c'),a('8! &7\u00c0,#&7\u00c0"+O$7\u008a+E% &7\u00c0,#&7\u00c0"+3%7l+)%4$6\u015f$"" %$$# "$## "$"# ""# "*b "! &7\u00c0,#&7\u00c0"+O$7\u0083+E% &7\u00c0,#&7\u00c0"+3%7m+)%4$6\u0160$"" %$$# "$## "$"# ""# "9*" 3\u015e'),
a('8!7v*# "7w+\u013c$ &7\u00c0,#&7\u00c0"+\u012a%7n+\u0120% &! &7\u00c0,#&7\u00c0"+\u0082$.\u00bb""2\u00bb3\u00bc+r% &7\u00c0,#&7\u00c0"+`%!7v*# "7w+?$ &7\u00c0,#&7\u00c0"+-%7o+#%\'#%$## "$"# ""# "*# " %+#%\'$%$$# "$## "$"# ""# ",\u0095&! &7\u00c0,#&7\u00c0"+\u0082$.\u00bb""2\u00bb3\u00bc+r% &7\u00c0,#&7\u00c0"+`%!7v*# "7w+?$ &7\u00c0,#&7\u00c0"+-%7o+#%\'#%$## "$"# ""# "*# " %+#%\'$%$$# "$## "$"# ""# ""+*%4$6\u0162$##! %$$# "$## "$"# ""# "9*" 3\u0161'),a('8!7r+\u0130$ &7\u00c0,#&7\u00c0"+\u011e%7o+\u0114% &! &7\u00c0,#&7\u00c0"+|$.\u00bb""2\u00bb3\u00bc+l% &7\u00c0,#&7\u00c0"+Z%!7r+?$ &7\u00c0,#&7\u00c0"+-%7o+#%\'#%$## "$"# ""# "*# " %+#%\'$%$$# "$## "$"# ""# ",\u008f&! &7\u00c0,#&7\u00c0"+|$.\u00bb""2\u00bb3\u00bc+l% &7\u00c0,#&7\u00c0"+Z%!7r+?$ &7\u00c0,#&7\u00c0"+-%7o+#%\'#%$## "$"# ""# "*# " %+#%\'$%$$# "$## "$"# ""# ""+*%4$6\u0164$##! %$$# "$## "$"# ""# "9*" 3\u0163'),
a('87l*# " %9*" 3\u0165'),a('8!7p+\u00a7$ &7\u00c0,#&7\u00c0"+\u0095% &!.\u0155""2\u01553\u0156+?$ &7\u00c0,#&7\u00c0"+-%7p+#%\'#%$## "$"# ""# ",P&!.\u0155""2\u01553\u0156+?$ &7\u00c0,#&7\u00c0"+-%7p+#%\'#%$## "$"# ""# ""+)%4#6\u0167#"" %$## "$"# ""# "9*" 3\u0166'),a('8!7q+\u00a7$ &7\u00c0,#&7\u00c0"+\u0095% &!.\u0155""2\u01553\u0156+?$ &7\u00c0,#&7\u00c0"+-%7q+#%\'#%$## "$"# ""# ",P&!.\u0155""2\u01553\u0156+?$ &7\u00c0,#&7\u00c0"+-%7q+#%\'#%$## "$"# ""# ""+)%4#6\u0169#"" %$## "$"# ""# "9*" 3\u0168'),
a('87\u00889*" 3\u016a'),a('87\u00899*" 3\u016b'),a('87\u008b*4 "!.\u016d""2\u016d3\u016e+& 4!6\u016f! %9*" 3\u016c'),a('8! &7\u00c0,#&7\u00c0"+O$7\u008a+E% &7\u00c0,#&7\u00c0"+3%7t+)%4$6\u0171$"" %$$# "$## "$"# ""# "*b "! &7\u00c0,#&7\u00c0"+O$7\u0082+E% &7\u00c0,#&7\u00c0"+3%7u+)%4$6\u0172$"" %$$# "$## "$"# ""# "9*" 3\u0170'),a('8!7v*# "7w+\u0118$ &7\u00c0,#&7\u00c0"+\u0106%7n+\u00fc% &! &7\u00c0,#&7\u00c0"+p$.\u00bb""2\u00bb3\u00bc+`% &7\u00c0,#&7\u00c0"+N%!7v*# "7w+-$7o+#%\'"%$"# ""# "*# " %+#%\'$%$$# "$## "$"# ""# ",\u0083&! &7\u00c0,#&7\u00c0"+p$.\u00bb""2\u00bb3\u00bc+`% &7\u00c0,#&7\u00c0"+N%!7v*# "7w+-$7o+#%\'"%$"# ""# "*# " %+#%\'$%$$# "$## "$"# ""# ""+*%4$6\u0174$##! %$$# "$## "$"# ""# "9*" 3\u0173'),
a('87k*# " %9*" 3\u0175'),a("8!7x+' 4!6\u0177!! %9*\" 3\u0176"),a('87\u008c9*" 3\u0178'),a('87y9*" 3\u0179'),a('8!7z+q$ &!.\u017b""2\u017b3\u017c+-$7z+#%\'"%$"# ""# ",>&!.\u017b""2\u017b3\u017c+-$7z+#%\'"%$"# ""# ""+)%4"6\u017d""! %$"# ""# "9*" 3\u017a'),a('8!7|+q$ &!.\u017f""2\u017f3\u0180+-$7|+#%\'"%$"# ""# ",>&!.\u017f""2\u017f3\u0180+-$7|+#%\'"%$"# ""# ""+)%4"6\u0181""! %$"# ""# "9*" 3\u017e'),a('8!7~+9$7}*# " %+)%4"6\u0183""! %$"# ""# "9*" 3\u0182'),a('87{*C "!.\u0185""2\u01853\u0186+2$7{+(%4"6\u0187"! %$"# ""# "9*" 3\u0184'),
a('8.M""2M3N*\u00ea ".\u0189""2\u01893\u018a*\u00de ".\u018b""2\u018b3\u018c*\u00d2 "!.Z""2Z3[+\u00c1$!7\u0081+{$!.\u0155""2\u01553\u0156+T$.\\""2\\3]*> "!7\u0081+3$.\\""2\\3]+#%\'"%$"# ""# "+#%\'"%$"# ""# "*) ".\\""2\\3]+#%\'"%$"# ""# "*N "!.\u0155""2\u01553\u0156+=$7\u0081+3%.\\""2\\3]+#%\'#%$## "$"# ""# "+#%\'"%$"# ""# "9*" 3\u0188'),a('87\u00a6*\u008b "!.\u016d""2\u016d3\u016e+& 4!6\u016f! %*t "!.\u018e""2\u018e3\u018f+-$7\u007f+#%\'"%$"# ""# "*S "!.E""2E3F+B$7x+8%.K""2K3L+(%4#6\u011e#!!%$## "$"# ""# "9*" 3\u018d'),
a('7\u0080*\u00a7 "!.E""2E3F+\u0096$!7\u0080+k$ &!.\u017b""2\u017b3\u017c+-$7\u0080+#%\'"%$"# ""# ",>&!.\u017b""2\u017b3\u017c+-$7\u0080+#%\'"%$"# ""# ""+#%\'"%$"# ""# "*# " %+3%.K""2K3L+#%\'#%$## "$"# ""# "'),a('87\u00a6*V ".\u016d""2\u016d3\u016e*J "!.\u0185""2\u01853\u0186+9$7\u00a6*) ".\u016d""2\u016d3\u016e+#%\'"%$"# ""# "9*" 3\u0190'),a('87\u00b09*" 3\u0191'),a('8!7\u0086+\' 4!6\u0193!! %*# "7\u00849*" 3\u0192'),a('8!7\u0087+\' 4!6\u0195!! %*# "7\u00859*" 3\u0194'),a('8! &7\u00c0,#&7\u00c0"+v$.\u0197""2\u01973\u0198+f% &7\u00c0,#&7\u00c0"+T%7t+J%.\u0199""2\u01993\u019a+:% &7\u00c0,#&7\u00c0"+(%4&6\u019b&!"%$&# "$%# "$$# "$## "$"# ""# "9*" 3\u0196'),
a('8! &7\u00c0,#&7\u00c0"+\u0088$.\u0197""2\u01973\u0198+x% &7\u00c0,#&7\u00c0"+f%7l+\\% &7\u00c0,#&7\u00c0"+J%.\u0199""2\u01993\u019a+:% &7\u00c0,#&7\u00c0"+(%4\'6\u019d\'!#%$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3\u019c'),a('8! &7\u00c0,#&7\u00c0"+\u0097$.E""2E3F+\u0087% &7\u00c0,#&7\u00c0"+u% &7\u0088+&$,#&7\u0088""" "+\\% &7\u00c0,#&7\u00c0"+J%.K""2K3L+:% &7\u00c0,#&7\u00c0"+(%4\'6\u019f\'!#%$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3\u019e'),a('8! &7\u00c0,#&7\u00c0"+\u0097$.E""2E3F+\u0087% &7\u00c0,#&7\u00c0"+u% &7\u0089+&$,#&7\u0089""" "+\\% &7\u00c0,#&7\u00c0"+J%.K""2K3L+:% &7\u00c0,#&7\u00c0"+(%4\'6\u019f\'!#%$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3\u01a0'),
a('8!! &7\u00c0,#&7\u00c0"+?$7\u008a+5% &7\u00c0,#&7\u00c0"+#%\'#%$## "$"# ""# "*R "! &7\u00c0,#&7\u00c0"+?$7\u0082+5% &7\u00c0,#&7\u00c0"+#%\'#%$## "$"# ""# "+\' 4!6\u01a2!! %9*" 3\u01a1'),a('8!! &7\u00c0,#&7\u00c0"+?$7\u008a+5% &7\u00c0,#&7\u00c0"+#%\'#%$## "$"# ""# "*R "! &7\u00c0,#&7\u00c0"+?$7\u0083+5% &7\u00c0,#&7\u00c0"+#%\'#%$## "$"# ""# "+\' 4!6\u01a2!! %9*" 3\u01a3'),a('87\u008c*# "7\u008d9*" 3\u01a4'),a('87\u008c*# "7\u00a69*" 3\u01a5'),a('8! &7\u00c0,#&7\u00c0"+J$7\u00ad*# "7\u00ae+:% &7\u00c0,#&7\u00c0"+(%4#6\u01a7#!!%$## "$"# ""# "9*" 3\u01a6'),
a('87\u00a6*; "7\u009f*5 "7\u00a0*/ "7\u00a4*) "7\u00a8*# "7\u00bf9*" 3\u01a8'),a('87\u008f9*" 3\u01a9'),a('8!7\u0090+\u00b9$ &! &7\u00c0,#&7\u00c0"+O$.\u01ab""2\u01ab3\u01ac+?% &7\u00c0,#&7\u00c0"+-%7\u0090+#%\'$%$$# "$## "$"# ""# ",b&! &7\u00c0,#&7\u00c0"+O$.\u01ab""2\u01ab3\u01ac+?% &7\u00c0,#&7\u00c0"+-%7\u0090+#%\'$%$$# "$## "$"# ""# ""+)%4"6\u01ad""! %$"# ""# "9*" 3\u01aa'),a('8!7\u0091+\u00b9$ &! &7\u00c0,#&7\u00c0"+O$.\u01af""2\u01af3\u01b0+?% &7\u00c0,#&7\u00c0"+-%7\u0091+#%\'$%$$# "$## "$"# ""# ",b&! &7\u00c0,#&7\u00c0"+O$.\u01af""2\u01af3\u01b0+?% &7\u00c0,#&7\u00c0"+-%7\u0091+#%\'$%$$# "$## "$"# ""# ""+)%4"6\u01b1""! %$"# ""# "9*" 3\u01ae'),
a('87\u00929*" 3\u01b2'),a('8!7\u0093+\u05eb$ &! &7\u00c0,#&7\u00c0"+O$.\u01b4""2\u01b43\u01b5+?% &7\u00c0,#&7\u00c0"+-%7\u0093+#%\'$%$$# "$## "$"# ""# "*\u02b6 "! &7\u00c0,#&7\u00c0"+O$.\u01b6""2\u01b63\u01b7+?% &7\u00c0,#&7\u00c0"+-%7\u0093+#%\'$%$$# "$## "$"# ""# "*\u0271 "! &7\u00c0,#&7\u00c0"+O$.\u01b8""2\u01b83\u01b9+?% &7\u00c0,#&7\u00c0"+-%7\u0093+#%\'$%$$# "$## "$"# ""# "*\u022c "! &7\u00c0,#&7\u00c0"+O$.\u01ba""2\u01ba3\u01bb+?% &7\u00c0,#&7\u00c0"+-%7\u0093+#%\'$%$$# "$## "$"# ""# "*\u01e7 "! &7\u00c0,#&7\u00c0"+O$.\u01bc""2\u01bc3\u01bd+?% &7\u00c0,#&7\u00c0"+-%7\u0093+#%\'$%$$# "$## "$"# ""# "*\u01a2 "! &7\u00c0,#&7\u00c0"+O$.\u01be""2\u01be3\u01bf+?% &7\u00c0,#&7\u00c0"+-%7\u0093+#%\'$%$$# "$## "$"# ""# "*\u015d "! &7\u00c0,#&7\u00c0"+w$.\u01c0""2\u01c03\u01c1*) ".\u01c2""2\u01c23\u01c3+[%.\u01c4""2\u01c43\u01c5*) ".\u01c6""2\u01c63\u01c7+?% &7\u00c0,#&7\u00c0"+-%7g+#%\'%%$%# "$$# "$## "$"# ""# "*\u00f0 "! &7\u00c0,#&7\u00c0"+\u00dd$.\u01c4""2\u01c43\u01c5*) ".\u01c6""2\u01c63\u01c7+\u00c1%.\u01c8""2\u01c83\u01c9*) ".\u01ca""2\u01ca3\u01cb+\u00a5%.\u01cc""2\u01cc3\u01cd*) ".\u01ce""2\u01ce3\u01cf+\u0089% &7\u00c0,#&7\u00c0"+w%.\u01c0""2\u01c03\u01c1*) ".\u01c2""2\u01c23\u01c3+[%.\u01c4""2\u01c43\u01c5*) ".\u01c6""2\u01c63\u01c7+?% &7\u00c0,#&7\u00c0"+-%7g+#%\')%$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# ",\u02fb&! &7\u00c0,#&7\u00c0"+O$.\u01b4""2\u01b43\u01b5+?% &7\u00c0,#&7\u00c0"+-%7\u0093+#%\'$%$$# "$## "$"# ""# "*\u02b6 "! &7\u00c0,#&7\u00c0"+O$.\u01b6""2\u01b63\u01b7+?% &7\u00c0,#&7\u00c0"+-%7\u0093+#%\'$%$$# "$## "$"# ""# "*\u0271 "! &7\u00c0,#&7\u00c0"+O$.\u01b8""2\u01b83\u01b9+?% &7\u00c0,#&7\u00c0"+-%7\u0093+#%\'$%$$# "$## "$"# ""# "*\u022c "! &7\u00c0,#&7\u00c0"+O$.\u01ba""2\u01ba3\u01bb+?% &7\u00c0,#&7\u00c0"+-%7\u0093+#%\'$%$$# "$## "$"# ""# "*\u01e7 "! &7\u00c0,#&7\u00c0"+O$.\u01bc""2\u01bc3\u01bd+?% &7\u00c0,#&7\u00c0"+-%7\u0093+#%\'$%$$# "$## "$"# ""# "*\u01a2 "! &7\u00c0,#&7\u00c0"+O$.\u01be""2\u01be3\u01bf+?% &7\u00c0,#&7\u00c0"+-%7\u0093+#%\'$%$$# "$## "$"# ""# "*\u015d "! &7\u00c0,#&7\u00c0"+w$.\u01c0""2\u01c03\u01c1*) ".\u01c2""2\u01c23\u01c3+[%.\u01c4""2\u01c43\u01c5*) ".\u01c6""2\u01c63\u01c7+?% &7\u00c0,#&7\u00c0"+-%7g+#%\'%%$%# "$$# "$## "$"# ""# "*\u00f0 "! &7\u00c0,#&7\u00c0"+\u00dd$.\u01c4""2\u01c43\u01c5*) ".\u01c6""2\u01c63\u01c7+\u00c1%.\u01c8""2\u01c83\u01c9*) ".\u01ca""2\u01ca3\u01cb+\u00a5%.\u01cc""2\u01cc3\u01cd*) ".\u01ce""2\u01ce3\u01cf+\u0089% &7\u00c0,#&7\u00c0"+w%.\u01c0""2\u01c03\u01c1*) ".\u01c2""2\u01c23\u01c3+[%.\u01c4""2\u01c43\u01c5*) ".\u01c6""2\u01c63\u01c7+?% &7\u00c0,#&7\u00c0"+-%7g+#%\')%$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# ""+)%4"6\u01d0""! %$"# ""# "9*" 3\u01b3'),
a('87\u00949*" 3\u01d1'),a('8!7\u0095+\u0299$ &! &7\u00c0,#&7\u00c0"+O$.\u018b""2\u018b3\u018c+?% &7\u00c0,#&7\u00c0"+-%7\u0095+#%\'$%$$# "$## "$"# ""# "*\u010d "! &7\u00c0,#&7\u00c0"+O$.\u01d3""2\u01d33\u01d4+?% &7\u00c0,#&7\u00c0"+-%7\u0095+#%\'$%$$# "$## "$"# ""# "*\u00c8 "!7\u00a3*# "7\u00a3+\u00b7$! &7\u00c0,#&7\u00c0"+O$.M""2M3N+?% &7\u00c0,#&7\u00c0"+-%7\u0096+#%\'$%$$# "$## "$"# ""# "*b "! &7\u00c0,#&7\u00c0"+O$.\u017f""2\u017f3\u0180+?% &7\u00c0,#&7\u00c0"+-%7\u0096+#%\'$%$$# "$## "$"# ""# "*# " %+#%\'"%$"# ""# ",\u0152&! &7\u00c0,#&7\u00c0"+O$.\u018b""2\u018b3\u018c+?% &7\u00c0,#&7\u00c0"+-%7\u0095+#%\'$%$$# "$## "$"# ""# "*\u010d "! &7\u00c0,#&7\u00c0"+O$.\u01d3""2\u01d33\u01d4+?% &7\u00c0,#&7\u00c0"+-%7\u0095+#%\'$%$$# "$## "$"# ""# "*\u00c8 "!7\u00a3*# "7\u00a3+\u00b7$! &7\u00c0,#&7\u00c0"+O$.M""2M3N+?% &7\u00c0,#&7\u00c0"+-%7\u0096+#%\'$%$$# "$## "$"# ""# "*b "! &7\u00c0,#&7\u00c0"+O$.\u017f""2\u017f3\u0180+?% &7\u00c0,#&7\u00c0"+-%7\u0096+#%\'$%$$# "$## "$"# ""# "*# " %+#%\'"%$"# ""# ""+)%4"6\u01d5""! %$"# ""# "9*" 3\u01d2'),
a('8!7\u0096+\u0143$ &! &7\u00c0,#&7\u00c0"+O$.M""2M3N+?% &7\u00c0,#&7\u00c0"+-%7\u0096+#%\'$%$$# "$## "$"# ""# "*b "! &7\u00c0,#&7\u00c0"+O$.\u017f""2\u017f3\u0180+?% &7\u00c0,#&7\u00c0"+-%7\u0096+#%\'$%$$# "$## "$"# ""# ",\u00a7&! &7\u00c0,#&7\u00c0"+O$.M""2M3N+?% &7\u00c0,#&7\u00c0"+-%7\u0096+#%\'$%$$# "$## "$"# ""# "*b "! &7\u00c0,#&7\u00c0"+O$.\u017f""2\u017f3\u0180+?% &7\u00c0,#&7\u00c0"+-%7\u0096+#%\'$%$$# "$## "$"# ""# ""+)%4"6\u01d7""! %$"# ""# "9*" 3\u01d6'),a('8!.\u018e""2\u018e3\u018f+D$ &7\u00c0,#&7\u00c0"+2%7\u0097+(%4#6\u01d9#! %$## "$"# ""# "*\u0093 "!.\u018b""2\u018b3\u018c+D$ &7\u00c0,#&7\u00c0"+2%7\u0097+(%4#6\u01da#! %$## "$"# ""# "*[ "!.\u01d3""2\u01d33\u01d4+D$ &7\u00c0,#&7\u00c0"+2%7\u0097+(%4#6\u01db#! %$## "$"# ""# "*# "7\u00979*" 3\u01d8'),
a('87\u0098*w "7\u0099*q "7\u009e*k "!7\u009f+\' 4!6\u01dd!! %*Y "!7\u00a0+\' 4!6\u01de!! %*G "!7\u00a4+\' 4!6\u01df!! %*5 "7\u009d*/ "!7\u008c+\' 4!6\u01e0!! %9*" 3\u01dc'),a('8!.E""2E3F+f$ &7\u00c0,#&7\u00c0"+T%7\u008e+J% &7\u00c0,#&7\u00c0"+8%.K""2K3L+(%4%6\u01e2%!"%$%# "$$# "$## "$"# ""# "9*" 3\u01e1'),a('8!.\u01e4""2\u01e43\u01e5*) ".\u01e6""2\u01e63\u01e7+\u0088$ &7\u00c0,#&7\u00c0"+v%.E""2E3F+f% &7\u00c0,#&7\u00c0"+T%7\u008e+J% &7\u00c0,#&7\u00c0"+8%.K""2K3L+(%4\'6\u01e8\'!"%$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u0913 "!.\u01e9""2\u01e93\u01ea*) ".\u01eb""2\u01eb3\u01ec+\u0088$ &7\u00c0,#&7\u00c0"+v%.E""2E3F+f% &7\u00c0,#&7\u00c0"+T%7\u008e+J% &7\u00c0,#&7\u00c0"+8%.K""2K3L+(%4\'6\u01ed\'!"%$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u088b "!.\u01ee""2\u01ee3\u01ef*) ".\u01f0""2\u01f03\u01f1+\u00c7$ &7\u00c0,#&7\u00c0"+\u00b5%.E""2E3F+\u00a5% &7\u00c0,#&7\u00c0"+\u0093%7\u008e+\u0089% &7\u00c0,#&7\u00c0"+w%.\u0155""2\u01553\u0156+g% &7\u00c0,#&7\u00c0"+U%7\u008e+K% &7\u00c0,#&7\u00c0"+9%.K""2K3L+)%4+6\u01f2+"&"%$+# "$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u07c4 "!.\u01f3""2\u01f33\u01f4*) ".\u01f5""2\u01f53\u01f6+\u0088$ &7\u00c0,#&7\u00c0"+v%.E""2E3F+f% &7\u00c0,#&7\u00c0"+T%7\u008e+J% &7\u00c0,#&7\u00c0"+8%.K""2K3L+(%4\'6\u01f7\'!"%$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u073c "!.\u01f8""2\u01f83\u01f9*) ".\u01fa""2\u01fa3\u01fb+\u0088$ &7\u00c0,#&7\u00c0"+v%.E""2E3F+f% &7\u00c0,#&7\u00c0"+T%7\u008c+J% &7\u00c0,#&7\u00c0"+8%.K""2K3L+(%4\'6\u01fc\'!"%$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u06b4 "!.\u01fd""2\u01fd3\u01fe*) ".\u01ff""2\u01ff3\u0200+\u0088$ &7\u00c0,#&7\u00c0"+v%.E""2E3F+f% &7\u00c0,#&7\u00c0"+T%7\u008e+J% &7\u00c0,#&7\u00c0"+8%.K""2K3L+(%4\'6\u0201\'!"%$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u062c "!.\u0202""2\u02023\u0203*) ".\u0204""2\u02043\u0205+\u0088$ &7\u00c0,#&7\u00c0"+v%.E""2E3F+f% &7\u00c0,#&7\u00c0"+T%7\u008e+J% &7\u00c0,#&7\u00c0"+8%.K""2K3L+(%4\'6\u0206\'!"%$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u05a4 "!.\u0207""2\u02073\u0208*) ".\u0209""2\u02093\u020a+\u0099$ &7\u00c0,#&7\u00c0"+\u0087%!.E""2E3F+a$ &7\u00c0,#&7\u00c0"+O%7\u008e+E% &7\u00c0,#&7\u00c0"+3%.K""2K3L+#%\'%%$%# "$$# "$## "$"# ""# "*# "7\u00bf+(%4#6\u020b#! %$## "$"# ""# "*\u050b "!.\u020c""2\u020c3\u020d*) ".\u020e""2\u020e3\u020f+D$ &7\u00c0,#&7\u00c0"+2%7g+(%4#6\u0210#! %$## "$"# ""# "*\u04c7 "!.\u0211""2\u02113\u0212*) ".\u0213""2\u02133\u0214+\u0106$ &7\u00c0,#&7\u00c0"+\u00f4%.E""2E3F+\u00e4% &7\u00c0,#&7\u00c0"+\u00d2%7\u008e+\u00c8% &7\u00c0,#&7\u00c0"+\u00b6%.\u0155""2\u01553\u0156+\u00a6% &7\u00c0,#&7\u00c0"+\u0094%7\u008e+\u008a% &7\u00c0,#&7\u00c0"+x%.\u0155""2\u01553\u0156+h% &7\u00c0,#&7\u00c0"+V%7\u008e+L% &7\u00c0,#&7\u00c0"+:%.K""2K3L+*%4/6\u0215/#*&"%$/# "$.# "$-# "$,# "$+# "$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u03c1 "!.\u0216""2\u02163\u0217*) ".\u0218""2\u02183\u0219+\u0088$ &7\u00c0,#&7\u00c0"+v%.E""2E3F+f% &7\u00c0,#&7\u00c0"+T%7\u008e+J% &7\u00c0,#&7\u00c0"+8%.K""2K3L+(%4\'6\u021a\'!"%$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u0339 "!.\u021b""2\u021b3\u021c*) ".\u021d""2\u021d3\u021e+\u0088$ &7\u00c0,#&7\u00c0"+v%.E""2E3F+f% &7\u00c0,#&7\u00c0"+T%7\u008e+J% &7\u00c0,#&7\u00c0"+8%.K""2K3L+(%4\'6\u021f\'!"%$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u02b1 "!.\u0220""2\u02203\u0221*) ".\u0222""2\u02223\u0223+\u00c7$ &7\u00c0,#&7\u00c0"+\u00b5%.E""2E3F+\u00a5% &7\u00c0,#&7\u00c0"+\u0093%7\u008e+\u0089% &7\u00c0,#&7\u00c0"+w%.\u0155""2\u01553\u0156+g% &7\u00c0,#&7\u00c0"+U%7\u008e+K% &7\u00c0,#&7\u00c0"+9%.K""2K3L+)%4+6\u0224+"&"%$+# "$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u01ea "!.\u0225""2\u02253\u0226*A ".\u0227""2\u02273\u0228*5 ".\u0229""2\u02293\u022a*) ".\u022b""2\u022b3\u022c+\u0088$ &7\u00c0,#&7\u00c0"+v%.E""2E3F+f% &7\u00c0,#&7\u00c0"+T%7\u008e+J% &7\u00c0,#&7\u00c0"+8%.K""2K3L+(%4\'6\u022d\'!"%$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u014a "!.\u022e""2\u022e3\u022f*) ".\u0230""2\u02303\u0231+\u011b$ &0\u0232""1!3\u0233+,$,)&0\u0232""1!3\u0233""" "+\u00f6% &7\u00c0,#&7\u00c0"+\u00e4%.E""2E3F+\u00d4% &! &7\u00c0,#&7\u00c0"+=$7\u008e+3%.\u0155""2\u01553\u0156+#%\'#%$## "$"# ""# ",P&! &7\u00c0,#&7\u00c0"+=$7\u008e+3%.\u0155""2\u01553\u0156+#%\'#%$## "$"# ""# ""+h% &7\u00c0,#&7\u00c0"+V%7\u008e+L% &7\u00c0,#&7\u00c0"+:%.K""2K3L+*%4)6\u0234)#\'$"%$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "*/ "7\u009a*) "7\u009b*# "7\u009c9*" 3\u01e3'),
a('8!.\u0236""2\u02363\u0237*) ".\u0238""2\u02383\u0239+\u0117$ &7\u00c0,#&7\u00c0"+\u0105%.E""2E3F+\u00f5% &7\u00c0,#&7\u00c0"+\u00e3%7\u008e+\u00d9% &7\u00c0,#&7\u00c0"+\u00c7%.\u0155""2\u01553\u0156+\u00b7% &7\u00c0,#&7\u00c0"+\u00a5%7\u008e+\u009b% &7\u00c0,#&7\u00c0"+\u0089%!.\u0155""2\u01553\u0156+?$ &7\u00c0,#&7\u00c0"+-%7\u008e+#%\'#%$## "$"# ""# "*# " %+L% &7\u00c0,#&7\u00c0"+:%.K""2K3L+*%4-6\u023a-#($"%$-# "$,# "$+# "$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3\u0235'),a('8!.\u023c""2\u023c3\u023d*) ".\u023e""2\u023e3\u023f+D$ &7\u00c0,#&7\u00c0"+2%7T+(%4#6\u0240#! %$## "$"# ""# "9*" 3\u023b'),
a('8!.\u0242""2\u02423\u0243*) ".\u0244""2\u02443\u0245+r$ &7\u00c0,#&7\u00c0"+`%.\u023c""2\u023c3\u023d*) ".\u023e""2\u023e3\u023f+D% &7\u00c0,#&7\u00c0"+2%7T+(%4%6\u0246%! %$%# "$$# "$## "$"# ""# "9*" 3\u0241'),a('8!.\u0248""2\u02483\u0249*) ".\u024a""2\u024a3\u024b+\u00db$ &7\u00c0,#&7\u00c0"+\u00c9%.E""2E3F+\u00b9% &7\u00c0,#&7\u00c0"+\u00a7%.=""2=3>*) ".?""2?3@*# " %+\u0085% &7\u00c0,#&7\u00c0"+s%.M""2M3N*# "7\u008e+]% &7\u00c0,#&7\u00c0"+K%.K""2K3L+;% &7\u00c0,#&7\u00c0"+)%4*6\u024c*"%#%$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u04aa "!.\u024d""2\u024d3\u024e*) ".\u024f""2\u024f3\u0250+\u0151$ &7\u00c0,#&7\u00c0"+\u013f%.E""2E3F+\u012f% &7\u00c0,#&7\u00c0"+\u011d%.=""2=3>*) ".?""2?3@*# " %+\u00fb% &7\u00c0,#&7\u00c0"+\u00e9%7\u008e+\u00df%!.\u00bb""2\u00bb3\u00bc+\u0095$ &7\u00c0,#&7\u00c0"+\u0083%.\u0251""2\u02513\u0252+s% &7\u00c0,#&7\u00c0"+a%.\u01b4""2\u01b43\u01b5+Q% &7\u00c0,#&7\u00c0"+?%7\u00a5+5% &7\u00c0,#&7\u00c0"+#%\'(%$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "*# " %+L%.K""2K3L+<% &7\u00c0,#&7\u00c0"+*%4*6\u0253*#%#"%$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u0359 "!.\u0254""2\u02543\u0255*) ".\u0256""2\u02563\u0257+\u00cf$ &7\u00c0,#&7\u00c0"+\u00bd%.E""2E3F+\u00ad% &7\u00c0,#&7\u00c0"+\u009b%.=""2=3>*) ".?""2?3@*# " %+y% &7\u00c0,#&7\u00c0"+g%7\u008e+]% &7\u00c0,#&7\u00c0"+K%.K""2K3L+;% &7\u00c0,#&7\u00c0"+)%4*6\u0258*"%#%$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u028a "!.\u0259""2\u02593\u025a*) ".\u025b""2\u025b3\u025c+\u00cf$ &7\u00c0,#&7\u00c0"+\u00bd%.E""2E3F+\u00ad% &7\u00c0,#&7\u00c0"+\u009b%.=""2=3>*) ".?""2?3@*# " %+y% &7\u00c0,#&7\u00c0"+g%7\u008e+]% &7\u00c0,#&7\u00c0"+K%.K""2K3L+;% &7\u00c0,#&7\u00c0"+)%4*6\u025d*"%#%$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u01bb "!.\u025e""2\u025e3\u025f*) ".\u0260""2\u02603\u0261+\u00cf$ &7\u00c0,#&7\u00c0"+\u00bd%.E""2E3F+\u00ad% &7\u00c0,#&7\u00c0"+\u009b%.=""2=3>*) ".?""2?3@*# " %+y% &7\u00c0,#&7\u00c0"+g%7\u008e+]% &7\u00c0,#&7\u00c0"+K%.K""2K3L+;% &7\u00c0,#&7\u00c0"+)%4*6\u0262*"%#%$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u00ec "!.\u0263""2\u02633\u0264*) ".\u0265""2\u02653\u0266+\u00cf$ &7\u00c0,#&7\u00c0"+\u00bd%.E""2E3F+\u00ad% &7\u00c0,#&7\u00c0"+\u009b%.=""2=3>*) ".?""2?3@*# " %+y% &7\u00c0,#&7\u00c0"+g%7\u008e+]% &7\u00c0,#&7\u00c0"+K%.K""2K3L+;% &7\u00c0,#&7\u00c0"+)%4*6\u0267*"%#%$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3\u0247'),
a('8!7\u00a6+9$7f*# " %+)%4"6\u0269""! %$"# ""# "9*" 3\u0268'),a('8!7\u00a5+Z$7\u00af*> "!.\u026b""2\u026b3\u026c+-$7\u00a6+#%\'"%$"# ""# "*# " %+)%4"6\u026d""! %$"# ""# "9*" 3\u026a'),a('87\u00a1*) "7\u00a2*# "7\u00a39*" 3\u026e'),a('87\u00b2*) "7\u00b1*# "7\u00b09*" 3\u026f'),a('87\u00b5*) "7\u00b4*# "7\u00b39*" 3\u0270'),a('87\u00b8*) "7\u00b7*# "7\u00b69*" 3\u0271'),a('8!.\u0273""2\u02733\u0274*) ".\u0275""2\u02753\u0276+& 4!6\u0277! %*@ "!.\u0278""2\u02783\u0279*) ".\u027a""2\u027a3\u027b+& 4!6\u027c! %9*" 3\u0272'),
a("8!7\u00bc+' 4!6\u027e!! %*S \"!7\u00bd+' 4!6\u027e!! %*A \"!7\u00ba+' 4!6\u027e!! %*/ \"!7\u00bb+' 4!6\u027e!! %9*\" 3\u027d"),a("8!7\u00a9+' 4!6\u0280!! %*/ \"!7\u00a7+' 4!6\u0281!! %9*\" 3\u027f"),a("8!7\u00ab+' 4!6\u0283!! %*/ \"!7\u00aa+' 4!6\u0284!! %9*\" 3\u0282"),a('8!7\u00ac+\' 4!6\u0286!! %*. "!7\u00c2+& 4!6\u0287! %9*" 3\u0285'),a('8!.\u01b8""2\u01b83\u01b9+V$ &0\u0289""1!3\u028a,)&0\u0289""1!3\u028a"+8%.\u01ba""2\u01ba3\u01bb+(%4#6\u028b#!!%$## "$"# ""# "9*" 3\u0288'),a('8!7\u00c7*# " %+8$.\u028d""2\u028d3\u028e+(%4"6\u0281"!!%$"# ""# "9*" 3\u028c'),
a('8!7\u00aa+3$7\u00c8+)%4"6\u0290""! %$"# ""# "9*" 3\u028f'),a('8!.\u0292""2\u02923\u0293+2$7\u00c8+(%4"6\u0294"! %$"# ""# "9*" 3\u0291'),a('8!.\u0189""2\u01893\u018a+2$7\u00c5+(%4"6\u0296"! %$"# ""# "9*" 3\u0295'),a('8!.\u0298""2\u02983\u0299+2$7\u00c5+(%4"6\u0296"! %$"# ""# "9*" 3\u0297'),a('8!.\u029b""2\u029b3\u029c+\u00cc$ &0\u029d""1!3\u029e+,$,)&0\u029d""1!3\u029e""" "+\u00a7% &!.\u01d3""2\u01d33\u01d4+H$ &0\u029f""1!3\u02a0+,$,)&0\u029f""1!3\u02a0""" "+#%\'"%$"# ""# ",Y&!.\u01d3""2\u01d33\u01d4+H$ &0\u029f""1!3\u02a0+,$,)&0\u029f""1!3\u02a0""" "+#%\'"%$"# ""# ""+)%4#6\u02a1#"! %$## "$"# ""# "9*" 3\u029a'),
a('8! &0\u02a3""1!3\u02a4+,$,)&0\u02a3""1!3\u02a4""" "+\' 4!6\u02a5!! %9*" 3\u02a2'),a('8! &0\u02a3""1!3\u02a4+,$,)&0\u02a3""1!3\u02a4""" "+X$.\u0116""2\u01163\u0117+H% &0\u02a3""1!3\u02a4,)&0\u02a3""1!3\u02a4"+*%4#6\u02a7##"! %$## "$"# ""# "*_ "!.\u0116""2\u01163\u0117+N$ &0\u02a3""1!3\u02a4+,$,)&0\u02a3""1!3\u02a4""" "+)%4"6\u02a8""! %$"# ""# "9*" 3\u02a6'),a('8! &0\u02a3""1!3\u02a4+,$,)&0\u02a3""1!3\u02a4""" "+c$.\u0116""2\u01163\u0117+S% &0\u02a3""1!3\u02a4,)&0\u02a3""1!3\u02a4"+5%7\u00b9++%4$6\u02aa$$#"! %$$# "$## "$"# ""# "*\u00a6 "!.\u0116""2\u01163\u0117+Y$ &0\u02a3""1!3\u02a4+,$,)&0\u02a3""1!3\u02a4""" "+4%7\u00b9+*%4#6\u02ab##"! %$## "$"# ""# "*Y "! &0\u02a3""1!3\u02a4+,$,)&0\u02a3""1!3\u02a4""" "+3$7\u00b9+)%4"6\u02ac""! %$"# ""# "9*" 3\u02a9'),
a('8!.\u018b""2\u018b3\u018c+2$7\u00b0+(%4"6\u02ae"! %$"# ""# "9*" 3\u02ad'),a('8!.\u018b""2\u018b3\u018c+2$7\u00b1+(%4"6\u02b0"! %$"# ""# "9*" 3\u02af'),a('8!.\u018b""2\u018b3\u018c+2$7\u00b2+(%4"6\u02b0"! %$"# ""# "9*" 3\u02b1'),a('8!.\u01d3""2\u01d33\u01d4+2$7\u00b0+(%4"6\u02b3"! %$"# ""# "9*" 3\u02b2'),a('8!.\u01d3""2\u01d33\u01d4+2$7\u00b1+(%4"6\u02b3"! %$"# ""# "9*" 3\u02b4'),a('8!.\u01d3""2\u01d33\u01d4+2$7\u00b2+(%4"6\u02b3"! %$"# ""# "9*" 3\u02b5'),a('8!0\u02b7""1!3\u02b8+e$0\u02b9""1!3\u02ba*# " %+O% &0\u02a3""1!3\u02a4+,$,)&0\u02a3""1!3\u02a4""" "+*%4#6\u02bb##"! %$## "$"# ""# "9*" 3\u02b6'),
a('8!.\u02bd""2\u02bd3\u02be+b$ &0\u02bf""1!3\u02c0*# "7\u00be,/&0\u02bf""1!3\u02c0*# "7\u00be"+8%.\u02bd""2\u02bd3\u02be+(%4#6\u02c1#!!%$## "$"# ""# "9*" 3\u02bc'),a('8!.\u02c3""2\u02c33\u02c4+b$ &0\u02c5""1!3\u02c6*# "7\u00be,/&0\u02c5""1!3\u02c6*# "7\u00be"+8%.\u02c3""2\u02c33\u02c4+(%4#6\u02c1#!!%$## "$"# ""# "9*" 3\u02c2'),a('8!.\u02c8""2\u02c83\u02c9+b$ &0\u02ca""1!3\u02cb*# "7\u00be,/&0\u02ca""1!3\u02cb*# "7\u00be"+8%.\u02c8""2\u02c83\u02c9+(%4#6\u02c1#!!%$## "$"# ""# "9*" 3\u02c7'),a('8!.\u02cd""2\u02cd3\u02ce+b$ &0\u02cf""1!3\u02d0*# "7\u00be,/&0\u02cf""1!3\u02d0*# "7\u00be"+8%.\u02cd""2\u02cd3\u02ce+(%4#6\u02c1#!!%$## "$"# ""# "9*" 3\u02cc'),
a('8!.\u02d2""2\u02d23\u02d3+3$0\u02d4""1!3\u02d5+#%\'"%$"# ""# "9*" 3\u02d1'),a('8!.E""2E3F+I$ &7\u00c0,#&7\u00c0"+7%.K""2K3L+\'%4#6\u02d7# %$## "$"# ""# "9*" 3\u02d6'),a('80\u02d9""1!3\u02da*G "0\u02db""1!3\u02dc*; "0\u02dd""1!3\u02de*/ "0\u02df""1!3\u02e0*# "7\u00c19*" 3\u02d8'),a('8!.\u02e2""2\u02e23\u02e3+A$ &0\u02e4""1!3\u02e5,)&0\u02e4""1!3\u02e5"+#%\'"%$"# ""# "9*" 3\u02e1'),a('8!.\u0197""2\u01973\u0198+E$ &7\u00c0,#&7\u00c0"+3%.\u0199""2\u01993\u019a+#%\'#%$## "$"# ""# "9*" 3\u02e6'),a('80\u02e8""1!3\u02e9*\u00b9 "0\u02ea""1!3\u02eb*\u00ad "0\u02ec""1!3\u02ed*\u00a1 "0\u02ee""1!3\u02ef*\u0095 "0\u02f0""1!3\u02f1*\u0089 "0\u02f2""1!3\u02f3*} "0\u02f4""1!3\u02f5*q "0\u02f6""1!3\u02f7*e "0\u02f8""1!3\u02f9*Y "0\u02fa""1!3\u02fb*M "0\u02fc""1!3\u02fd*A "0\u02fe""1!3\u02ff*5 "0\u0300""1!3\u0301*) "0\u0302""1!3\u03039*" 3\u02e7'),
a('87\u00c3*) ".\u0305""2\u03053\u03069*" 3\u0304'),a('8!7\u00c4*) "0\u02a3""1!3\u02a4+\u009b$ &7\u00c4*M "0\u02a3""1!3\u02a4*A "0\u0308""1!3\u0309*5 "0\u030a""1!3\u030b*) "0\u030c""1!3\u030d,S&7\u00c4*M "0\u02a3""1!3\u02a4*A "0\u0308""1!3\u0309*5 "0\u030a""1!3\u030b*) "0\u030c""1!3\u030d"+)%4"6\u030e""! %$"# ""# "9*" 3\u0307'),a('87\u00c4*Y ".\u01d3""2\u01d33\u01d4*M "0\u02a3""1!3\u02a4*A "0\u0308""1!3\u0309*5 "0\u030a""1!3\u030b*) "0\u030c""1!3\u030d9*" 3\u030f'),a('8!7\u00c3+S$ &7\u00c6*) ".\u0116""2\u01163\u0117,/&7\u00c6*) ".\u0116""2\u01163\u0117"+)%4"6\u0311""! %$"# ""# "9*" 3\u0310'),
a('8!7\u00c4*; "0\u02a3""1!3\u02a4*/ ".\u028d""2\u028d3\u028e*# "7\u00c9+w$ &7\u00c6*; ".\u0116""2\u01163\u0117*/ ".\u028d""2\u028d3\u028e*# "7\u00c9,A&7\u00c6*; ".\u0116""2\u01163\u0117*/ ".\u028d""2\u028d3\u028e*# "7\u00c9"+)%4"6\u0313""! %$"# ""# "9*" 3\u0312'),a('87\u00ca*# "7\u00cc9*" 3\u0314'),a('8!!.\u0316""2\u03163\u0317+7$7\u00cb+-%7\u00cb+#%\'#%$## "$"# ""# "+\' 4!6\u0318!! %9*" 3\u0315'),a('80\u02a3""1!3\u02a4*5 "0\u031a""1!3\u031b*) "0\u031c""1!3\u031d9*" 3\u0319'),a('8!.\u02d2""2\u02d23\u02d3+\u0128$.\u0305""2\u03053\u0306*\u010d ".\u031f""2\u031f3\u0320*\u0101 ".\u0116""2\u01163\u0117*\u00f5 ".\u01d3""2\u01d33\u01d4*\u00e9 ".\u018e""2\u018e3\u018f*\u00dd ".\u0298""2\u02983\u0299*\u00d1 ".\u0321""2\u03213\u0322*\u00c5 ".\u02bd""2\u02bd3\u02be*\u00b9 ".E""2E3F*\u00ad ".K""2K3L*\u00a1 ".M""2M3N*\u0095 ".\u018b""2\u018b3\u018c*\u0089 ".\u0155""2\u01553\u0156*} ".\u00bb""2\u00bb3\u00bc*q ".\u028d""2\u028d3\u028e*e ".\u01b4""2\u01b43\u01b5*Y ".\u017f""2\u017f3\u0180*M ".\u0189""2\u01893\u018a*A ".\u02e2""2\u02e23\u02e3*5 ".\u029b""2\u029b3\u029c*) ".\u0316""2\u03163\u0317+(%4"6\u0323"! %$"# ""# "9*" 3\u031e')],
r=0,q=0,D={line:1,column:1,seenCR:!1},v=0,u=[],x=0;if("startRule"in f){if(!(f.startRule in c))throw Error("Can't start parsing from rule \""+f.startRule+'".');g=c[f.startRule]}var H=function(a){for(var b="",c=0;c<a.length;c++)b="string"===typeof a[c]?b+a[c]:b+a[c].join("");return b},K=0,z=function(a){var b="";if(null==a)return null;for(var c=0;c<a.length;c++)b+=a[c];return b.toUpperCase()},f=e(g);if(f!==h&&r===n.length)return f;f!==h&&r<n.length&&d({type:"end",description:"end of input"});throw function(a,
c,e){function d(a){var b=1;for(a.sort(function(a,b){return a.description<b.description?-1:a.description>b.description?1:0});b<a.length;)a[b-1]===a[b]?a.splice(b,1):b++}function f(a,b){function c(a){function b(a){return a.charCodeAt(0).toString(16).toUpperCase()}return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(a){return"\\x0"+b(a)}).replace(/[\x10-\x1F\x80-\xFF]/g,
function(a){return"\\x"+b(a)}).replace(/[\u0180-\u0FFF]/g,function(a){return"\\u0"+b(a)}).replace(/[\u1080-\uFFFF]/g,function(a){return"\\u"+b(a)})}var e=Array(a.length),d;for(d=0;d<a.length;d++)e[d]=a[d].description;e=1<a.length?e.slice(0,-1).join(", ")+" or "+e[a.length-1]:e[0];d=b?'"'+c(b)+'"':"end of input";return"Expected "+e+" but "+d+" found."}var g=b(e),l=e<n.length?n.charAt(e):null;null!==c&&d(c);return new k(null!==a?a:f(c,l),c,l,e,g.line,g.column)}(null,u,v);}}}()},{}],52:[function(q,z,
u){q("./btree");var k=q("./utils"),n=q("./lexicon").Lexicon;Lexicon=function(b,d){var a=this;k.registerIndexedDB(a);this.defaultGraphOid=0;this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph";this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri};this.oidCounter=1;a.dbName=d||"rdfstorejs";var e=a.indexedDB.open(this.dbName+"_lexicon",1);e.onerror=function(a){b(null,Error("Error opening IndexedDB: "+a.target.errorCode))};e.onsuccess=
function(e){a.db=e.target.result;b(a)};e.onupgradeneeded=function(b){a.db=b.target.result;a.db.createObjectStore("knownGraphs",{keyPath:"oid"});a.db.createObjectStore("uris",{keyPath:"id",autoIncrement:!0}).createIndex("uri","uri",{unique:!0});a.db.createObjectStore("blanks",{keyPath:"id",autoIncrement:!0}).createIndex("label","label",{unique:!0});a.db.createObjectStore("literals",{keyPath:"id",autoIncrement:!0}).createIndex("value","value",{unique:!0})}};Lexicon.prototype.registerGraph=function(b,
d,a){b!=this.defaultGraphOid?(that.db.transaction(["knownGraphs"],"readwrite"),transaction.oncomplete=function(b){a()},transaction.onerror=function(b){a(null,Error(b.target.statusCode))},transaction.objectStore("knownGraphs").add({oid:b,utiToken:d}).onsuccess=function(b){a(!0)}):a()};Lexicon.prototype.registeredGraphs=function(b,d){var a=[],e=that.db.transaction(["knownGraphs"],"readwrite").objectStore("customers").openCursor();e.onsuccess=function(e){(e=e.target.result)?(!0===b?a.push(e.value.uriToken):
a.push(e.value.oid),e.continue()):d(a)};e.onerror=function(a){d(null,Error("Error retrieving adta from the cursor: "+a.target.errorCode))}};Lexicon.prototype.registerUri=function(b,d){if(b===this.defaultGraphUri)d(this.defaultGraphOid);else{var a=this.db.transaction(["uris"],"readwrite").objectStore("uris"),e=a.index("uri").get(b);e.onsuccess=function(e){if(e=e.target.result){e.counter++;var h=e.id;e=a.put(e);e.onsuccess=function(a){d(h)};e.onerror=function(a){d(null,Error("Error updating the URI data"+
a.target.errorCode))}}else e=a.add({uri:b,counter:0}),e.onsuccess=function(a){d(a.target.result)},e.onerror=function(a){d(null,Error("Error inserting the URI data"+a.target.errorCode))}};e.onerror=function(a){d(null,Error("Error retrieving the URI data"+a.target.errorCode))}}};Lexicon.prototype.resolveUri=function(b,d){if(b===this.defaultGraphUri)d(this.defaultGraphOid);else{var a=that.db.transaction(["uris"]).objectStore("uris").index("uri").get(b);a.onsuccess=function(a){null!=a.target.result?d(a.target.result.id):
d(-1)};a.onerror=function(a){d(null,Error("Error retrieving uri data "+a.target.errorCode))}}};Lexicon.prototype.resolveUriCost=function(b,d){if(b===this.defaultGraphUri)d(0);else{var a=that.db.transaction(["uris"]).objectStore("uris").index("uri").get(b);a.onsuccess=function(a){null!=a.target.result?d(a.target.result.cost):d(-1)};a.onerror=function(a){d(null,Error("Error retrieving uri data "+a.target.errorCode))}}};Lexicon.prototype.registerBlank=function(b){var d=guid(),d=this.db.transaction(["blanks"],
"readwrite").objectStore("blanks").add({label:d,counter:0});d.onsuccess=function(a){b(a.target.result)};d.onerror=function(a){b(null,Error("Error inserting the URI data"+a.target.errorCode))}};Lexicon.prototype.resolveBlankCost=function(b,d){d(0)};Lexicon.prototype.registerLiteral=function(b,d){var a=this.db.transaction(["literals"],"readwrite").objectStore("literals"),e=a.index("iteral").get(b);e.onsuccess=function(e){if(e=e.target.result){e.counter++;var h=e.id;e=a.put(e);e.onsuccess=function(a){d(h)};
e.onerror=function(a){d(null,Error("Error updating the literal data"+a.target.errorCode))}}else e=a.add({literal:b,counter:0}),e.onsuccess=function(a){d(a.target.result)},e.onerror=function(a){d(null,Error("Error inserting the literal data"+a.target.errorCode))}};e.onerror=function(a){d(null,Error("Error retrieving the literal data"+a.target.errorCode))}};Lexicon.prototype.resolveLiteral=function(b,d){var a=that.db.transaction(["literals"]).objectStore("literals").index("literal").get(b);a.onsuccess=
function(a){null!=a.target.result?d(a.target.result.id):d(-1)};a.onerror=function(a){d(null,Error("Error retrieving literal data "+a.target.errorCode))}};Lexicon.prototype.resolveLiteralCost=function(b,d){var a=that.db.transaction(["literals"]).objectStore("literals").index("literal").get(b);a.onsuccess=function(a){null!=a.target.result?d(a.target.result.cost):d(-1)};a.onerror=function(a){d(null,Error("Error retrieving literal data "+a.target.errorCode))}};Lexicon.prototype.parseLiteral=function(b){return n.prototype.parseLiteral(b)};
Lexicon.prototype.parseUri=function(b){return n.prototype.parseUri(b)};Lexicon.prototype.retrieve=function(b,d){var a=this;if(b===this.defaultGraphOid)d({token:"uri",value:this.defaultGraphUri,prefix:null,suffix:null,defaultGraph:!0});else{var e=a.db.transaction(["uris","literals","blanks"]);k.seq(function(d,h){var c=e.objectStore("uris").get(b);c.onsuccess=function(b){null!=b.target.result?h(null,a.parseUri(b.target.result.uri)):h(null,null)};c.onerror=function(a){h(Error("Error searching in URIs data "+
a.target.errorCode))}},function(d,h){if(null==d){var c=e.objectStore("literals").get(b);c.onsuccess=function(b){null!=b.target.result?h(null,a.parseLiteral(b.target.result.literal)):h(null,null)};c.onerror=function(a){h(Error("Error searching in Literals data "+a.target.errorCode))}}else h(null,d)},function(d,h){if(null==d){var c=e.objectStore("blanks").get(b);c.onsuccess=function(b){null!=b.target.result?h(null,a.parseLiteral({token:"blank",value:"_:"+b.target.result.id})):h(null,null)};c.onerror=
function(a){h(Error("Error searching in blanks data "+a.target.errorCode))}}else h(null,d)})(null,function(a,b){a?d(null,a):d(b)})}};Lexicon.prototype.clear=function(b){this.defaultGraphOid=0;this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph";this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri};var d=this.db.transaction(["uris","literals","blanks"],"readwrite"),a;k.seq(function(b){a=d.objectStore("uris").clear();a.onsuccess=function(){b()};
a.onerror=function(){b()}},function(b){a=d.objectStore("literals").clear();a.onsuccess=function(){b()};a.onerror=function(){b()}},function(b){a=d.objectStore("blanks").clear();a.onsuccess=function(){b()};a.onerror=function(){b()}})(function(){null!=b&&b()})};Lexicon.prototype.unregister=function(b,d,a){var e=this;k.seq(function(a){e._unregisterTerm(b.subject.token,d.subject,a)},function(a){e._unregisterTerm(b.predicate.token,d.predicate,a)},function(a){e._unregisterTerm(b.object.token,d.object,a)},
function(a){null!=b.graph?e._unregisterTerm(b.graph.token,d.graph,a):a()})(function(){a(!0)})};Lexicon.prototype._unregisterTerm=function(b,d,a){var e=this.db.transaction(["uris","literals","blanks"],"readwrite");if("uri"===b)if(d!=this.defaultGraphOid){var f=function(){var b=e.objectStore("knownGraphs").delete(d);b.onsuccess=function(){a()};b.onerror=function(){a()}};b=e.objectStore("uris").delete(d);b.onsuccess=f();b.onerror=f()}else a();else"literal"===b?(b=e.objectStore("literals").delete(d),
b.onsuccess=function(){a()},b.onerror=function(){a()}):"blank"===b?(b=e.objectStore("blanks").delete(d),b.onsuccess=function(){a()},b.onerror=function(){a()}):a()};z.exports={Lexicon:Lexicon}},{"./btree":46,"./lexicon":49,"./utils":62}],53:[function(q,z,u){var k=q("./utils");QuadBackend=function(n,b){var d=this;if(0!==arguments){k.registerIndexedDB(d);this.indexMap={};this.indices="SPOG GP OGS POG GSP OS".split(" ");this.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate",
"subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]};d.dbName=n.name||"rdfstorejs";var a=d.indexedDB.open(this.dbName+"_db",1);a.onerror=function(a){b(null,Error("Error opening IndexedDB: "+a.target.errorCode))};a.onsuccess=function(a){d.db=a.target.result;b(d)};a.onupgradeneeded=function(a){var b=a.target.result.createObjectStore(d.dbName,{keyPath:"SPOG"});
k.each(d.indices,function(a){"SPOG"!==a&&b.createIndex(a,a,{unique:!1})})}}};QuadBackend.prototype.index=function(n,b){var d=this;k.each(this.indices,function(a){n[a]=d._genMinIndexKey(n,a)});var a=d.db.transaction([d.dbName],"readwrite");a.oncomplete=function(a){};a.onerror=function(a){b(null,Error(a.target.statusCode))};a.objectStore(d.dbName).add(n).onsuccess=function(a){b(!0)}};QuadBackend.prototype.range=function(k,b){var d=this.db.transaction([this.dbName]).objectStore(this.dbName),a=this._indexForPattern(k),
e=this._genMinIndexKey(k,a),f=this._genMaxIndexKey(k,a),e=this.IDBKeyRange.bound(e,f,!1,!1),h=[];("SPOG"===a?d:d.index(a)).openCursor(e).onsuccess=function(a){(a=a.target.result)?(h.push(a.value),a.continue()):b(h)}};QuadBackend.prototype.search=function(k,b){var d=this.db.transaction([this.dbName]).objectStore(this.dbName),a=this._genMinIndexKey(k,"SPOG"),d=d.get(a);d.onerror=function(a){b(null,Error(a.target.statusCode))};d.onsuccess=function(a){b(null!=a.target.result)}};QuadBackend.prototype.delete=
function(k,b){var d=this._genMinIndexKey(k,"SPOG"),d=this.db.transaction([this.dbName],"readwrite").objectStore(this.dbName).delete(d);d.onsuccess=function(){b(!0)};d.onerror=function(a){b(null,Error(a.target.statusCode))}};QuadBackend.prototype._genMinIndexKey=function(n,b){return k.map(this.componentOrders[b],function(b){return"string"===typeof n[b]||null==n[b]?"-1":""+n[b]}).join(".")};QuadBackend.prototype._genMaxIndexKey=function(n,b){for(var d=this.componentOrders[b],a=[],e=!1,f=0;f<d.length;f++){var h=
n[d[f]];"string"===typeof h?(!1===e&&(e=!0,0<=f-1&&(a[f-1]+=1)),a[f]=-1):a[f]=h}return k.map(a,function(a){return""+a}).join(".")};QuadBackend.prototype._indexForPattern=function(n){n=n.indexKey;for(var b=0;b<this.indices.length;b++)for(var d=this.indices[b],a=this.componentOrders[d],e=0;e<a.length&&!1!==k.include(n,a[e]);e++)if(e==n.length-1)return d;return"SPOG"};QuadBackend.prototype.clear=function(k){var b;b=this.db.transaction([this.dbName],"readwrite").objectStore(this.dbName).clear();b.onsuccess=
function(){k()};b.onerror=function(){k()}};z.exports.QuadBackend=QuadBackend},{"./utils":62}],54:[function(q,z,u){var k=q("./quad_index").QuadIndex,n=q("./utils"),b=q("./utils");QuadBackend=function(b,a){if(0!==arguments){this.indexMap={};this.treeOrder=b.treeOrder;this.indices="SPOG GP OGS POG GSP OS".split(" ");this.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph",
"subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]};var e=this;n.eachSeries(this.indices,function(a,b){new k({order:e.treeOrder,componentOrder:e.componentOrders[a]},function(c){e.indexMap[a]=c;b()})},function(){a(e)})}};QuadBackend.prototype._indexForPattern=function(d){d=d.indexKey;for(var a=0;a<this.indices.length;a++)for(var e=this.indices[a],f=this.componentOrders[e],h=0;h<f.length&&!1!==b.include(d,f[h]);h++)if(h==d.length-1)return e;return"SPOG"};
QuadBackend.prototype.index=function(b,a){var e=this;n.eachSeries(this.indices,function(a,h){e.indexMap[a].insert(b,function(){h()})},function(){a(e)})};QuadBackend.prototype.range=function(b,a){var e=this._indexForPattern(b);this.indexMap[e].range(b,function(b){a(b)})};QuadBackend.prototype.search=function(b,a){this.indexMap.SPOG.search(b,function(b){a(null!=b)})};QuadBackend.prototype.delete=function(b,a){var e=this;n.eachSeries(this.indices,function(a,h){e.indexMap[a].delete(b,function(){h()})},
function(){a(e)})};QuadBackend.prototype.clear=function(b){var a=this;n.eachSeries(this.indices,function(b,d){new k({order:a.treeOrder,componentOrder:a.componentOrders[b]},function(h){a.indexMap[b]=h;d()})},function(){b(a)})};z.exports.QuadBackend=QuadBackend},{"./quad_index":55,"./utils":62}],55:[function(q,z,u){var k=q("./btree").Tree,n=q("./utils"),b=q("./utils");NodeKey=function(b,a){this.subject=b.subject;this.predicate=b.predicate;this.object=b.object;this.graph=b.graph;this.order=a};NodeKey.prototype.comparator=
function(b){for(var a=0;a<this.order.length;a++){var e=this.order[a];if(null==b[e])break;else{if(this[e]<b[e])return-1;if(this[e]>b[e])return 1}}return 0};Pattern=function(b){this.subject=b.subject;this.predicate=b.predicate;this.object=b.object;this.graph=b.graph;this.indexKey=[];this.keyComponents={};var a=[],e=[],f=this;n.forEach(["subject","predicate","object","graph"],function(b){"string"===typeof f[b]?(e.push(b),f.keyComponents[b]=null):(a.push(b),f.keyComponents[b]=f[b],f.indexKey.push(b))});
this.order=a.concat(e);this.key=new NodeKey(this.keyComponents,this.order)};QuadIndex=function(b,a){0!=arguments&&(this.componentOrder=b.componentOrder,k.call(this,b.order,function(b){b.comparator=function(a,d){for(var c=0;c<b.componentOrder.length;c++){var g=b.componentOrder[c],k=a[g],g=d[g];if(k<g)return-1;if(k>g)return 1}return 0};b.rangeComparator=function(a,d){for(var c=0;c<b.componentOrder.length;c++){var g=b.componentOrder[c];if(null==d[g]||null==a[g])break;else{if(a[g]<d[g])return-1;if(a[g]>
d[g])return 1}}return 0};a(b)}))};QuadIndex.prototype=n.create(k.prototype,{constructor:k});QuadIndex.prototype.insert=function(b,a){k.prototype.insert.call(this,b,null,function(b){a(b)})};QuadIndex.prototype.search=function(b,a){k.prototype.search.call(this,b,function(b){a(b)},!0)};QuadIndex.prototype.range=function(b,a){this._rangeTraverse(this,this.root,b,a)};QuadIndex.prototype._rangeTraverse=function(d,a,e,f){var h=e.key,c=[],g=[a];b.whilst(function(){return 0<g.length},function(a){for(var e=
g.shift(),f=0;f<e.numberActives&&-1===d.rangeComparator(e.keys[f].key,h);)f++;if(!0===e.isLeaf){for(var k=f;k<e.numberActives&&0===d.rangeComparator(e.keys[k].key,h);)c.push(e.keys[k].key),k++;a()}else d._diskRead(e.children[f],function(k){g.push(k);var v=f;b.whilst(function(){return v<e.numberActives&&0===d.rangeComparator(e.keys[v].key,h)},function(a){c.push(e.keys[v].key);v++;d._diskRead(e.children[v],function(b){g.push(b);a()})},function(){a()})})},function(){f(c)})};z.exports={QuadIndex:QuadIndex,
Pattern:Pattern,NodeKey:NodeKey}},{"./btree":46,"./utils":62}],56:[function(q,z,u){var k=q("./abstract_query_tree").AbstractQueryTree,n=q("./abstract_query_tree").NonSupportedSparqlFeatureError,b=q("./utils"),d=q("./quad_index"),a=q("./query_plan").QueryPlan,e=q("./query_filters").QueryFilters,f=q("./rdf_model"),h=q("./rdf_loader").RDFLoader,c=q("./graph_callbacks").CallbacksBackend,g=q("./utils"),m=q("./utils");QueryEngine=function(a){0!=arguments.length&&(this.backend=a.backend,this.lexicon=a.lexicon,
this.eventsOnBatchLoad=a.eventsOnBatchLoad||!1,this.defaultPrefixes={},this.abstractQueryTree=new k,this.rdfLoader=new h(a.communication),this.callbacksBackend=new c(this),this.customFns=a.customFns||{})};QueryEngine.prototype.setCustomFunctions=function(a){this.customFns=a};QueryEngine.prototype.registerNsInEnvironment=function(a,b){var c=[];null!=a&&null!=a.prefixes&&(c=a.prefixes);var e={},d;for(d in this.defaultPrefixes)e[d]=this.defaultPrefixes[d];for(d=0;d<c.length;d++){var f=c[d];"prefix"===
f.token&&(e[f.prefix]=f.local)}b.namespaces=e;b.base=null!=a&&a.base&&"object"===typeof a.base?a.base.value:null};QueryEngine.prototype.applyModifier=function(a,b){if("DISTINCT"==a){for(var c={},e=[],d=0;d<b.length;d++){var f=b[d],g="",h;for(h in f){var k=f[h];null==k?g=g+h+"null":"literal"==k.token?(null!=k.value&&(g+=k.value),null!=k.lang&&(g+=k.lang),null!=k.type&&(g+=k.type)):g=k.value?g+h+k.value:g+h+k}null==c[g]&&(e.push(f),c[g]=!0)}return e}return b};QueryEngine.prototype.applyLimitOffset=
function(a,b,c){if(null==b&&null==a)return c;null==a&&(a=0);b=null==b?c.length:a+b;return c.slice(a,b)};QueryEngine.prototype.applySingleOrderBy=function(a,b,c,d,f){var h=[],k=this;g.eachSeries(a,function(a,f){e.collect(a.expression,[b],c,d,k,function(a){h.push(a[0].value);f()})},function(){f({binding:b,value:h})})};QueryEngine.prototype.applyOrderBy=function(a,b,c,e,d){var f=this,h=[];null!=a&&0<a.length?g.eachSeries(b,function(b,d){f.applySingleOrderBy(a,b,c,e,function(a){h.push(a);d()})},function(){h.sort(function(b,
c){return f.compareFilteredBindings(b,c,a,e)});for(var b=[],c=0;c<h.length;c++)b.push(h[c].binding);d(b)}):d(b)};QueryEngine.prototype.compareFilteredBindings=function(a,b,c,d){for(var f=0;;){if(f==a.value.length)return 0;var g=c[f].direction;if(null==a.value[f]&&null==b.value[f])f++;else{if(null==a.value[f])a={value:!1};else if(null==b.value[f])a={value:!0};else if("blank"===a.value[f].token&&"blank"===b.value[f].token){f++;continue}else if("blank"===a.value[f].token)a={value:!1};else if("blank"===
b.value[f].token)a={value:!0};else if("uri"===a.value[f].token&&"uri"===b.value[f].token)if(!0==e.runEqualityFunction(a.value[f],b.value[f],[],this,d).value){f++;continue}else a=e.runTotalGtFunction(a.value[f],b.value[f],[]);else if("uri"===a.value[f].token)a={value:!1};else if("uri"===b.value[f].token)a={value:!0};else if("literal"===a.value[f].token&&"literal"===b.value[f].token&&null==a.value[f].type&&null==b.value[f].type)if(!0==e.runEqualityFunction(a.value[f],b.value[f],[],this,d).value){f++;
continue}else a=e.runTotalGtFunction(a.value[f],b.value[f],[]);else if("literal"===a.value[f].token&&null==a.value[f].type)a={value:!1};else if("literal"===b.value[f].token&&null==b.value[f].type)a={value:!0};else if(!0==e.runEqualityFunction(a.value[f],b.value[f],[],this,d).value){f++;continue}else a=e.runTotalGtFunction(a.value[f],b.value[f],[]);return!0==a.value?"ASC"===g?1:-1:"ASC"===g?-1:1}}};QueryEngine.prototype.removeDefaultGraphBindings=function(a,b){for(var c=[],e={},d=0;d<b.named.length;d++)e[b.named[d].oid]=
!0;for(d=0;d<b.implicit.length;d++)null==e[b.implicit[d].oid]&&c.push(b.implicit[d].oid);c=[];for(d=0;d<a.length;d++){var f=a[d],g=!1,h;for(h in f){for(var k=0;k<e.length;k++)if(f[h]===e[k]){g=!0;break}if(g)break}g||c.push(f)}return c};QueryEngine.prototype.aggregateBindings=function(a,b,c,d,f){this.copyDenormalizedBindings(b,d.outCache,function(b){for(var g={},h=0;h<a.length;h++){var k=e.runAggregator(a[h],b,this,c,d);a[h].alias?g[a[h].alias.value]=k:g[a[h].value.value]=k}f(g)})};QueryEngine.prototype.projectBindings=
function(a,b,c){if("*"===a[0].kind)return b;for(var d=[],f=0;f<b.length;f++){for(var g=b[f],h={},k=!0,m=0;m<a.length;m++)if("variable"==a[m].token&&"aliased"!=a[m].kind)h[a[m].value.value]=g[a[m].value.value];else if("variable"==a[m].token&&"aliased"==a[m].kind){var n=e.runFilter(a[m].expression,g,this,c,{blanks:{},outCache:{}});if(e.isEbvError(n)){k=!1;break}else h[a[m].alias.value]=n}!0===k&&d.push(h)}return d};QueryEngine.prototype.resolveNsInEnvironment=function(a,b){return b.namespaces[a]};QueryEngine.prototype.normalizeTerm=
function(a,c,e,d){if("uri"===a.token)a=b.lexicalFormBaseUri(a,c),null==a?d(null):e?this.lexicon.registerUri(a,d):this.lexicon.resolveUri(a,d);else if("literal"===a.token)a=b.lexicalFormLiteral(a,c),e?this.lexicon.registerLiteral(a,d):this.lexicon.resolveLiteral(a,d);else if("blank"===a.token){var f=a.value;a=c.blanks[f];null!=a?d(a):e?this.lexicon.registerBlank(function(a){c.blanks[f]=a;d(a)}):this.lexicon.resolveBlank(function(a){c.blanks[f]=a;d(a)})}else"var"===a.token?d(a.value):d(null)};QueryEngine.prototype.normalizeDatasets=
function(a,b,c){var e=this;g.eachSeries(a,function(a,c){a.value===e.lexicon.defaultGraphUri?(a.oid=e.lexicon.defaultGraphOid,c()):e.normalizeTerm(a,b,!1,function(b){null!=b&&(a.oid=b);c()})},function(){c(!0)})};QueryEngine.prototype.normalizeQuad=function(a,c,e,d){var f=null,h=null,k=null,m=null,n=this,q=!1;g.seq(function(d){if(null==a.graph||a.graph.value===n.lexicon.defaultGraphUri)m=0,d();else{var f=b.lexicalFormBaseUri(a.graph,c);n.normalizeTerm(a.graph,c,e,function(b){null!=b?(m=b,!0===e&&"var"!=
a.graph.token?n.lexicon.registerGraph(b,f,function(){d()}):d()):(q=!0,d())})}},function(b){!1===q?n.normalizeTerm(a.subject,c,e,function(a){null!=a?f=a:q=!0;b()}):b()},function(b){!1===q?n.normalizeTerm(a.predicate,c,e,function(a){null!=a?h=a:q=!0;b()}):b()},function(b){!1===q?n.normalizeTerm(a.object,c,e,function(a){null!=a?k=a:q=!0;b()}):b()})(function(){!0===q?d(null):d({subject:f,predicate:h,object:k,graph:m})})};QueryEngine.prototype.denormalizeBindingsList=function(a,b,c){var e=this,d=[];g.eachSeries(a,
function(a,c){e.denormalizeBindings(a,b,function(a){d.push(a);c()})},function(){c(d)})};QueryEngine.prototype.copyDenormalizedBindings=function(a,b,c){var e=this,d=[];g.eachSeries(a,function(a,c){var f={},h=m.keys(a);g.eachSeries(h,function(c,d){var g=a[c];if(null==g)f[c]=null,d();else if("object"===typeof g)f[c]=g,d();else{var h=b[g];null!=h?(f[c]=h,d()):e.lexicon.retrieve(g,function(a){b[g]=a;f[c]=a;d()})}},function(){d.push(f);c()})},function(){c(d)})};QueryEngine.prototype.denormalizeBindings=
function(a,b,c){var e=m.keys(a),d=b.outCache,f=this;g.eachSeries(e,function(c,e){var g=a[c];null==g?(a[c]=null,e()):null!=d[g]?(a[c]=d[g],e()):f.lexicon.retrieve(g,function(d){a[c]=d;"blank"===d.token&&(b.blanks[d.value]=g);e()})},function(){c(a)})};QueryEngine.prototype.execute=function(a,c,e,d){a=b.normalizeUnicodeLiterals(a);a=this.abstractQueryTree.parseQueryString(a);if(null==a)c(!1,"Error parsing query string");else if("query"===a.token&&"update"==a.kind){this.callbacksBackend.startGraphModification();
var f=this;this.executeUpdate(a,function(a,b){f.lexicon.updateAfterWrite&&f.lexicon.updateAfterWrite();a?(f.callbacksBackend.cancelGraphModification(),c(a,b)):f.callbacksBackend.endGraphModification(function(){c(a,b)})})}else"query"===a.token&&"query"==a.kind&&this.executeQuery(a,c,e,d)};QueryEngine.prototype.executeQuery=function(a,b,c,e){var d=a.units,g=this,h={blanks:{},outCache:{}};this.registerNsInEnvironment(a.prologue,h);var k=g.abstractQueryTree.parseExecutableUnit(d[0]);"select"===k.kind?
this.executeSelect(k,h,c,e,function(a,c){null==a?"object"===typeof c&&!0===c.denorm?b(null,c.bindings):g.denormalizeBindingsList(c,h,function(a){b(null,a)}):b(a)}):"ask"===k.kind?(k.projection=[{token:"variable",kind:"*"}],this.executeSelect(k,h,c,e,function(a,c){null==a?0<c.length?b(null,!0):b(null,!1):b(a)})):"construct"===k.kind&&(k.projection=[{token:"variable",kind:"*"}],g=this,this.executeSelect(k,h,c,e,function(a,c){null==a?g.denormalizeBindingsList(c,h,function(a){if(null!=a){var c=new f.Graph;
null==k.template&&(k.template={triplesContext:k.pattern});for(var e=1,d=[],l=0;l<a.length;l++){for(var m=a[l],v=0;v<d.length;v++)delete d[v].valuetmp;for(v=0;v<k.template.triplesContext.length;v++){for(var n=["subject","predicate","object"],q=k.template.triplesContext[v],A=0;A<n.length;A++){var u=n[A];if("blank"===q[u].token&&(!q[u].valuetmp||null==q[u].valuetmp)){var D="_:b"+e;e++;q[u].valuetmp=D;d.push(q[u])}}n=f.buildRDFResource(q.subject,m,g,h);A=f.buildRDFResource(q.predicate,m,g,h);q=f.buildRDFResource(q.object,
m,g,h);null!=n&&null!=A&&null!=q&&(A=new f.Triple(n,A,q),c.add(A))}}b(null,c)}else b(Error("Error denormalizing bindings."))}):b(a)}))};QueryEngine.prototype.executeSelect=function(a,b,c,e,d){if("select"===a.kind||"ask"===a.kind||"construct"===a.kind||"modify"===a.kind){var f=a.projection,h=a.dataset,k=a.modifier,m=a.limit,q=a.offset,n=a.order,t=this;if(null!=c||null!=e)h.implicit=c||[],h.named=e||[];null!=h.implicit&&0===h.implicit.length&&null!=h.named&&0===h.named.length&&h.implicit.push(this.lexicon.defaultGraphUriTerm);
t.normalizeDatasets(h.implicit.concat(h.named),b,function(){try{t.executeSelectUnit(f,h,a.pattern,b,function(c){if(null!=c){if(null!=a.group&&""===a.group){for(var e=!1,A=0;A<a.projection.length;A++)if(null!=a.projection[A].expression&&"aggregate"===a.projection[A].expression.expressionType){e=!0;break}!0===e&&(a.group="singleGroup")}a.group&&""!=a.group?t.checkGroupSemantics(a.group,f)?t.groupSolution(c,a.group,h,b,function(a){var c=[];g.eachSeries(a,function(a,e){t.aggregateBindings(f,a,h,b,function(a){c.push(a);
e()})},function(){d(null,{bindings:c,denorm:!0})})}):d(Error("Incompatible Group and Projection variables")):t.applyOrderBy(n,c,h,b,function(a){a=t.projectBindings(f,a,h);a=t.applyModifier(k,a);a=t.applyLimitOffset(q,m,a);a=t.removeDefaultGraphBindings(a,h);d(null,a)})}else d(Error("Error executing SELECT query."))})}catch(c){console.log(c),d(c)}})}else d(Error("Cannot execute "+a.kind+" query as a select query"))};QueryEngine.prototype.groupSolution=function(a,b,c,d,f){var h=[],k=[],m=!1,q=this;
"singleGroup"===b?f([a]):g.eachSeries(a,function(a,f){var l=!0;g.eachSeries(b,function(b,f){var g=null;if("var"===b.token)g=b.value,!1==m&&h.push(g),f();else if("aliased_expression"===b.token){g=b.alias.value;!1==m&&h.push(g);if("var"===b.expression.primaryexpression)a[b.alias.value]=a[b.expression.value.value];else{var k=q.copyDenormalizedBindings([a],d.outCache),k=e.runFilter(b.expression,k[0],q,c,d);e.isEbvError(k)?l=!1:(null!=k.value&&(k.value=""+k.value),a[b.alias.value]=k)}f()}else q.copyDenormalizedBindings([a],
d.outCache,function(c){c=e.runFilter(b,c[0],q,d);e.isEbvError(c)?l=!1:(a["groupCondition"+env._i]=c,g="groupCondition"+env._i,!1==m&&h.push(g));f()})},function(){!1==m&&(m=!0);!0===l&&k.push(a);f()})},function(){for(var a={},b=0;b<k.length;b++){for(var c=k[b],e="",d=0;d<h.length;d++)var g=c[h[d]],e="object"===typeof g?e+g.value:e+g;null==a[e]?a[e]=[c]:a[e].push(c)}var b=[],l;for(l in a)b.push(a[l]);f(b)})};QueryEngine.prototype.executeSelectUnit=function(a,b,c,d,f){if("BGP"===c.kind)this.executeAndBGP(a,
b,c,d,f);else if("UNION"===c.kind)this.executeUNION(a,b,c.value,d,f);else if("JOIN"===c.kind)this.executeJOIN(a,b,c,d,f);else if("LEFT_JOIN"===c.kind)this.executeLEFT_JOIN(a,b,c,d,f);else if("FILTER"===c.kind){var g=this;this.executeSelectUnit(a,b,c.value,d,function(a){null!=a?e.checkFilters(c,a,!1,b,d,g,f):f([])})}else if("EMPTY_PATTERN"===c.kind)f([]);else throw new n(c.kind);};QueryEngine.prototype.executeUNION=function(b,c,d,f,h){var k=d[0],m=d[1],q=null,n,u;if(2!=d.length)throw"SPARQL algebra UNION with more than two components";
var s=this;g.seq(function(a){try{s.executeSelectUnit(b,c,k,f,function(b){n=b;a()})}catch(e){q=e,a()}},function(a){if(null==q)try{s.executeSelectUnit(b,c,m,f,function(b){u=b;a()})}catch(e){q=e,a()}else a()})(function(){if(null!=q)h(q);else{var b=a.unionBindings(n,u);e.checkFilters(d,b,!1,c,f,s,h)}})};QueryEngine.prototype.executeAndBGP=function(b,c,d,f,g){var h=this;a.executeAndBGPsDPSize(d.value,c,this,f,function(a){null!=a?e.checkFilters(d,a,!1,c,f,h,g):g(null)})};QueryEngine.prototype.executeLEFT_JOIN=
function(b,c,d,f,h){var k=d.lvalue,m=d.rvalue,q=null,n=null,u=null,s=this,t,w;g.seq(function(a){try{s.executeSelectUnit(b,c,k,f,function(b){q=b;a()})}catch(e){u=e,a()}},function(a){if(null!=u)a();else try{s.executeSelectUnit(b,c,m,f,function(b){n=b;a()})}catch(e){u=e,a()}})(function(){if(null!=u)h(u);else{var b=a.leftOuterJoinBindings(q,n);e.checkFilters(d,b,!0,c,f,s,function(a){if(1<q.length&&1<n.length){var b=[],c={},e;for(e in q[0])c[e]=!0;for(e in n[0])!0!=c[e]&&b.push(e);t=[];w={};for(c=0;c<
a.length;c++)if(!0===a[c].__nullify__){for(var d=0;d<b.length;d++)a[c].bindings[b[d]]=null;var d=[],f=[];for(e in a[c].bindings)null!=a[c].bindings[e]&&(d.push(e+a[c].bindings[e]),d.sort(),f.push(d.join("")));if(null==w[d.join("")]){for(d=0;d<f.length;d++)w[f[d]]=!0;t.push(a[c].bindings)}}else for(e in t.push(a[c]),d=[],a[c])d.push(e+a[c][e]),d.sort(),w[d.join("")]=!0;h(t)}else h(a)})}})};QueryEngine.prototype.executeJOIN=function(b,c,d,f,h){var k=d.lvalue,m=d.rvalue,q=null,n=null,u=null,s=this;g.seq(function(a){try{s.executeSelectUnit(b,
c,k,f,function(b){q=b;a()})}catch(e){u=e,a()}},function(a){if(null!=u)a();else try{s.executeSelectUnit(b,c,m,f,function(b){n=b;a()})}catch(e){u=e,a()}})(function(){var b=null;if(null!=u)h(u);else if(0===q.length||0===n.length)h([]);else{var b={},g=[],l;for(l in q[0])b[l]=!1;for(l in n[0])!1===b[l]&&g.push(l);b=0==g.length?a.joinBindings(q,n):this.abstractQueryTree.treeWithUnion(k)||this.abstractQueryTree.treeWithUnion(m)?a.joinBindings(q,n):a.joinBindings2(g,q,n);e.checkFilters(d,b,!1,c,f,s,h)}})};
QueryEngine.prototype.rangeQuery=function(a,b,c){var e=this;e.normalizeQuad(a,b,!1,function(a){null!=a?e.backend.range(new d.Pattern(a),function(a){null==a||0==a.length?c([]):c(a)}):c(null)})};QueryEngine.prototype.executeUpdate=function(a,c){var e=a.units,d=this,f={blanks:{},outCache:{}};this.registerNsInEnvironment(a.prologue,f);for(var h=0;h<e.length;h++){var k=d.abstractQueryTree.parseExecutableUnit(e[h]);if("insertdata"===k.kind){var m=null;g.eachSeries(k.quads,function(a,b){null===m?d._executeQuadInsert(a,
f,function(a){null!=a&&(m=a);b()}):b()},function(){null===m?c(null,!0):c(m)})}else if("deletedata"===k.kind)m=null,g.eachSeries(k.quads,function(a,b){null===m?d._executeQuadDelete(a,f,function(a){null!=a&&(m=a);b()}):b()},function(){null===m?c(null,!0):c(m)});else if("modify"===k.kind)this._executeModifyQuery(k,f,c);else if("create"===k.kind)c(!0);else if("load"===k.kind){var q={uri:b.lexicalFormBaseUri(k.sourceGraph,f)};null!=k.destinyGraph&&(q={uri:b.lexicalFormBaseUri(k.destinyGraph,f)});d=this;
this.rdfLoader.load(k.sourceGraph.value,q,function(a,b){a?c(!1,"error batch loading quads"):d.batchLoad(b,function(a){c(null!=a,a||"error batch loading quads")})})}else if("drop"===k.kind)this._executeClearGraph(k.destinyGraph,f,c);else if("clear"===k.kind)this._executeClearGraph(k.destinyGraph,f,c);else throw Error("not supported execution unit");}};QueryEngine.prototype.batchLoad=function(a,b){var e=0,f={},h=this;this.eventsOnBatchLoad&&this.callbacksBackend.startGraphModification();var k=function(a,
b,c,e){var d;a[b].uri||"uri"===a[b].token?h.lexicon.registerUri(a[b].uri||a[b].value,function(d){null!=a[b].uri&&(a[b]={token:"uri",value:a[b].uri},delete a[b].uri);c[b]=d;e()}):a[b].literal||"literal"===a[b].token?h.lexicon.registerLiteral(a[b].literal||a[b].value,function(d){null!=a[b].literal&&(a[b]=h.lexicon.parseLiteral(a[b].literal),delete a[b].literal);c[b]=d;e()}):(d=f[a[b].blank||a[b].value],null==d?h.lexicon.registerBlank(function(d){f[a[b].blank||a[b].value]=d;null==a[b].token&&(a[b].token=
"blank",a[b].value=a[b].blank,delete a[b].blank);c[b]=d;e()}):(null==a[b].token&&(a[b].token="blank",a[b].value=a[b].blank,delete a[b].blank),c[b]=d,e()))};g.eachSeries(a,function(a,b){var f={};g.eachSeries(["subject","predicate","object","graph"],function(b,c){k(a,b,f,c)},function(){var g=a;a=f;var k=new d.NodeKey(a);h.backend.search(k,function(d){d?b():h.backend.index(k,function(d){!0==d&&(h.eventsOnBatchLoad&&h.callbacksBackend.nextGraphModification(c.added,[g,a]),e+=1);b()})})})},function(){null!=
h.lexicon.updateAfterWrite&&h.lexicon.updateAfterWrite();var a=function(){b(e)};h.eventsOnBatchLoad?h.callbacksBackend.endGraphModification(a()):a()})};QueryEngine.prototype._executeModifyQuery=function(a,b,c){var e=this,d=!0,f=Error("Error executing modify query"),h=null,k=["subject","predicate","object","graph"];a.insert=null==a.insert?[]:a.insert;a.delete=null==a.delete?[]:a.delete;g.seq(function(c){var g=[],k=[];null!=a.with&&g.push(a.with);if(null!=a.using)for(var k=[],m=0;m<a.using.length;m++){var q=
a.using[m];"named"===q.kind?k.push(q.uri):g.push(q.uri)}a.dataset={};a.projection=[{token:"variable",kind:"*"}];e.executeSelect(a,b,g,k,function(a,g){if(a)return f=a,d=!1,c();e.denormalizeBindingsList(g,b,function(a){null!=a?h=a:(f=Error("Error denormalizing bindings list"),d=!1);c()})})},function(c){var f=a.with;if(d){for(var m=[],q=0;q<a.delete.length;q++)for(var n=a.delete[q],u=0;u<h.length;u++){for(var A={},z=h[u],G=0;G<k.length;G++){var I=k[G];"graph"==I&&null==n[I]?A.graph=f:A[I]="var"===n[I].token?
z[n[I].value]:n[I]}m.push(A)}g.eachSeries(m,function(a,c){e._executeQuadDelete(a,b,function(){c()})},function(){c()})}else c()},function(c){var f=a.with;if(d){for(var m=[],q=0;q<a.insert.length;q++)for(var n=a.insert[q],u=0;u<h.length;u++){for(var A={},z=h[u],G=0;G<k.length;G++){var I=k[G];"graph"==I&&null==n[I]?A.graph=f:A[I]="var"===n[I].token?z[n[I].value]:n[I]}m.push(A)}g.eachSeries(m,function(a,c){e._executeQuadInsert(a,b,function(){c()})},function(){c()})}else c()})(function(){d?c(null):c(f)})};
QueryEngine.prototype._executeQuadInsert=function(a,b,e){var f=this,h,k=!1,m=null;g.seq(function(c){f.normalizeQuad(a,b,!0,function(a){null!=a?h=a:(k=!0,m="Error normalizing quad.");c()})},function(b){if(!1===k){var e=new d.NodeKey(h);f.backend.search(e,function(d){!0===d?b():f.backend.index(e,function(){f.callbacksBackend.nextGraphModification(c.added,[a,h]);b()})})}else b()})(function(){k?e(Error(m)):e(null,!0)})};QueryEngine.prototype._executeQuadDelete=function(a,b,e){var f=this,h,k=!1,m,q;g.seq(function(c){f.normalizeQuad(a,
b,!0,function(a){null!=a?h=a:(k=!0,m="Error normalizing quad.");c()})},function(a){!1===k?(q=new d.NodeKey(h),f.backend.delete(q,function(){a()})):a()},function(b){!1===k?f.lexicon.unregister(a,q,function(){f.callbacksBackend.nextGraphModification(c.deleted,[a,h]);b()}):b()})(function(){k?e(Error(m)):e(null,!0)})};QueryEngine.prototype._executeClearGraph=function(a,c,e){var d=this;"default"===a?this.execute("DELETE { ?s ?p ?o } WHERE { ?s ?p ?o }",e):"named"===a?d.lexicon.registeredGraphs(!0,function(a){if(null!=
a){var b=!1;g.eachSeries(a,function(a,c){b?c():d.execute("DELETE { GRAPH <"+a+"> { ?s ?p ?o } } WHERE { GRAPH <"+a+"> { ?s ?p ?o } }",function(a,e){b=!a;c()})},function(){e(!b)})}else e(!1,"Error deleting named graphs")}):"all"===a?(d=this,this.execute("CLEAR DEFAULT",function(a,b){a?e(!1,b):d.execute("CLEAR NAMED",e)})):"uri"==a.token?(a=b.lexicalFormBaseUri(a,c),null!=a?(this.callbacksBackend.ongoingModification=!0,this.execute("DELETE { GRAPH <"+a+"> { ?s ?p ?o } } WHERE { GRAPH <"+a+"> { ?s ?p ?o } }",
function(a){d.callbacksBackend.ongoingModification=!1;e(a)})):e(!1,"wrong graph URI")):e(!1,"wrong graph URI")};QueryEngine.prototype.checkGroupSemantics=function(a,b){if("singleGroup"===a)return!0;for(var c={},e=0;e<a.length;e++){var d=a[e];"var"===d.token?c[d.value]=!0:"aliased_expression"===d.token&&(c[d.alias.value]=!0)}for(e=0;e<b.length;e++)if(d=b[e],"var"===d.kind){if(null==c[d.value.value])return!1}else if("aliased"===d.kind&&d.expression&&"var"===d.expression.primaryexpression&&null==c[d.expression.value.value])return!1;
return!0};QueryEngine.prototype.computeCosts=function(a,b,c){for(var e=0;e<a.length;e++)a[e]._cost=this.quadCost(a[e],b);c(a)};QueryEngine.prototype.quadCost=function(a,b){return 1};QueryEngine.prototype.registerDefaultNamespace=function(a,b){this.defaultPrefixes[a]=b};z.exports={QueryEngine:QueryEngine}},{"./abstract_query_tree":45,"./graph_callbacks":47,"./quad_index":55,"./query_filters":57,"./query_plan":58,"./rdf_loader":59,"./rdf_model":60,"./utils":62}],57:[function(q,z,u){var k=q("./utils"),
n=q("./utils");QueryFilters={checkFilters:function(b,d,a,e,f,h,c){var g=[];b.filter&&"function"!==typeof b.filter&&(g=b.filter);var k=[];if(null==g||0===g.length||null!=b.length)return c(d);n.eachSeries(g,function(b,c){QueryFilters.run(b.value,d,a,e,f,h,function(a){var b=[];n.eachSeries(a,function(a,c){null!=a.__nullify__?k.push(a):b.push(a);c()},function(){d=b;c()})})},function(){c(d.concat(k))})},boundVars:function(b){if(null!=b.expressionType){var d=b.expressionType;if("relationalexpression"==
d)return d=b.op2,QueryFilters.boundVars(b.op1)+QueryFilters.boundVars(d);if("conditionalor"==d||"conditionaland"==d){for(var a=[],d=0;d<b.operands;d++)a=a.concat(QueryFilters.boundVars(b.operands[d]));return a}if("builtincall"==d){if(null==b.args)return[];a=[];for(d=0;d<b.args.length;d++)a=a.concat(QueryFilters.boundVars(b.args[d]));return a}if("multiplicativeexpression"==d){a=QueryFilters.boundVars(b.factor);for(d=0;d<b.factors.length;d++)a=a.concat(QueryFilters.boundVars(b.factors[d].expression));
return a}if("additiveexpression"==d){a=QueryFilters.boundVars(b.summand);for(d=0;d<b.summands.length;d++)a=a.concat(QueryFilters.boundVars(b.summands[d].expression));return a}if("regex"==d)return a=QueryFilters.boundVars(b.expression1),a.concat(QueryFilters.boundVars(b.expression2));if("unaryexpression"==d)return QueryFilters.boundVars(b.expression);if("atomic"==d)return"var"==b.primaryexpression?[b.value]:[]}else throw console.log("ERROR"),console.log(b),"Cannot find bound expressions in a no expression token";
},run:function(b,d,a,e,f,h,c){h.copyDenormalizedBindings(d,f.outCache,function(g){for(var k=[],l=0;l<d.length;l++){var r=QueryFilters.runFilter(b,g[l],h,e,f),r=QueryFilters.ebv(r);QueryFilters.isEbvError(r)?a&&(r={__nullify__:!0,bindings:d[l]},k.push(r)):!0===r?k.push(d[l]):a&&(r={__nullify__:!0,bindings:d[l]},k.push(r))}c(k)})},collect:function(b,d,a,e,f,h){f.copyDenormalizedBindings(d,e.outCache,function(c){for(var g=[],k=0;k<c.length;k++){var l=QueryFilters.runFilter(b,c[k],f,a,e);g.push({binding:d[k],
value:l})}return h(g)})},runDistinct:function(b,d){},runAggregator:function(b,d,a,e,f){if(null==d||0===d.length)return QueryFilters.ebvError();if("variable"===b.token&&"var"==b.kind)return d[0][b.value.value];if("variable"===b.token&&"aliased"===b.kind){if("atomic"===b.expression.expressionType&&"var"===b.expression.primaryexpression)return d[0][b.expression.value.value];if("aggregate"===b.expression.expressionType){if("max"===b.expression.aggregateType){for(var h=null,c=0;c<d.length;c++){var g=d[c],
g=QueryFilters.runFilter(b.expression.expression,g,a,e,f);QueryFilters.isEbvError(g)||(null===h?h=g:!0===QueryFilters.runLtFunction(h,g).value&&(h=g))}return null===h?QueryFilters.ebvError():h}if("min"===b.expression.aggregateType){h=null;for(c=0;c<d.length;c++)g=d[c],g=QueryFilters.runFilter(b.expression.expression,g,a,e,f),QueryFilters.isEbvError(g)||(null===h?h=g:!0===QueryFilters.runGtFunction(h,g).value&&(h=g));return null===h?QueryFilters.ebvError():h}if("count"===b.expression.aggregateType){var h=
{},m=0;if("*"===b.expression.expression)if(null!=b.expression.distinct&&""!=b.expression.distinct)for(c=0;c<d.length;c++){var g=d[c],l=k.hashTerm(g);null==h[l]&&(h[l]=!0,m++)}else m=d.length;else for(c=0;c<d.length;c++)g=d[c],g=QueryFilters.runFilter(b.expression.expression,g,a,e,f),QueryFilters.isEbvError(g)||(null!=b.expression.distinct&&""!=b.expression.distinct?(l=k.hashTerm(g),null==h[l]&&(h[l]=!0,m++)):m++);return{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:""+m}}if("avg"===
b.expression.aggregateType){for(var h={},r={token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:"0"},c=m=0;c<d.length;c++)g=d[c],g=QueryFilters.runFilter(b.expression.expression,g,a,e,f),QueryFilters.isEbvError(g)||(null!=b.expression.distinct&&""!=b.expression.distinct?(l=k.hashTerm(g),null==h[l]&&(h[l]=!0,QueryFilters.isNumeric(g)&&(r=QueryFilters.runSumFunction(r,g),m++))):QueryFilters.isNumeric(g)&&(r=QueryFilters.runSumFunction(r,g),m++));b=QueryFilters.runDivFunction(r,{token:"literal",
type:"http://www.w3.org/2001/XMLSchema#integer",value:""+m});b.value=""+b.value;return b}if("sum"===b.expression.aggregateType){h={};r={token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:"0"};for(c=0;c<d.length;c++)g=d[c],g=QueryFilters.runFilter(b.expression.expression,g,a,e,f),QueryFilters.isEbvError(g)||(null!=b.expression.distinct&&""!=b.expression.distinct?(l=k.hashTerm(g),null==h[l]&&(h[l]=!0,QueryFilters.isNumeric(g)&&(r=QueryFilters.runSumFunction(r,g)))):QueryFilters.isNumeric(g)&&
(r=QueryFilters.runSumFunction(r,g)));r.value=""+r.value;return r}return g=QueryFilters.runFilter(aggregate.expression,d[0],e,{blanks:{},outCache:{}})}}},runFilter:function(b,d,a,e,f){if(null!=b.expressionType){var h=b.expressionType;if("relationalexpression"==h){var h=QueryFilters.runFilter(b.op1,d,a,e,f),c=QueryFilters.runFilter(b.op2,d,a,e,f);return QueryFilters.runRelationalFilter(b,h,c,d,a,e,f)}if("conditionalor"==h)return QueryFilters.runOrFunction(b,d,a,e,f);if("conditionaland"==h)return QueryFilters.runAndFunction(b,
d,a,e,f);if("additiveexpression"==h)return QueryFilters.runAddition(b.summand,b.summands,d,a,e,f);if("builtincall"==h)return QueryFilters.runBuiltInCall(b.builtincall,b.args,d,a,e,f);if("multiplicativeexpression"==h)return QueryFilters.runMultiplication(b.factor,b.factors,d,a,e,f);if("unaryexpression"==h)return QueryFilters.runUnaryExpression(b.unaryexpression,b.expression,d,a,e,f);if("irireforfunction"==h)return QueryFilters.runIriRefOrFunction(b.iriref,b.args,d,a,e,f);if("regex"==h)return QueryFilters.runRegex(b.text,
b.pattern,b.flags,d,a,e,f);if("custom"==h)return QueryFilters.runBuiltInCall(b.name,b.args,d,a,e,f);if("atomic"==h){if("var"==b.primaryexpression)return d[b.value.value];"object"==typeof b.value&&null!=b.value.type&&"object"==typeof b.value.type&&(b.value.type=k.lexicalFormBaseUri(b.value.type,f));return b.value}throw"Unknown filter expression type";}throw"Cannot find bound expressions in a no expression token";},isRDFTerm:function(b){return null==b?!1:b.token&&"literal"==b.token||b.token&&"uri"==
b.token||b.token&&"blank"==b.token?!0:!1},RDFTermEquality:function(b,d,a,e){return"literal"===b.token&&"literal"===d.token?b.lang==d.lang&&b.type==d.type&&b.value==d.value?!0:null!=b.type&&null!=d.type?QueryFilters.ebvError():QueryFilters.isSimpleLiteral(b)&&null!=d.type?QueryFilters.ebvError():QueryFilters.isSimpleLiteral(d)&&null!=b.type?QueryFilters.ebvError():!1:"uri"===b.token&&"uri"===d.token?k.lexicalFormBaseUri(b,e)==k.lexicalFormBaseUri(d,e):"blank"===b.token&&"blank"===d.token?b.value==
d.value:!1},isInteger:function(b){return null==b?!1:"literal"===b.token?"http://www.w3.org/2001/XMLSchema#integer"==b.type||"http://www.w3.org/2001/XMLSchema#decimal"==b.type||"http://www.w3.org/2001/XMLSchema#double"==b.type||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==b.type||"http://www.w3.org/2001/XMLSchema#negativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#long"==b.type||"http://www.w3.org/2001/XMLSchema#int"==b.type||"http://www.w3.org/2001/XMLSchema#short"==b.type||"http://www.w3.org/2001/XMLSchema#byte"==
b.type||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedLong"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedInt"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedShort"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedByte"==b.type||"http://www.w3.org/2001/XMLSchema#positiveInteger"==b.type?!0:!1:!1},isFloat:function(b){return null==b?!1:"literal"===b.token?"http://www.w3.org/2001/XMLSchema#float"==b.type?!0:!1:!1},isDecimal:function(b){return null==
b?!1:"literal"===b.token?"http://www.w3.org/2001/XMLSchema#decimal"==b.type?!0:!1:!1},isDouble:function(b){return null==b?!1:"literal"===b.token?"http://www.w3.org/2001/XMLSchema#double"==b.type?!0:!1:!1},isNumeric:function(b){return null==b?!1:"literal"===b.token?"http://www.w3.org/2001/XMLSchema#integer"==b.type||"http://www.w3.org/2001/XMLSchema#decimal"==b.type||"http://www.w3.org/2001/XMLSchema#float"==b.type||"http://www.w3.org/2001/XMLSchema#double"==b.type||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==
b.type||"http://www.w3.org/2001/XMLSchema#negativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#long"==b.type||"http://www.w3.org/2001/XMLSchema#int"==b.type||"http://www.w3.org/2001/XMLSchema#short"==b.type||"http://www.w3.org/2001/XMLSchema#byte"==b.type||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedLong"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedInt"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedShort"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedByte"==
b.type||"http://www.w3.org/2001/XMLSchema#positiveInteger"==b.type?!0:!1:!1},isSimpleLiteral:function(b){return b&&"literal"==b.token?null==b.type&&null==b.lang?!0:!1:!1},isXsdType:function(b,d){return d&&"literal"==d.token?d.type=="http://www.w3.org/2001/XMLSchema#"+b:!1},ebv:function(b){if(null==b||QueryFilters.isEbvError(b))return QueryFilters.ebvError();if(b.token&&"literal"===b.token){if("http://www.w3.org/2001/XMLSchema#integer"==b.type||"http://www.w3.org/2001/XMLSchema#decimal"==b.type||"http://www.w3.org/2001/XMLSchema#double"==
b.type||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==b.type||"http://www.w3.org/2001/XMLSchema#negativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#long"==b.type||"http://www.w3.org/2001/XMLSchema#int"==b.type||"http://www.w3.org/2001/XMLSchema#short"==b.type||"http://www.w3.org/2001/XMLSchema#byte"==b.type||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedLong"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedInt"==b.type||
"http://www.w3.org/2001/XMLSchema#unsignedShort"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedByte"==b.type||"http://www.w3.org/2001/XMLSchema#positiveInteger"==b.type){var d=parseFloat(b.value);return isNaN(d)?!1:0!=parseFloat(b.value)}return"http://www.w3.org/2001/XMLSchema#boolean"===b.type?"true"===b.value||!0===b.value||"True"===b.value:"http://www.w3.org/2001/XMLSchema#string"===b.type?""!=b.value:"http://www.w3.org/2001/XMLSchema#dateTime"===b.type?null!=new Date(b.value):QueryFilters.isEbvError(b)?
b:null==b.type?""!=b.value?!0:!1:QueryFilters.ebvError()}return!0===b.value}};QueryFilters.effectiveBooleanValue=QueryFilters.ebv;QueryFilters.ebvTrue=function(){return{token:"literal",type:"http://www.w3.org/2001/XMLSchema#boolean",value:!0}};QueryFilters.ebvFalse=function(){return{token:"literal",type:"http://www.w3.org/2001/XMLSchema#boolean",value:!1}};QueryFilters.ebvError=function(){return{token:"literal",type:"https://github.com/antoniogarrote/js-tools/types#error",value:null}};QueryFilters.isEbvError=
function(b){return"object"==typeof b&&null!=b?"https://github.com/antoniogarrote/js-tools/types#error"===b.type:!1};QueryFilters.ebvBoolean=function(b){return QueryFilters.isEbvError(b)?b:!0===b?QueryFilters.ebvTrue():QueryFilters.ebvFalse()};QueryFilters.runRelationalFilter=function(b,d,a,e,f,h,c){b=b.operator;if("="===b)return QueryFilters.runEqualityFunction(d,a,e,f,h,c);if("!="===b)return d=QueryFilters.runEqualityFunction(d,a,e,f,h,c),QueryFilters.isEbvError(d)||(d.value=!d.value),d;if("<"===
b)return QueryFilters.runLtFunction(d,a,e);if(">"===b)return QueryFilters.runGtFunction(d,a,e);if("<="===b)return QueryFilters.runLtEqFunction(d,a,e);if(">="===b)return QueryFilters.runGtEqFunction(d,a,e);throw"Error applying relational filter, unknown operator";};QueryFilters.effectiveTypeValue=function(b){if("literal"==b.token){if("http://www.w3.org/2001/XMLSchema#integer"==b.type)return b=parseInt(b.value);if("http://www.w3.org/2001/XMLSchema#decimal"==b.type||"http://www.w3.org/2001/XMLSchema#float"==
b.type||"http://www.w3.org/2001/XMLSchema#double"==b.type||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==b.type)return b=parseFloat(b.value);if("http://www.w3.org/2001/XMLSchema#negativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#long"==b.type||"http://www.w3.org/2001/XMLSchema#int"==b.type||"http://www.w3.org/2001/XMLSchema#short"==b.type||"http://www.w3.org/2001/XMLSchema#byte"==b.type||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedLong"==
b.type||"http://www.w3.org/2001/XMLSchema#unsignedInt"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedShort"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedByte"==b.type||"http://www.w3.org/2001/XMLSchema#positiveInteger"==b.type)return b=parseInt(b.value);if("http://www.w3.org/2001/XMLSchema#date"==b.type||"http://www.w3.org/2001/XMLSchema#dateTime"==b.type)try{return k.parseISO8601(b.value)}catch(d){return null}else return"http://www.w3.org/2001/XMLSchema#boolean"==b.type?!0===b.value||
"true"===b.value||"1"===b.value||1===b.value||!0===b.value?!0:!1===b.value||"false"===b.value||"0"===b.value||0===b.value||!1===b.value?!1:void 0:"http://www.w3.org/2001/XMLSchema#string"==b.type?null===b.value||void 0===b.value?void 0:""+b.value:b.value}else throw console.log("not implemented yet"),console.log(b),"value not supported in operations yet";};QueryFilters.runOrFunction=function(b,d,a,e,f){for(var h=null,c=0;c<b.operands.length;c++){var g=QueryFilters.runFilter(b.operands[c],d,a,e,f);
!1==QueryFilters.isEbvError(g)&&(g=QueryFilters.ebv(g));null==h?h=g:QueryFilters.isEbvError(g)?h=QueryFilters.isEbvError(h)?QueryFilters.ebvError():!0===h?!0:QueryFilters.ebvError():!0===g?h=!0:QueryFilters.isEbvError(h)&&(h=QueryFilters.ebvError())}return QueryFilters.ebvBoolean(h)};QueryFilters.runAndFunction=function(b,d,a,e,f){for(var h=null,c=0;c<b.operands.length;c++){var g=QueryFilters.runFilter(b.operands[c],d,a,e,f);!1==QueryFilters.isEbvError(g)&&(g=QueryFilters.ebv(g));null==h?h=g:QueryFilters.isEbvError(g)?
h=QueryFilters.isEbvError(h)?QueryFilters.ebvError():!0===h?QueryFilters.ebvError():!1:!0===g?QueryFilters.isEbvError(h)&&(h=QueryFilters.ebvError()):h=!1}return QueryFilters.ebvBoolean(h)};QueryFilters.runEqualityFunction=function(b,d,a,e,f,h){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(d))return QueryFilters.ebvError();if(QueryFilters.isNumeric(b)&&QueryFilters.isNumeric(d))return a=QueryFilters.effectiveTypeValue(b),f=QueryFilters.effectiveTypeValue(d),isNaN(a)||isNaN(f)?QueryFilters.ebvBoolean(QueryFilters.RDFTermEquality(b,
d,e,h)):QueryFilters.ebvBoolean(a==f);if((QueryFilters.isSimpleLiteral(b)||QueryFilters.isXsdType("string",b))&&(QueryFilters.isSimpleLiteral(d)||QueryFilters.isXsdType("string",d))||QueryFilters.isXsdType("boolean",b)&&QueryFilters.isXsdType("boolean",d))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(b)==QueryFilters.effectiveTypeValue(d));if((QueryFilters.isXsdType("dateTime",b)||QueryFilters.isXsdType("date",b))&&(QueryFilters.isXsdType("dateTime",d)||QueryFilters.isXsdType("date",
d))){if(QueryFilters.isXsdType("dateTime",b)&&QueryFilters.isXsdType("date",d)||QueryFilters.isXsdType("date",b)&&QueryFilters.isXsdType("dateTime",d))return QueryFilters.ebvFalse();b=k.compareDateComponents(b.value,d.value);return null!=b?0==b?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}return QueryFilters.isRDFTerm(b)&&QueryFilters.isRDFTerm(d)?QueryFilters.ebvBoolean(QueryFilters.RDFTermEquality(b,d,e,h)):QueryFilters.ebvFalse()};QueryFilters.runGtFunction=function(b,
d,a){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(d))return QueryFilters.ebvError();if(QueryFilters.isNumeric(b)&&QueryFilters.isNumeric(d)||QueryFilters.isSimpleLiteral(b)&&QueryFilters.isSimpleLiteral(d)||QueryFilters.isXsdType("string",b)&&QueryFilters.isXsdType("string",d)||QueryFilters.isXsdType("boolean",b)&&QueryFilters.isXsdType("boolean",d))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(b)>QueryFilters.effectiveTypeValue(d));if((QueryFilters.isXsdType("dateTime",
b)||QueryFilters.isXsdType("date",b))&&(QueryFilters.isXsdType("dateTime",d)||QueryFilters.isXsdType("date",d))){if(QueryFilters.isXsdType("dateTime",b)&&QueryFilters.isXsdType("date",d)||QueryFilters.isXsdType("date",b)&&QueryFilters.isXsdType("dateTime",d))return QueryFilters.ebvFalse();b=k.compareDateComponents(b.value,d.value);return null!=b?1==b?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}return QueryFilters.ebvFalse()};QueryFilters.runTotalGtFunction=function(b,d){return QueryFilters.isEbvError(b)||
QueryFilters.isEbvError(d)?QueryFilters.ebvError():QueryFilters.isNumeric(b)&&QueryFilters.isNumeric(d)||QueryFilters.isSimpleLiteral(b)&&QueryFilters.isSimpleLiteral(d)||QueryFilters.isXsdType("string",b)&&QueryFilters.isSimpleLiteral("string",d)||QueryFilters.isXsdType("boolean",b)&&QueryFilters.isSimpleLiteral("boolean",d)||QueryFilters.isXsdType("dateTime",b)&&QueryFilters.isSimpleLiteral("dateTime",d)?QueryFilters.runGtFunction(b,d,[]):b.token&&"uri"===b.token&&d.token&&"uri"===d.token?QueryFilters.ebvBoolean(b.value>
d.value):b.token&&"literal"===b.token&&d.token&&"literal"===d.token?QueryFilters.ebvBoolean(""+b.value+b.type+b.lang>""+d.value+d.type+d.lang):b.token&&"blank"===b.token&&d.token&&"blank"===d.token?QueryFilters.ebvBoolean(b.value>d.value):b.value&&d.value?QueryFilters.ebvBoolean(b.value>d.value):QueryFilters.ebvTrue()};QueryFilters.runLtFunction=function(b,d,a){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(d))return QueryFilters.ebvError();if(QueryFilters.isNumeric(b)&&QueryFilters.isNumeric(d)||
QueryFilters.isSimpleLiteral(b)&&QueryFilters.isSimpleLiteral(d)||QueryFilters.isXsdType("string",b)&&QueryFilters.isXsdType("string",d)||QueryFilters.isXsdType("boolean",b)&&QueryFilters.isXsdType("boolean",d))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(b)<QueryFilters.effectiveTypeValue(d));if((QueryFilters.isXsdType("dateTime",b)||QueryFilters.isXsdType("date",b))&&(QueryFilters.isXsdType("dateTime",d)||QueryFilters.isXsdType("date",d))){if(QueryFilters.isXsdType("dateTime",
b)&&QueryFilters.isXsdType("date",d)||QueryFilters.isXsdType("date",b)&&QueryFilters.isXsdType("dateTime",d))return QueryFilters.ebvFalse();b=k.compareDateComponents(b.value,d.value);return null!=b?-1==b?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}return QueryFilters.ebvFalse()};QueryFilters.runGtEqFunction=function(b,d,a){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(d))return QueryFilters.ebvError();if(QueryFilters.isNumeric(b)&&QueryFilters.isNumeric(d)||QueryFilters.isSimpleLiteral(b)&&
QueryFilters.isSimpleLiteral(d)||QueryFilters.isXsdType("string",b)&&QueryFilters.isXsdType("string",d)||QueryFilters.isXsdType("boolean",b)&&QueryFilters.isXsdType("boolean",d))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(b)>=QueryFilters.effectiveTypeValue(d));if((QueryFilters.isXsdType("dateTime",b)||QueryFilters.isXsdType("date",b))&&(QueryFilters.isXsdType("dateTime",d)||QueryFilters.isXsdType("date",d))){if(QueryFilters.isXsdType("dateTime",b)&&QueryFilters.isXsdType("date",
d)||QueryFilters.isXsdType("date",b)&&QueryFilters.isXsdType("dateTime",d))return QueryFilters.ebvFalse();b=k.compareDateComponents(b.value,d.value);return null!=b?-1!=b?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}return QueryFilters.ebvFalse()};QueryFilters.runLtEqFunction=function(b,d,a){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(d))return QueryFilters.ebvError();if(QueryFilters.isNumeric(b)&&QueryFilters.isNumeric(d)||QueryFilters.isSimpleLiteral(b)&&QueryFilters.isSimpleLiteral(d)||
QueryFilters.isXsdType("string",b)&&QueryFilters.isXsdType("string",d)||QueryFilters.isXsdType("boolean",b)&&QueryFilters.isXsdType("boolean",d))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(b)<=QueryFilters.effectiveTypeValue(d));if((QueryFilters.isXsdType("dateTime",b)||QueryFilters.isXsdType("date",b))&&(QueryFilters.isXsdType("dateTime",d)||QueryFilters.isXsdType("date",d))){if(QueryFilters.isXsdType("dateTime",b)&&QueryFilters.isXsdType("date",d)||QueryFilters.isXsdType("date",
b)&&QueryFilters.isXsdType("dateTime",d))return QueryFilters.ebvFalse();b=k.compareDateComponents(b.value,d.value);return null!=b?1!=b?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}return QueryFilters.ebvFalse()};QueryFilters.runAddition=function(b,d,a,e,f,h){var c=QueryFilters.runFilter(b,a,e,f,h);if(QueryFilters.isEbvError(c))return QueryFilters.ebvError();b=c;if(QueryFilters.isNumeric(c)){for(c=0;c<d.length;c++){var g=QueryFilters.runFilter(d[c].expression,a,e,f,h);if(QueryFilters.isNumeric(g))"+"===
d[c].operator?b=QueryFilters.runSumFunction(b,g):"-"===d[c].operator&&(b=QueryFilters.runSubFunction(b,g));else return QueryFilters.ebvFalse()}return b}return QueryFilters.ebvFalse()};QueryFilters.runSumFunction=function(b,d){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(d))return QueryFilters.ebvError();var a=QueryFilters.effectiveTypeValue(b)+QueryFilters.effectiveTypeValue(d);return QueryFilters.isDouble(b)||QueryFilters.isDouble(d)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",
value:a}:QueryFilters.isFloat(b)||QueryFilters.isFloat(d)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:a}:QueryFilters.isDecimal(b)||QueryFilters.isDecimal(d)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:a}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:a}};QueryFilters.runSubFunction=function(b,d){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(d))return QueryFilters.ebvError();var a=QueryFilters.effectiveTypeValue(b)-
QueryFilters.effectiveTypeValue(d);return QueryFilters.isDouble(b)||QueryFilters.isDouble(d)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:a}:QueryFilters.isFloat(b)||QueryFilters.isFloat(d)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:a}:QueryFilters.isDecimal(b)||QueryFilters.isDecimal(d)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:a}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:a}};QueryFilters.runMultiplication=
function(b,d,a,e,f,h){b=QueryFilters.runFilter(b,a,e,f,h);if(QueryFilters.isEbvError(b))return b;var c=b;if(QueryFilters.isNumeric(b)){for(var g=0;g<d.length;g++){var k=QueryFilters.runFilter(d[g].expression,a,e,f,h);if(QueryFilters.isEbvError(k))return b;if(QueryFilters.isNumeric(k))"*"===d[g].operator?c=QueryFilters.runMulFunction(c,k):"/"===d[g].operator&&(c=QueryFilters.runDivFunction(c,k));else return QueryFilters.ebvFalse()}return c}return QueryFilters.ebvFalse()};QueryFilters.runMulFunction=
function(b,d){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(d))return QueryFilters.ebvError();var a=QueryFilters.effectiveTypeValue(b)*QueryFilters.effectiveTypeValue(d);return QueryFilters.isDouble(b)||QueryFilters.isDouble(d)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:a}:QueryFilters.isFloat(b)||QueryFilters.isFloat(d)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:a}:QueryFilters.isDecimal(b)||QueryFilters.isDecimal(d)?{token:"literal",
type:"http://www.w3.org/2001/XMLSchema#decimal",value:a}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:a}};QueryFilters.runDivFunction=function(b,d){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(d))return QueryFilters.ebvError();var a=QueryFilters.effectiveTypeValue(b)/QueryFilters.effectiveTypeValue(d);return QueryFilters.isDouble(b)||QueryFilters.isDouble(d)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:a}:QueryFilters.isFloat(b)||QueryFilters.isFloat(d)?
{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:a}:QueryFilters.isDecimal(b)||QueryFilters.isDecimal(d)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:a}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:a}};QueryFilters.runBuiltInCall=function(b,d,a,e,f,h){if("notexists"===b||"exists"===b){var c=k.clone(d[0],!0),c=e.abstractQueryTree.parseSelect({pattern:c},a),c=e.abstractQueryTree.bind(c.pattern,a);a=e.executeSelectUnit([{kind:"*"}],
f,c,h);return"exists"===b?QueryFilters.ebvBoolean(0!==a.length):QueryFilters.ebvBoolean(0===a.length)}for(var c=[],g=0;g<d.length;g++)if("var"===d[g].token)c.push(d[g]);else{var m=QueryFilters.runFilter(d[g],a,e,f,h);if(QueryFilters.isEbvError(m))return m;c.push(m)}if("str"===b)return"literal"===c[0].token?{token:"literal",type:null,value:""+c[0].value}:"uri"===c[0].token?{token:"literal",type:null,value:c[0].value}:QueryFilters.ebvFalse();if("lang"===b)return"literal"===c[0].token?null!=c[0].lang?
{token:"literal",value:""+c[0].lang}:{token:"literal",value:""}:QueryFilters.ebvError();if("datatype"===b)return"literal"===c[0].token?(b=c[0],null!=b.type?"string"===typeof b.type?{token:"uri",value:b.type,prefix:null,suffix:null}:b.type:null==b.lang?{token:"uri",value:"http://www.w3.org/2001/XMLSchema#string",prefix:null,suffix:null}:QueryFilters.ebvError()):QueryFilters.ebvError();if("isliteral"===b)return"literal"===c[0].token?QueryFilters.ebvTrue():QueryFilters.ebvFalse();if("isblank"===b)return"blank"===
c[0].token?QueryFilters.ebvTrue():QueryFilters.ebvFalse();if("isuri"===b||"isiri"===b)return"uri"===c[0].token?QueryFilters.ebvTrue():QueryFilters.ebvFalse();if("sameterm"===b)return b=QueryFilters.RDFTermEquality(c[0],c[1],e,h),QueryFilters.isEbvError(b)&&(b=!1),QueryFilters.ebvBoolean(b);if("langmatches"===b)return b=c[0],a=c[1],"literal"===b.token&&"literal"===a.token?"*"===a.value&&""!=b.value?QueryFilters.ebvTrue():QueryFilters.ebvBoolean(0===b.value.toLowerCase().indexOf(a.value.toLowerCase())):
QueryFilters.ebvError();if("bound"===b)return b=c[0].value,null==b?QueryFilters.ebvError():null!=a[b]?QueryFilters.ebvTrue():QueryFilters.ebvFalse();if(null!=e.customFns[b])return e.customFns[b](QueryFilters,c);throw"Builtin call "+b+" not implemented yet";};QueryFilters.runUnaryExpression=function(b,d,a,e,f,h){d=QueryFilters.runFilter(d,a,e,f,h);if(QueryFilters.isEbvError(d))return d;if("!"===b){var c=QueryFilters.ebv(d);return QueryFilters.isEbvError(c)?QueryFilters.ebvFalse():QueryFilters.ebvBoolean(!c)}if("+"===
b)return QueryFilters.isNumeric(d)?d:QueryFilters.ebvError();if("-"===b){if(QueryFilters.isNumeric(d)){b={};for(c in d)b[c]=d[c];b.value=-b.value;return b}return QueryFilters.ebvError()}};QueryFilters.runRegex=function(b,d,a,e,f,h,c){if(null!=b)b=QueryFilters.runFilter(b,e,f,h,c);else return QueryFilters.ebvError();if(null!=d)d=QueryFilters.runFilter(d,e,f,h,c);else return QueryFilters.ebvError();null!=a&&(a=QueryFilters.runFilter(a,e,f,h,c));if(null==d||"literal"!==d.token||null!=a&&"literal"!==
a.token)return QueryFilters.ebvError();d=d.value;a=null==a?null:a.value;if(null!=b&&"var"==b.token)if(null!=e[b.value])b=e[b.value];else return QueryFilters.ebvError();else if(null!=b&&"literal"===b.token)if(null==b.type||QueryFilters.isXsdType("string",b))b=b.value;else return QueryFilters.ebvError();else return QueryFilters.ebvError();return(null==a?new RegExp(d):new RegExp(d,a.toLowerCase())).exec(b)?QueryFilters.ebvTrue():QueryFilters.ebvFalse()};QueryFilters.normalizeLiteralDatatype=function(b,
d,a){null!=b.value.type&&"object"==typeof b.value.type&&(b.value.type=k.lexicalFormBaseUri(b.value.type,a));return b};QueryFilters.runIriRefOrFunction=function(b,d,a,e,f,h){if(null==d)return b;for(var c=[],g=0;g<d.length;g++)c.push(QueryFilters.runFilter(d[g],a,e,f,h));b=k.lexicalFormBaseUri(b,h);if("http://www.w3.org/2001/XMLSchema#integer"==b||"http://www.w3.org/2001/XMLSchema#decimal"==b||"http://www.w3.org/2001/XMLSchema#double"==b||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==b||"http://www.w3.org/2001/XMLSchema#negativeInteger"==
b||"http://www.w3.org/2001/XMLSchema#long"==b||"http://www.w3.org/2001/XMLSchema#int"==b||"http://www.w3.org/2001/XMLSchema#short"==b||"http://www.w3.org/2001/XMLSchema#byte"==b||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==b||"http://www.w3.org/2001/XMLSchema#unsignedLong"==b||"http://www.w3.org/2001/XMLSchema#unsignedInt"==b||"http://www.w3.org/2001/XMLSchema#unsignedShort"==b||"http://www.w3.org/2001/XMLSchema#unsignedByte"==b||"http://www.w3.org/2001/XMLSchema#positiveInteger"==b)if(c=
c[0],"literal"===c.token){c=QueryFilters.normalizeLiteralDatatype(c,e,h);if("http://www.w3.org/2001/XMLSchema#integer"==c.type||"http://www.w3.org/2001/XMLSchema#decimal"==c.type||"http://www.w3.org/2001/XMLSchema#double"==c.type||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==c.type||"http://www.w3.org/2001/XMLSchema#negativeInteger"==c.type||"http://www.w3.org/2001/XMLSchema#long"==c.type||"http://www.w3.org/2001/XMLSchema#int"==c.type||"http://www.w3.org/2001/XMLSchema#short"==c.type||
"http://www.w3.org/2001/XMLSchema#byte"==c.type||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==c.type||"http://www.w3.org/2001/XMLSchema#unsignedLong"==c.type||"http://www.w3.org/2001/XMLSchema#unsignedInt"==c.type||"http://www.w3.org/2001/XMLSchema#unsignedShort"==c.type||"http://www.w3.org/2001/XMLSchema#unsignedByte"==c.type||"http://www.w3.org/2001/XMLSchema#positiveInteger"==c.type)return c.type=b,c;if("http://www.w3.org/2001/XMLSchema#boolean"==c.type)return!0==QueryFilters.ebv(c)?
(c.type=b,c.value=1):(c.type=b,c.value=0),c;if("http://www.w3.org/2001/XMLSchema#float"==c.type||"http://www.w3.org/2001/XMLSchema#double"==c.type)return c.type=b,c.value=parseInt(c.value),c;if("http://www.w3.org/2001/XMLSchema#string"==c.type||null==c.type){if(2<c.value.split(".").length||2<c.value.split("-").length||2<c.value.split("/").length||2<c.value.split("+").length||"http://www.w3.org/2001/XMLSchema#decimal"==b&&(-1!=c.value.indexOf("e")||-1!=c.value.indexOf("E")))return QueryFilters.ebvError();
if("http://www.w3.org/2001/XMLSchema#int"==b||"http://www.w3.org/2001/XMLSchema#integer"==b)if(-1!=c.value.indexOf("e")||-1!=c.value.indexOf("E")||-1!=c.value.indexOf("."))return QueryFilters.ebvError();try{c.value=parseInt(parseFloat(c.value));if(isNaN(c.value))return QueryFilters.ebvError();c.type=b;return c}catch(m){return QueryFilters.ebvError()}}else return QueryFilters.ebvError()}else return QueryFilters.ebvError();else{if("http://www.w3.org/2001/XMLSchema#boolean"==b)return c=c[0],"literal"===
c.token&&null==c.type?"true"===c.value||"1"===c.value?QueryFilters.ebvTrue():"false"===c.value||"0"===c.value?QueryFilters.ebvFalse():QueryFilters.ebvError():"literal"===c.token?QueryFilters.isEbvError(c)?c:QueryFilters.ebvBoolean(c):QueryFilters.ebvError();if("http://www.w3.org/2001/XMLSchema#string"==b)return c=c[0],"literal"===c.token?(c=QueryFilters.normalizeLiteralDatatype(c,e,h),"http://www.w3.org/2001/XMLSchema#integer"==c.type||"http://www.w3.org/2001/XMLSchema#decimal"==c.type||"http://www.w3.org/2001/XMLSchema#double"==
c.type||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==c.type||"http://www.w3.org/2001/XMLSchema#negativeInteger"==c.type||"http://www.w3.org/2001/XMLSchema#long"==c.type||"http://www.w3.org/2001/XMLSchema#int"==c.type||"http://www.w3.org/2001/XMLSchema#short"==c.type||"http://www.w3.org/2001/XMLSchema#byte"==c.type||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==c.type||"http://www.w3.org/2001/XMLSchema#unsignedLong"==c.type||"http://www.w3.org/2001/XMLSchema#unsignedInt"==c.type||
"http://www.w3.org/2001/XMLSchema#unsignedShort"==c.type||"http://www.w3.org/2001/XMLSchema#unsignedByte"==c.type||"http://www.w3.org/2001/XMLSchema#positiveInteger"==c.type||"http://www.w3.org/2001/XMLSchema#float"==c.type?(c.type=b,c.value=""+c.value,c):"http://www.w3.org/2001/XMLSchema#string"==c.type?c:"http://www.w3.org/2001/XMLSchema#boolean"==c.type?(QueryFilters.ebv(c)?(c.type=b,c.value="true"):(c.type=b,c.value="false"),c):"http://www.w3.org/2001/XMLSchema#dateTime"==c.type||"http://www.w3.org/2001/XMLSchema#date"==
c.type?(c.type=b,"string"!=typeof c.value&&(c.value=k.iso8601(c.value)),c):null==c.type?(c.value=""+c.value,c.type=b,c):QueryFilters.ebvError()):"uri"===c.token?{token:"literal",value:k.lexicalFormBaseUri(c,h),type:b,lang:null}:QueryFilters.ebvError();if("http://www.w3.org/2001/XMLSchema#dateTime"==b||"http://www.w3.org/2001/XMLSchema#date"==b){c=c[0];if("http://www.w3.org/2001/XMLSchema#dateTime"==c.type||"http://www.w3.org/2001/XMLSchema#date"==c.type)return c;if("http://www.w3.org/2001/XMLSchema#string"==
c.type||null==c.type)try{return c.value=k.iso8601(k.parseISO8601(c.value)),c.type=b,c}catch(l){return QueryFilters.ebvError()}else return QueryFilters.ebvError()}else if("http://www.w3.org/2001/XMLSchema#float"==b)if(c=c[0],"literal"===c.token){c=QueryFilters.normalizeLiteralDatatype(c,e,h);if("http://www.w3.org/2001/XMLSchema#decimal"==c.type||"http://www.w3.org/2001/XMLSchema#int"==c.type)return c.type=b,c.value=parseFloat(c.value),c;if("http://www.w3.org/2001/XMLSchema#boolean"==c.type)return!0==
QueryFilters.ebv(c)?(c.type=b,c.value=1):(c.type=b,c.value=0),c;if("http://www.w3.org/2001/XMLSchema#float"==c.type||"http://www.w3.org/2001/XMLSchema#double"==c.type)return c.type=b,c.value=parseFloat(c.value),c;if("http://www.w3.org/2001/XMLSchema#string"==c.type)try{c.value=parseFloat(c.value);if(isNaN(c.value))return QueryFilters.ebvError();c.type=b;return c}catch(r){return QueryFilters.ebvError()}else if(null==c.type){if(2<c.value.split(".").length||2<c.value.split("-").length||2<c.value.split("/").length||
2<c.value.split("+").length)return QueryFilters.ebvError();try{c.value=parseFloat(c.value);if(isNaN(c.value))return QueryFilters.ebvError();c.type=b;return c}catch(q){return QueryFilters.ebvError()}}else return QueryFilters.ebvError()}else return QueryFilters.ebvError();else return QueryFilters.ebvError()}};z.exports={QueryFilters:QueryFilters}},{"./utils":62}],58:[function(q,z,u){var k=q("./utils"),n=q("./utils"),b={variablesInBGP:function(b){var a=b.variables;if(a)return a;var e=b.value||b,a=[],
f;for(f in e)e[f]&&"var"===e[f].token?a.push(e[f].value):e[f]&&"blank"===e[f].token&&a.push("blank:"+e[f].value);return b.variables=a},connected:function(b,a){for(var e="/"+b.vars.join("/")+"/",f=0;f<a.vars.length;f++)if(-1!=e.indexOf("/"+a.vars[f]+"/"))return!0;return!1},variablesIntersectionBGP:function(d,a){for(var e=b.variablesInBGP(d),f=b.variablesInBGP(a),h={},c=0;c<e.lenght;c++)h[e[c]]=1;for(c=0;c<f.length;c++)e=h[f[c]]||0,e++,h[f[c]]=e;var f=[],g;for(g in h)2==h[g]&&f.push(h[g]);return f},
executeAndBGPsGroups:function(d){for(var a={},e={},f=0,h=function(a,b){for(var c=0;c<a.length;c++)if(-1!=b.indexOf("/"+a[c]+"/"))return!0;return!1},c=function(b,c,d,f){var g=[],h="",k="",l;for(l in c)h+=l,g=g.concat(a[l]),k+=e[l];k=k+q.join("/")+"/";g.push(b);d[h]=g;f[h]=k},g=0;g<d.length;g++){var m=d[g],l={},r={},q=b.variablesInBGP(m),n={},v;for(v in e)h(q,e[v])?n[v]=!0:(l[v]=a[v],r[v]=e[v]);0===k.size(n)?(l["g"+f]=[m],r["g"+f]="/"+q.join("/")+"/",f++):c(m,n,l,r);a=l;e=r}return k.values(a)},intersectionSize:function(b,
a){for(var e=a.i.split("_"),f=0;f<e.length;f++)if(""!=e[f]&&-1!=b.i.indexOf("_"+e[f]+"_"))return 1;return 0},createJoinTree:function(b,a){for(var e="/"+b.vars.join("/")+"/",f=b.vars.concat([]),h=[],c=0;c<a.vars.length;c++)-1!=e.indexOf("/"+a.vars[c]+"/")?0==a.vars[c].indexOf("_:")?h.push("blank:"+a.vars[c]):h.push(a.vars[c]):f.push(a.vars[c]);for(var e=a.i.split("_"),g=b.i.split("_"),m={},c=0;c<e.length;c++)""!=e[c]&&(m[e[c]]=!0);for(c=0;c<g.length;c++)""!=g[c]&&(m[g[c]]=!0);c=k.keys(m);return{left:b,
right:a,cost:b.cost+a.cost,i:"_"+c.sort().join("_")+"_",vars:f,join:h}},executeBushyTree:function(d,a,e,f,h){null==d.left?b.executeEmptyJoinBGP(d.right,a,e,f,h):null==d.right?b.executeEmptyJoinBGP(d.left,a,e,f,h):b.executeBushyTree(d.left,a,e,f,function(c){null!=c?b.executeBushyTree(d.right,a,e,f,function(a){null!=a?h(b.joinBindings2(d.join,c,a)):h(null)}):h(null)})},executeAndBGPsDPSize:function(d,a,e,f,h){d=b.executeAndBGPsGroups(d);var c=[];n.eachSeries(d,function(a,d){e.computeCosts(a,f,function(a){var e=
{},f={},g={},h=1,k=null,q={};g["1"]=[];for(var n=0;n<a.length;n++){h=[];delete a[n].variables;for(var u in a[n])"_cost"!=u&&("var"===a[n][u].token?h.push(a[n][u].value):"blank"===a[n][u].token&&h.push(a[n][u].value));f["_"+n+"_"]={left:a[n],right:null,cost:a[n]._cost,i:"_"+n+"_",vars:h};h={left:a[n],right:null,cost:a[n]._cost,i:"_"+n+"_",vars:h};e["_"+n+"_"]=h;delete a[n]._cost;q["_"+n+"_"]=!0;g["1"].push("_"+n+"_");if(null==k||k.cost>h.cost)k=h}for(u=2;u<=a.length;u++)for(var z=1;z<u;z++)for(var s=
g[""+z]||[],t=g[""+(u-z)]||[],n=0;n<s.length;n++)for(var w=0;w<t.length;w++)if(s[n]!==t[w]){var y=f[s[n]],B=f[t[w]];if(0==b.intersectionSize(y,B)&&b.connected(y,B)&&(h=u,y=b.createJoinTree(e[y.i],e[B.i]),!q[y.i])){q[y.i]=!0;B=y.cost+1;null!=e[y.i]&&(B=e[y.i].cost);var L=g[u]||[];L.push(y.i);f[y.i]=y;g[u]=L;B>y.cost&&(h===u&&(k=y),e[y.i]=y)}}c.push(k);d()})},function(){var d=null;n.eachSeries(c,function(c,h){b.executeBushyTree(c,a,e,f,function(a){a?(d=null==d?a:b.crossProductBindings(d,a),h()):h("Error executing bushy tree")})},
function(a){a?h(null,a):h(d)})})},executeEmptyJoinBGP:function(d,a,e,f,h){return b.executeBGPDatasets(d,a,e,f,h)},executeBGPDatasets:function(d,a,e,f,h){var c={};if(null==d.graph){var g=[];n.eachSeries(a.implicit,function(a,h){null==c[a.oid]?(c[a.oid]=!0,d.graph=a,e.rangeQuery(d,f,function(a){a=b.buildBindingsFromRange(a,d);g.push(a);h()})):h()},function(){var a=b.unionManyBindings(g);h(a)})}else if("var"===d.graph.token){var k=d.graph.value,g=[];n.eachSeries(a.named,function(h,n){null==c[h.oid]&&
(c[h.oid]=!0,d.graph=h,null!=g?e.rangeQuery(d,f,function(c){if(null!=c){c=b.buildBindingsFromRange(c,d);for(var e=0;e<c.length;e++)c[e][k]=a.named[i].oid;g.push(c)}else g=null;n()}):n())},function(){if(null==g)h(null);else{var a=b.unionManyBindings(g);h(a)}})}else e.rangeQuery(d,f,function(a){null!=a?(a=b.buildBindingsFromRange(a,d),h(a)):h(null)})},buildBindingsFromRange:function(d,a){b.variablesInBGP(a);var e=a.value||a,f={};for(l in e)e[l]&&"var"===e[l].token?f[l]=e[l].value:e[l]&&"blank"===e[l].token&&
(f[l]="blank:"+e[l].value);e=[];if(null!=d)for(var h=0;h<d.length;h++){var c={},g=d[h],k=!1,l;for(l in f){var n=g[l];if(null==c[f[l]]||c[f[l]]===n)c[f[l]]=n;else{k=!0;break}}k||e.push(c)}return e},areCompatibleBindings:function(b,a){for(var e in b)if(null!=a[e]&&a[e]!=b[e])return!1;return!0},mergeBindings:function(b,a){var e={},f;for(f in b)e[f]=b[f];for(f in a)e[f]=a[f];return e},joinBindings2:function(d,a,e){for(var f={},h,c,g,k,l=[],n=0;n<a.length;n++){h=a[n];k=f;for(var q=0;q<d.length;q++)c=d[q],
c=h[c],q==d.length-1?(g=k[c]||[],g.push(h),k[c]=g):(g=k[c]||{},k=k[c]=g)}for(n=0;n<e.length;n++)for(h=e[n],k=f,q=0;q<d.length;q++)if(c=d[q],c=h[c],null!=k[c])if(q==d.length-1)for(a=0;a<k[c].length;a++)l.push(b.mergeBindings(k[c][a],h));else k=k[c];return l},joinBindings:function(d,a){for(var e=[],f=0;f<d.length;f++)for(var h=d[f],c=0;c<a.length;c++){var g=a[c];b.areCompatibleBindings(h,g)&&e.push(b.mergeBindings(h,g))}return e},augmentMissingBindings:function(b,a){for(var e in a)null==b[e]&&(b[e]=
null);return b},leftOuterJoinBindings:function(d,a){for(var e=[],f=0;f<d.length;f++){for(var h=d[f],c=!1,g=0;g<a.length;g++){var k=a[g];b.areCompatibleBindings(h,k)&&(c=!0,e.push(b.mergeBindings(h,k)))}!1===c&&(b.augmentMissingBindings(h,k),e.push(h))}return e},crossProductBindings:function(d,a){for(var e=[],f=0;f<d.length;f++)for(var h=d[f],c=0;c<a.length;c++)e.push(b.mergeBindings(h,a[c]));return e},unionBindings:function(b,a){return b.concat(a)},unionManyBindings:function(d){for(var a=[],e=0;e<
d.length;e++)a=b.unionBindings(a,d[e]);return a}};z.exports={QueryPlan:b}},{"./utils":62}],59:[function(q,z,u){var k=q("./network_transport").NetworkTransport,n=q("./rvn3_parser").RVN3Parser,b=q("./jsonld_parser").JSONLDParser,d=q("./utils");u=function(a){this.precedences=["text/turtle","text/n3","application/ld+json","application/json"];this.parsers={"text/turtle":n.parser,"text/n3":n.parser,"application/ld+json":b.parser,"application/json":b.parser};"undefined"!==typeof RDFXMLParser&&(this.precedences.push("application/rdf+xml"),
this.parsers["application/rdf+xml"]=RDFXMLParser.parser);if(null!=a)for(var e in a.parsers)this.parsers[e]=a.parsers[e];if(a&&null!=a.precedences)for(e in this.precedences=a.precedences,a.parsers)d.include(this.precedences,e)||this.precedences.push(e);this.acceptHeaderValue="";for(a=0;a<this.precedences.length;a++)this.acceptHeaderValue=0!=a?this.acceptHeaderValue+","+this.precedences[a]:this.acceptHeaderValue+this.precedences[a]};u.prototype.registerParser=function(a,b){this.parsers[a]=b;this.precedences.push(a)};
u.prototype.unregisterParser=function(a){delete this.parsers[a];for(var b=[],d=0;d<this.precedences.length;d++)this.precedences[d]!=a&&b.push(this.precedences[d]);this.precedences=b};u.prototype.setAcceptHeaderPrecedence=function(a){this.precedences=a};u.prototype.load=function(a,b,d){var h=this;k.load(a,this.acceptHeaderValue,function(c,g){if(c)d(c);else{var k=g.headers["Content-Type"]||g.headers["content-type"],l=g.data;if(null!=k){var k=k.split(";")[0],n;for(n in h.parsers)if(-1!=n.indexOf("/")){var q=
n.split("/");if("*"===q[1]){if(-1!=k.indexOf(q[0]))return h.tryToParse(h.parsers[n],b,l,{documentURI:a},d)}else if(-1!=k.indexOf(n)||-1!=k.indexOf(q[1]))return h.tryToParse(h.parsers[n],b,l,{documentURI:a},d)}else if(-1!=k.indexOf(n))return h.tryToParse(h.parsers[n],b,l,{documentURI:a},d);d(Error("Unknown media type : "+k))}else d(Error("Uknown media type"))}})};u.prototype.loadFromFile=function(a,b,d,h){try{var c=this;q("fs").readFile(d.split("file:/")[1],function(g,k){g?h(g):(k=k.toString("utf8"),
c.tryToParse(a,b,k,{documentURI:d},h))})}catch(g){h(g)}};u.prototype.tryToParse=function(a,b,f,h,c){try{"string"===typeof f&&(f=d.normalizeUnicodeLiterals(f)),a.parse(f,b,h,c)}catch(g){console.log(g.message),console.log(g.stack),c(g)}};z.exports={RDFLoader:u}},{"./jsonld_parser":48,"./network_transport":50,"./rvn3_parser":61,"./utils":62,fs:2}],60:[function(q,z,u){var k=q("./utils"),n=q("./query_filters").QueryFilters;RDFModel={defaultContext:{rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",
owl:"http://www.w3.org/2002/07/owl#",xsd:"http://www.w3.org/2001/XMLSchema#",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",cal:"http://www.w3.org/2002/12/cal/ical#",vcard:"http://www.w3.org/2006/vcard/ns# ",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",cc:"http://creativecommons.org/ns#",sioc:"http://rdfs.org/sioc/ns#",doap:"http://usefulinc.com/ns/doap#",com:"http://purl.org/commerce#",ps:"http://purl.org/payswarm#",gr:"http://purl.org/goodrelations/v1#",sig:"http://purl.org/signature#",
ccard:"http://purl.org/commerce/creditcard#"},UrisMap:function(){this.defaultNs="";this.interfaceProperties="get remove set setDefault addAll resolve shrink".split(" ")}};RDFModel.UrisMap.prototype.values=function(){var b={},d;for(d in this)k.include(this.interfaceProperties,d)||"function"===typeof this[d]||"defaultNs"===d||"interfaceProperties"===d||(b[d]=this[d]);return b};RDFModel.UrisMap.prototype.get=function(b){if(-1!=b.indexOf(" "))throw"Prefix must not contain any whitespaces";return this[b]};
RDFModel.UrisMap.prototype.remove=function(b){if(-1!=b.indexOf(" "))throw"Prefix must not contain any whitespaces";delete this[b];return null};RDFModel.UrisMap.prototype.set=function(b,d){if(-1!=b.indexOf(" "))throw"Prefix must not contain any whitespaces";this[b]=d};RDFModel.UrisMap.prototype.setDefault=function(b){this.defaultNs=b};RDFModel.UrisMap.prototype.addAll=function(b,d){for(var a in b)k.include(this.interfaceProperties,a)||(null!=this[a]?!0===d&&(this[a]=b[a]):this[a]=b[a]);return this};
RDFModel.UrisMap.prototype.resolve=function(b){var d=b.split(":");b=d[0];d=d[1];return""===b?null==this.defaultNs?null:this.defaultNs+d:null!=this[b]?this[b]+d:null};RDFModel.UrisMap.prototype.shrink=function(b){for(var d in this){var a=this[d];if(0===b.indexOf(a)&&""!==a&&"defaultNs"!=d)return b=b.split(a)[1],d+":"+b}return b};RDFModel.Profile=function(){this.prefixes=new RDFModel.UrisMap;this.terms=new RDFModel.UrisMap};RDFModel.Profile.prototype.importProfile=function(b,d){this.prefixes.addAll(b.prefixes,
d);this.terms.addAll(b.terms,d)};RDFModel.Profile.prototype.resolve=function(b){return-1!=b.indexOf(":")?this.prefixes.resolve(b):null!=this.terms[b]?this.terms.resolve(b):null};RDFModel.Profile.prototype.setDefaultPrefix=function(b){this.prefixes.setDefault(b)};RDFModel.Profile.prototype.setDefaultVocabulary=function(b){this.terms.setDefault(b)};RDFModel.Profile.prototype.setPrefix=function(b,d){this.prefixes.set(b,d)};RDFModel.Profile.prototype.setTerm=function(b,d){this.terms.set(b,d)};RDFModel.RDFEnvironment=
function(){RDFModel.Profile.call(this);this.blankNodeCounter=0;var b=this;this.filters={s:function(a){return function(b){return b.subject.equals(a)}},p:function(a){return function(b){return b.predicate.equals(a)}},o:function(a){return function(b){return b.object.equals(a)}},sp:function(a,b){return function(d){return d.subject.equals(a)&&d.predicate.equals(b)}},so:function(a,b){return function(d){return d.subject.equals(a)&&d.object.equals(b)}},po:function(a,b){return function(d){return d.predicate.equals(a)&&
d.object.equals(b)}},spo:function(a,b,d){return function(h){return h.subject.equals(a)&&h.predicate.equals(b)&&h.object.equals(d)}},describes:function(a){return function(b){return b.subject.equals(a)||b.object.equals(a)}},type:function(a){var e=b.resolve("rdf:type");return function(b){return b.predicate.equals(e)&&b.object.equals(a)}}};for(var d in RDFModel.defaultContext)this.prefixes.set(d,RDFModel.defaultContext[d])};RDFModel.RDFEnvironment.prototype=k.create(RDFModel.Profile.prototype,{constructor:RDFModel.RDFEnvironment});
RDFModel.RDFEnvironment.prototype.createBlankNode=function(){var b=new RDFModel.BlankNode(this.blankNodeCounter);this.blankNodeCounter++;return b};RDFModel.RDFEnvironment.prototype.createNamedNode=function(b){var d=this.resolve(b);return null!=d?new RDFModel.NamedNode(d):new RDFModel.NamedNode(b)};RDFModel.RDFEnvironment.prototype.createLiteral=function(b,d,a){return null!=a?new RDFModel.Literal(b,d,a.toString()):new RDFModel.Literal(b,d,a)};RDFModel.RDFEnvironment.prototype.createTriple=function(b,
d,a){return new RDFModel.Triple(b,d,a)};RDFModel.RDFEnvironment.prototype.createGraph=function(b){var d=new RDFModel.Graph;if(null!=b)for(var a=0;a<b.length;a++)d.add(b[a]);return d};RDFModel.RDFEnvironment.prototype.createAction=function(b,d){return function(a){return b(a)?d(a):a}};RDFModel.RDFEnvironment.prototype.createProfile=function(b){if(!0===b)return new RDFModel.RDFEnvironment.Profile;b=new RDFModel.RDFEnvironment.Profile;b.importProfile(this);return b};RDFModel.RDFEnvironment.prototype.createTermMap=
function(b){if(!0===b)return new RDFModel.UrisMap;b=this.terms.values();var d=new RDFModel.UrisMap,a;for(a in b)d[a]=b[a];return d};RDFModel.RDFEnvironment.prototype.createPrefixMap=function(b){if(!0===b)return new RDFModel.UrisMap;b=this.prefixes.values();var d=new RDFModel.UrisMap,a;for(a in b)d[a]=b[a];return d};RDFModel.RDFNode=function(b){this.interfaceName=b;this.attributes=["interfaceName","nominalValue"]};RDFModel.RDFNode.prototype.equals=function(b){if(null==b.interfaceName)return this.valueOf()==
b;for(var d in this.attributes){var a=this.attributes[d];if(this[a]!=b[a])return!1}return!0};RDFModel.BlankNode=function(b){RDFModel.RDFNode.call(this,"BlankNode");this.nominalValue="_:"+b;this.bnodeId=b};RDFModel.BlankNode.prototype=k.create(RDFModel.RDFNode.prototype,{constructor:RDFModel.BlankNode});RDFModel.BlankNode.prototype.toString=function(){return this.nominalValue};RDFModel.BlankNode.prototype.toNT=function(){return this.nominalValue};RDFModel.BlankNode.prototype.valueOf=function(){return this.nominalValue};
RDFModel.Literal=function(b,d,a){RDFModel.RDFNode.call(this,"Literal");this.nominalValue=b;null!=d?this.language=d:null!=a&&(this.datatype=a)};RDFModel.Literal.prototype=k.create(RDFModel.RDFNode.prototype,{constructor:RDFModel.Literal});RDFModel.Literal.prototype.toString=function(){var b='"'+this.nominalValue+'"';if(null!=this.language)b=b+"@"+this.language;else if(null!=this.datatype||this.type)b=b+"^^<"+(this.datatype||this.type)+">";return b};RDFModel.Literal.prototype.toNT=function(){return this.toString()};
RDFModel.Literal.prototype.valueOf=function(){return n.effectiveTypeValue({token:"literal",type:this.type||this.datatype,value:this.nominalValue,language:this.language})};RDFModel.NamedNode=function(b){RDFModel.RDFNode.call(this,"NamedNode");this.nominalValue=null!=b.value?b.value:b};RDFModel.NamedNode.prototype=k.create(RDFModel.RDFNode.prototype,{constructor:RDFModel.NamedNode});RDFModel.NamedNode.prototype.toString=function(){return this.nominalValue};RDFModel.NamedNode.prototype.toNT=function(){return"<"+
this.toString()+">"};RDFModel.NamedNode.prototype.valueOf=function(){return this.nominalValue};RDFModel.Triple=function(b,d,a){this.subject=b;this.predicate=d;this.object=a};RDFModel.Triple.prototype.equals=function(b){return this.subject.equals(b.subject)&&this.predicate.equals(b.predicate)&&this.object.equals(b.object)};RDFModel.Triple.prototype.toString=function(){return this.subject.toNT()+" "+this.predicate.toNT()+" "+this.object.toNT()+" . \r\n"};RDFModel.Graph=function(){this.triples=[];this.duplicates=
{};this.actions=[];this.length=0};RDFModel.Graph.prototype.add=function(b){for(var d=0;d<this.actions.length;d++)b=this.actions[d](b);d=b.subject.toString()+b.predicate.toString()+b.object.toString();this.duplicates[d]||(this.duplicates[d]=!0,this.triples.push(b));this.length=this.triples.length;return this};RDFModel.Graph.prototype.addAction=function(b,d){this.actions.push(b);if(!0==d)for(var a=0;a<this.triples.length;a++)this.triples[a]=b(this.triples[a]);return this};RDFModel.Graph.prototype.addAll=
function(b){b=b.toArray();for(var d=0;d<b.length;d++)this.add(b[d]);this.length=this.triples.length;return this};RDFModel.Graph.prototype.remove=function(b){for(var d=null,a=0;a<this.triples.length;a++)if(this.triples[a].equals(b)){delete this.duplicates[b.subject.toString()+b.predicate.toString()+b.object.toString()];d=a;break}null!=d&&this.triples.splice(d,1);this.length=this.triples.length;return this};RDFModel.Graph.prototype.toArray=function(){return this.triples};RDFModel.Graph.prototype.some=
function(b){for(var d=0;d<this.triples.length;d++)if(!0===b(this.triples[d],this))return!0;return!1};RDFModel.Graph.prototype.every=function(b){for(var d=0;d<this.triples.length;d++)if(!1===b(this.triples[d],this))return!1;return!0};RDFModel.Graph.prototype.filter=function(b){for(var d=new RDFModel.Graph,a=0;a<this.triples.length;a++)!0===b(this.triples[a],this)&&d.add(this.triples[a]);return d};RDFModel.Graph.prototype.forEach=function(b){for(var d=0;d<this.triples.length;d++)b(this.triples[d],this)};
RDFModel.Graph.prototype.merge=function(b){b=new RDFModel.Graph;for(var d=0;d<this.triples.length;d++)b.add(this.triples[d]);return b};RDFModel.Graph.prototype.match=function(b,d,a,e){for(var f=new RDFModel.Graph,h=0,c=0;c<this.triples.length;c++){var g=this.triples[c];if(null==b||g.subject.equals(b))if(null==d||g.predicate.equals(d))if(null==a||g.object.equals(a))if(null==e||h<e)h++,f.add(g);else break}return f};RDFModel.Graph.prototype.removeMatches=function(b,d,a){for(var e=[],f=0;f<this.triples.length;f++){var h=
this.triples[f];if(null==b||h.subject.equals(b))null!=d&&!h.predicate.equals(d)||null!=a&&!h.object.equals(a)||e.push(h)}for(f=0;f<e.length;f++)this.remove(e[f]);return this};RDFModel.Graph.prototype.toNT=function(){var b="";this.forEach(function(d){b+=d.toString()});return b};RDFModel.buildRDFResource=function(b,d,a,e){return"blank"===b.token?RDFModel.buildBlankNode(b,d,a,e):"literal"===b.token?RDFModel.buildLiteral(b,d,a,e):"uri"===b.token?RDFModel.buildNamedNode(b,d,a,e):"var"===b.token?(b=d[b.value],
null!=b?RDFModel.buildRDFResource(b,d,a,e):null):null};RDFModel.buildBlankNode=function(b,d,a,e){null!=b.valuetmp&&(b.value=b.valuetmp);0===b.value.indexOf("_:")&&(b.value=b.value.split("_:")[1]);return new RDFModel.BlankNode(b.value)};RDFModel.buildLiteral=function(b,d,a,e){return new RDFModel.Literal(b.value,b.lang,b.type)};RDFModel.buildNamedNode=function(b,d,a,e){null==b.value&&null!=b.prefix&&(d=a.resolveNsInEnvironment(b.prefix,e),b.value=d+b.suffix);return new RDFModel.NamedNode(b)};RDFModel.rdf=
new RDFModel.RDFEnvironment;z.exports=RDFModel},{"./query_filters":57,"./utils":62}],61:[function(q,z,u){function k(b){switch(b[0]){case '"':return 0<b.indexOf("^^")?(b=b.split("^^"),{literal:b[0]+"^^<"+b[1]+">"}):{literal:b};case "_":return{blank:b.replace("b","")};default:return{token:"uri",value:b,prefix:null,suffix:null}}}var n=q("../node_modules/n3/lib/N3Parser");z.exports={RVN3Parser:{parser:{async:!0,parse:function(b,d,a,e){e||(e=a,a=d,d=null);d&&"string"===typeof d&&(d={token:"uri",value:d,
prefix:null,suffix:null});a&&a.baseURI&&(a.documentIRI=a.baseURI);var f=[];(new n(a)).parse(b,function(a,b){a?e(a):b?f.push({subject:k(b.subject),predicate:k(b.predicate),object:k(b.object),graph:d}):e(!1,f)})},resetBlankNodeIds:function(){n._resetBlankNodeIds()}}}}},{"../node_modules/n3/lib/N3Parser":44}],62:[function(q,z,u){(function(k){var n=function(){var a=null;"undefined"!==typeof window?a=window:"undefined"!==typeof k&&(a=k);var b="undefined"!==typeof a&&a.postMessage&&a.addEventListener;if("undefined"!==
typeof a&&a.setImmediate)return function(b){return a.setImmediate(b)};if("undefined"!==a&&a.nextTick&&"function"===typeof q)return q("timers")&&q("timers").setImmediate?q("timers").setImmediate:a.nextTick;if(b){var c=[];a.addEventListener("message",function(b){var e=b.source;e!==a&&null!==e||"process-tick"!==b.data||(b.stopPropagation(),0<c.length&&c.shift()())},!0);return function(b){c.push(b);a.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}(),b=function(a){try{if(null==a)return"";
if("uri"===a.token)return"u"+a.value;if("blank"===a.token)return"b"+a.value;if("literal"===a.token){var b="l"+a.value,b=b+(a.type||"");return b+=a.lang||""}}catch(c){if("object"===typeof a){b="";for(p in a)b=b+p+a[p];return b}return a}};parseISO8601=function(a){return Date.parse(a)};Date.prototype.toISOString||function(){function a(b){return 10>b?"0"+b:b}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+
":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"."+(this.getUTCMilliseconds()/1E3).toFixed(3).slice(2,5)+"Z"}}();iso8601=function(a){return a.toISOString()};compareDateComponents=function(a,b){var c=parseISO8601(a),e=parseISO8601(b);return c==e?0:c<e?-1:1};lexicalFormLiteral=function(a,b){var c=a.value,e=a.lang,d=a.type,f=null;null!=c&&null!=d&&"string"!=typeof d?(c=d.value,null==c&&(c=d.suffix,d=b.namespaces[d.prefix],a.type=d+c,c=d+c),f=-1!=c.indexOf("hexBinary")?'"'+a.value.toLowerCase()+
'"^^<'+c+">":'"'+a.value+'"^^<'+c+">"):f=null==e&&null==d?'"'+c+'"':null==d?'"'+c+'"@'+e:-1!=d.indexOf("hexBinary")?'"'+a.value.toLowerCase()+'"^^<'+d+">":'"'+a.value+'"^^<'+d+">";return f};normalizeUnicodeLiterals=function(a){for(var b=a.match(/\\u[0-9abcdefABCDEF]{4,4}/g)||[],c={},d=0;d<b.length;d++)null==c[b[d]]&&(c[b[d]]=!0,a=a.replace(new RegExp("\\"+b[d],"g"),eval("'"+b[d]+"'")));return a};registerIndexedDB=function(a){if("undefined"===typeof window){var b=q("sqlite3"),c=q("indexeddb-js"),b=
new b.Database(":memory:"),c=c.makeScope("sqlite3",b);a.indexedDB=c.indexedDB;a.IDBKeyRange=c.IDBKeyRange}else window.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,window.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange||window.msIDBKeyRange,window.indexedDB?(a.indexedDB=window.indexedDB,a.IDBKeyRange=window.IDBKeyRange):callback(null,Error("The browser does not support IndexDB."))};var b=function(a){try{if(null==a)return"";if("uri"===a.token)return"u"+
a.value;if("blank"===a.token)return"b"+a.value;if("literal"===a.token){var b="l"+a.value,b=b+(a.type||"");return b+=a.lang||""}}catch(c){if("object"===typeof a){b="";for(p in a)b=b+p+a[p];return b}return a}},d=function(a,b){for(var c=[],d=0;d<a.length;d++)b(a[d])&&c.push(a[d]);return c},a=function(a,b){if(a.forEach)a.forEach(b);else for(var c=0;c<a.length;c++)b(a[c])};clone=function(a){return JSON.parse(JSON.stringify(a))};var e=function(){function a(){}return function(b){var c=typeof b;if("function"==
c||b&&"object"==c){a.prototype=b;var d=new a;a.prototype=null}return d||void 0}}(),f=function(a,b,c){a()?b(function(d){if(d)return c(d);f(a,b,c)}):c()},h=function(a,b,c){c=c||function(){};if(!a.length)return c();var d=0,e=function(){b(a[d],function(b){b?(c(b),c=function(){}):(d+=1,d>=a.length?c():e())})};e()},c=function(a,b,c,d){h(a,function(a,d){c(b,a,function(a,c){b=c;d(a)})},function(a){d(a,b)})};z.exports={nextTick:n,hasTerm:b,lexicalFormBaseUri:function(a,b){var c=null;b=b||{};if(null==a.value)var c=
a.prefix,d=a.suffix,e=b.namespaces[c],c=null!=e?e+d:c+":"+d;else c=a.value;if(null===c)return null;-1==c.indexOf(":")&&(c=(b.base||"")+c);return c},parseISO8601:parseISO8601,compareDateComponents:compareDateComponents,iso8601:iso8601,normalizeUnicodeLiterals:normalizeUnicodeLiterals,lexicalFormLiteral:lexicalFormLiteral,registerIndexedDB:registerIndexedDB,guid:function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+
a()+a()},hashTerm:b,keys:function(a){var b=[],c;for(c in a)b.push(c);return b},values:function(a){var b=[],c;for(c in a)b.push(a[c]);return b},size:function(a){if(a.length)return a.length;var b=0,c;for(c in a)b++;return b},map:function(a,b){if(a.map)return a.map(b);for(var c=[],d=0;d<a.length;d++)c[d]=b(a[d]);return c},each:a,forEach:a,include:function(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return!0;return!1},reject:d,remove:d,clone:clone,create:e,whilst:f,eachSeries:h,seq:function(){var a=arguments;
return function(){var b=this,d=Array.prototype.slice.call(arguments),e=d.pop();c(a,d,function(a,c,d){c.apply(b,a.concat([function(){var a=arguments[0],b=Array.prototype.slice.call(arguments,1);d(a,b)}]))},function(a,c){e.apply(b,[a].concat(c))})}}}}).call(this,q("_process"))},{_process:16,"indexeddb-js":void 0,sqlite3:void 0,timers:34}]},{},[1])(1)});
